<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, ." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />



<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>

</head>
<body>
<header>


<p>
last updated:
</p>
</header>

<div class="bodywithoutsidetoc" >


<div class="bodycontainer" >


<section class="textbody" >

<a id="notes_1-autofile-0"></a>

<!--MathJax customizations:-->


<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<a id="notes_1-autopage-1"></a>
<div class="titlepage" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>


<div class="author" >


<div class="oneauthor" >

<p>
Dr Nic Freeman
</p>
</div>

</div>


<div class="titledate" >

<p>
September 23, 2020
</p>
</div>

</div>
<h3 id="autosec-3">Contents</h3>
<a id="notes_1-autopage-3"></a>




<nav class="toc" >

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>
</nav>

</section>

</div>

</div>

</body>
</html>
<!--|Start file|Introduction.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Introduction</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-4"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h3 id="autosec-5">Chapter&nbsp;<span class="sectionnumber" >0&#x2003;</span>Introduction</h3>
<a id="notes_1-autopage-5"></a>
<a id="notes_1-autofile-1"></a>

<p>
We live in a random world: we cannot be certain of tomorrows weather or what the price of petrol will be next year – but randomness is never ‘completely’ random. Often we know, or rather, believe that some
events are likely and others are unlikely. We might think that two events are both possible, but are unlikely to occur together, and so on.
</p>

<p>
How should we handle this situation? Naturally, we would like to understand the world around us and, when possible, to anticipate what might happen in the future. This necessitates that we study the variety of
random processes that we find around us.
</p>

<p>
We will see many and varied examples of random processes throughout this course, although we will tend to call them <i>stochastic processes</i> (with the same meaning). They reflect the wide variety of
unpredictable ways in which reality behaves. We will also introduce a key concept used in the study of stochastic processes, known as a martingale.
</p>

<p>
It has become common, in both science and industry, to use highly complex models of the world around us. Such models cannot be magicked out of thin air. In fact, in much the same way as we might build a
miniature space station out of individual pieces of Lego, what is required is a set of useful pieces that can be fitted together into realistic models. The theory of stochastic processes provides some of the most useful
building blocks, and the models built from them are generally called stochastic models.
</p>

<p>
One industry that makes extensive use of stochastic modelling is <i>finance</i>. In this course, we will often use financial models to motivate and exemplify our discussion of stochastic processes.
</p>

<p>
The central question in a financial model is usually how much a particular object is worth. For example, we might ask how much we need to pay today, to have a barrel of oil delivered in six months time. We might
ask for something more complicated: how much would it cost to have the opportunity, in six months time, to buy a barrel of oil, for a price that is agreed on today? We will study the Black-Scholes model and the
concept of ‘arbitrage free pricing’, which provide somewhat surprising answers to this type of question.
</p>
<h4 id="autosec-6"><span class="sectionnumber" >0.1&#x2003;</span>Organization</h4>
<a id="notes_1-autopage-6"></a>
<h5 id="autosec-7">Syllabus</h5>
<a id="notes_1-autopage-7"></a>



<p>
These notes are for three courses: MAS352, MAS452 and MAS6052.
</p>

<p>
Some sections of the course are included in MAS452/6052 but not in MAS352. These sections are marked with a \((\Delta )\) symbol. We will not cover these sections in lectures. Students taking MAS452/6052
should study these sections independently.
</p>

<p>
Some parts of the notes are marked with a \((\star )\) symbol, which means they are off-syllabus. These are often cases where detailed connections can be made to and from other parts of mathematics.
</p>
<h5 id="autosec-8">Problem sheets</h5>
<a id="notes_1-autopage-8"></a>



<p>
The exercises are divided up according to the chapters of the course. Some exercises are marked as ‘challenge questions’ – these are intended to offer a serious, time consuming challenge to the best students.
</p>

<p>
Aside from challenge questions, it is expected that students will attempt all exercises (for the version of the course they are taking) and review their own solutions using the typed solutions provided at the end of
these notes.
</p>

<p>
At three points during each semester, an assignment of additional exercises will be set. About one week later, a mark scheme will be posted, and you should self-mark your solutions.
</p>
<h5 id="autosec-9">Examination</h5>
<a id="notes_1-autopage-9"></a>



<p>
The whole course will be examined in the summer sitting. Parts of the course marked with a \((\Delta )\) are examinable for MAS462/6052 but not for MAS352. Parts of the course marked with a \((\star )\)
will not be examined (for everyone).
</p>

<p>
A formula sheet will be provided in the exam, see Appendices <a href="Formula-Sheet-part-one.html#sec:formula_sheet_1">B</a> (for semester 1) and <a
href="Formula-sheet-part-two.html#sec:formula_sheet_2">E</a> (for semester 2). Some detailed advice on revision can be found in Appendix <a
href="Advice-revision-exams.html#sec:revision">D</a>, attached to the second semester notes.
</p>
<h5 id="autosec-10">Website</h5>
<a id="notes_1-autopage-10"></a>



<p>
Further information, including the timetable, can be found on
</p>
<div class="center" >

<p>
<a href="http://nicfreeman.staff.shef.ac.uk/MASx52/" target="_blank" >http://nicfreeman.staff.shef.ac.uk/MASx52/</a>.
</p>
</div>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Expectation-Arbitrage.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Expectation and Arbitrage</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-12"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h3 id="autosec-13">Chapter&nbsp;<span class="sectionnumber" >1&#x2003;</span>Expectation and Arbitrage</h3>
<a id="notes_1-autopage-13"></a>
<a id="notes_1-autofile-2"></a>

<a id="chap:pricing"></a>

<p>
In this chapter we look at our first example of a financial market. We introduce the idea of arbitrage free pricing, and discuss what tools we would need to build better models.
</p>
<h4 id="autosec-14"><span class="sectionnumber" >1.1&#x2003;</span>Betting on coin tosses</h4>
<a id="notes_1-autopage-14"></a>



<a id="sec:coin_toss"></a>

<p>
We begin by looking at a simple betting game. Someone tosses a fair coin. They offer to pay you \(\$1\) if the coin comes up heads and nothing if the coin comes up tails. How much are you prepared to pay to
play the game?
</p>

<p>
One way that you might answer this question is to look at the expected return of playing the game. If the (random) amount of money that you win is \(X\), then you’d expect to make
</p>

<p>
\[\E [X]=\tfrac {1}{2}\$1+\tfrac {1}{2}\$0=\$0.50.\]
</p>

<p>
So you might offer to pay \(\$0.50\) to play the game.
</p>

<p>
We can think of a single play as us paying some amount to buy <i>a random quantity</i>. That is, we pay \(\$0.50\) to buy the random quantity \(X\), then later on we discover if \(X\) is \(\$1\) or \(\$0\).
</p>

<p>
We can link this ‘pricing by expectation’ to the long term average of our winnings, if we played the game multiple times. Formally this uses the strong law of large numbers:
</p>
<div class="theorembodytheorem" >

<ul style="list-style-type:none">



<a id="autoid-1"></a>

<li>

<p>
<span class="theoremheaderplain" >Theorem 1.1.1</span> <a id="autoid-2" ></a ><a id="thm:slln"></a> Let \((X_i)_{i\in \N }\) be a sequence of random variables that are independent and
identically distributed. Suppose that \(\E [X_1]=\mu \) and \(\var (X_1)&lt;\infty \), and set
</p>

<p>
\[S_n=\frac {X_1+X_2+\ldots +X_n}{n}.\]
</p>

<p>
Then, with probability one, \(S_n\to \mu \) as \(n\to \infty \).
</p>


</li>

</ul>

</div>

<p>
In our case, if we played the game a large number \(n\) of times, and on play \(i\) our winnings were \(X_i\), then our average winnings would be \(S_n\approx \E [X_1]=\frac 12\). So we might regard
\(\$0.50\) as a ‘fair’ price to pay for a single play. If we paid less, in the long run we’d make money, and if we paid more, in the long run we’d lose money.
</p>

<p>
Often, though, you might not be willing to pay this price. Suppose your life savings were \(\$20,000\). You probably (hopefully) wouldn’t gamble it on the toss of a single coin, where you would get \(\$40,000\)
on heads and \(\$0\) on tails; it’s too risky.
</p>

<p>
It is tempting to hope that the fairest way to price anything is to calculate its expected value, and then charge that much. As we will explain in the rest of Chapter <a
href="Expectation-Arbitrage.html#chap:pricing">1</a>, this tempting idea turns out to be <i>completely</i> wrong.
</p>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|The-one-period-market.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — The one-period market</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-16"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-17"><span class="sectionnumber" >1.2&#x2003;</span>The one-period market</h4>
<a id="notes_1-autopage-17"></a>
<a id="notes_1-autofile-3"></a> <a id="sec:one_period"></a>

<p>
Let’s replace our betting game by a more realistic situation. This will require us to define some terminology. Our convention, for the whole of the course, is that when we introduce a new piece of financial
terminology we’ll write it in <b>bold</b>.
</p>

<p>
A <b>market</b> is any setting where it is possible to buy and sell one or more quantities. An object that can be bought and sold is called a <b>commodity</b>. For our purposes, we will always define exactly
what can be bought and sold, and how the value of each commodity changes with time. We use the variable \(t\) for time.
</p>

<p>
It is important to realize that money itself is a commodity. It can be bought and sold, in the sense that it is common to exchange money for some other commodity. For example, we might exchange some money for
a new pair of shoes; at that same instant someone else is exchanging a pair of shoes for money. When we think of money as a commodity we will usually refer to it as <b>cash</b> or as a cash bond.
</p>

<p>
In this section we define a market, which we’ll then study for the rest of Chapter <a href="Expectation-Arbitrage.html#chap:pricing">1</a>. It will be a simple market, with only two commodities. Naturally,
we have plans to study more sophisticated examples, but we should start small!
</p>

<p>
Unlike our coin toss, in our market we will have <i>time</i>. As time passes money earns interest, or if it is money that we owe we will be required to pay interest. We’ll have just one step of time in our simple
market. That is, we’ll have time \(t=0\) and time \(t=1\). For this reason, we will call our market the <b>one-period market</b>.
</p>
<div class="framed" >

<p>
Let \(r&gt;0\) be a deterministic constant, known as the <b>interest rate</b>. If we put an amount \(x\) of cash into the bank at time \(t=0\) and leave it there until time \(t=1\), the bank will then contain
</p>

<p>
\[x(1+r)\]
</p>

<p>
in cash. The same formula applies if \(x\) is negative. This corresponds to borrowing \(C_0\) from the bank (i.e.&nbsp;taking out a loan) and the bank then requires us to pay interest on the loan.
</p>
</div>

<p>
Our market contains cash, as its first commodity. As its second, we will have a <b>stock</b>. Let us take a brief detour and explain what is meant by stock.
</p>

<p>
Firstly, we should realize that companies can be (and frequently are) owned by more than one person at any given time. Secondly, the ‘right of ownership of a company’ can be broken down into several different
rights, such as:
</p>
<ul style="list-style-type:none">


<li>
<p>
• The right to a share of the profits.
</p>


</li>
<li>
<p>
• The right to vote on decisions concerning the companies future – for example, on a possible merge with another company.
</p>
</li>
</ul>

<p>
A <b>share</b> is a proportion of the rights of ownership of a company; for example a company might split its rights of ownership into 100 equal shares, which can then be bought and sold individually. The value
of a share will vary over time, often according to how the successful the company is. A collection of shares in a company is known as stock.
</p>

<p>
We allow the amount of stock that we own to be any real number. This means we can own a fractional amount of stock, or even a negative amount of stock. This is realistic: in the same way as we could borrow
cash from a bank, we can borrow stock from a stockbroker! We don’t pay any interest on borrowed stock, we just have to eventually return it. (In reality the stockbroker would charge us a fee but we’ll pretend they
don’t, for simplicity.)
</p>

<p>
The <b>value</b> or <b>worth</b> of a stock (or, indeed any commodity) is the amount of cash required to buy a single unit of stock. This changes, randomly:
</p>
<div class="framed" >

<p>
Let \(u&gt;d&gt;0\) and \(s&gt;0\) be deterministic constants. At time \(t=0\), it costs \(S_0=s\) cash to buy one unit of stock. At time \(t=1\), one unit of stock becomes worth
</p>

<p>
\[S_1= \begin {cases} su &amp; \text {with probability }p_u,\\ sd &amp; \text {with probability }p_d.\\ \end {cases} \]
</p>

<p>
of cash. Here, \(p_u,p_d&gt;0\) and \(p_u+p_d=1\).
</p>
</div>

<p>
We can represent the changes in value of cash and stocks as a tree, where each edge is labelled by the probability of occurrence.
</p>
<div class="center" >

<p>


<a href="oneperiod.jpg" target="_blank" ><img
      src="oneperiod.jpg"
      style="
      width:156pt;
      "
      class="inlineimage"
      alt="(image)"
></a>
</p>
</div>

<p>
To sum up, in the one-period market it is possible to trade stocks and cash. There are two points in time, \(t=0\) and \(t=1\).
</p>
<ul style="list-style-type:none">


<li>
<p>
• It we have \(x\) units of cash at time \(t=0\), they will become worth \(x(1+r)\) at time \(t=1\).
</p>


</li>
<li>
<p>
• If we have \(y\) units of stock, that are worth \(yS_0=sy\) at time \(t=0\), they will become worth
</p>
<p>
\[yS_1= \begin {cases} ysu &amp; \text {with probability }p_u,\\ ysd &amp; \text {with probability }p_d.\\ \end {cases} \]
</p>
<p>
at time \(t=1\).
</p>
</li>
</ul>

<p>
We place no limit on how much, or how little, of each can be traded. That is, we assume the bank will loan/save as much cash as we want, and that we are able to buy/sell unlimited amounts of stock at the current
market price. A market that satisfies this assumption is known as <b>liquid</b> market.
</p>

<p>
For example, suppose that \(r&gt;0\) and \(s&gt;0\) are given, and that \(u=\frac 32\), \(d=\frac 13\) and \(p_u=p_d=\frac 12\). At time \(t=0\) we hold a portfolio of \(5\) cash and \(8\) stock. What is
the expected value of this portfolio at time \(t=1\)?
</p>

<p>
Our \(5\) units of cash become worth \(5(1+r)\) at time \(1\). Our \(8\) units of stock, which are worth \(8S_0\) at time \(0\), become worth \(8S_1\) at time \(1\). So, at time \(t=1\) our portfolio is worth
\(V_1=5(1+r)+8S_1\) and the expected value of our portfolio and time \(t\) is
</p>
<span class="hidden" > \(\seteqnumber{0}{1.}{0}\)</span>



<!--



                                                                                          E[V1 ] = 5(1 + r) + 8supu + 8sdpd
                                                                                                                4
                                                                                               = 5(1 + r) + 6s + s
                                                                                                                3
                                                                                                          22
                                                                                               = 5 + 5r + s.
                                                                                                           3



-->



<p>


\begin{align*}
\E [V_1]&amp;=5(1+r)+8sup_u+8sdp_d\\ &amp;=5(1+r)+6s+\frac 43s\\ &amp;=5+5r+\frac {22}{3}s.
\end{align*}


</p>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Arbitrage.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Arbitrage</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-21"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-22"><span class="sectionnumber" >1.3&#x2003;</span>Arbitrage</h4>
<a id="notes_1-autopage-22"></a>
<a id="notes_1-autofile-4"></a> <a id="sec:arbitrage"></a>

<p>
We now introduce a key concept in mathematical finance, known as <b>arbitrage</b>. We say that arbitrage occurs in a market if it possible to make money, for free, without risk of losing money.
</p>

<p>
There is a subtle distinction to be made here. We might sometimes <i>expect</i> to make money, on average. But an arbitrage possibility only occurs when it is possible to make money without any chance of
losing it.
</p>
<div class="theorembodyexample" >

<ul style="list-style-type:none">



<a id="autoid-3"></a>

<li>

<p>
<span class="theoremheaderplain" >Example 1.3.1</span> <a id="autoid-4" ></a ><a id="ex:simple_arbitrage"></a> Suppose that, in the one-period market, someone offered to sell us a single unit of
stock for a special price \(\frac {s}{2}\) at time \(0\). We could then:
</p>
<ul style="list-style-type:none">


<li>
<p>
1. Take out a loan of \(\frac {s}{2}\) from the bank.
</p>


</li>
<li>
<p>
2. Buy the stock, at the special price, for \(\frac {s}{2}\) cash.
</p>


</li>
<li>
<p>
3. Sell the stock, at the market rate, for \(s\) cash.
</p>


</li>
<li>
<p>
4. Repay our loan of \(\frac {s}{2}\) to the bank (we still are at \(t=0\), so no interest is due).
</p>


</li>
<li>
<p>
5. Profit!
</p>
</li>
</ul>

<p>
We now have no debts and \(\frac {s}{2}\) cash, with certainty. This is an example of arbitrage.
</p>


</li>

</ul>

</div>

<p>
Example <a href="Arbitrage.html#ex:simple_arbitrage">1.3.1</a> is obviously artificial. It does illustrates an important point: no one should sell anything at a price that makes an arbitrage possible.
However, if nothing is sold at a price that would permit arbitrage then, equally, nothing can be bought for a price that would permit arbitrage. With this in mind:
</p>
<div class="framed" >

<p>
We assume that no arbitrage can occur in our market.
</p>
</div>

<p>
Let us step back and ask a natural question, about our market. Suppose we wish to have a single unit of stock delivered to us at time \(T=1\), but we want to agree in advance, at time \(0\), what price \(K\) we
will pay for it. To do so, we would enter into a <b>contract</b>. A contract is an agreement between two (or more) parties (i.e.&nbsp;people, companies, institutions, etc) that they will do something together.
</p>

<p>
Consider a contract that refers to one party as the buyer and another party as the seller. The contract specifies that:
</p>
<blockquote>

<p>
At time \(1\), the seller will be paid \(K\) cash and will deliver one unit of stock to the buyer.
</p>
</blockquote>

<p>
A contract of this form is known as a <b>forward</b> contract. Note that no money changes hands at time \(0\). The price \(K\) that is paid at time \(1\) is known as the <b>strike price</b>. The question is:
what should be the value of \(K\)?
</p>

<p>
In fact, there is <i>only one</i> possible value for \(K\). This value is
</p>

<span class="hidden" > \(\seteqnumber{0}{1.}{0}\)</span>

<!--



                                                             K = s(1 + r).                                                           (1.1)                                 --><a id="eq:forward_strike"></a><!--



-->

<p>


\begin{equation}
\label {eq:forward_strike} K=s(1+r).
\end{equation}


</p>

<p>
Let us now explain why. We argue by contradiction.
</p>
<ul style="list-style-type:none">


<li>
<p>
• Suppose that a price \(K&gt;s(1+r)\) was agreed. Then we could do the following:
</p>
<ul style="list-style-type:none">


<li>
<p>
1. At time \(0\), enter into a forward contract as the seller.
</p>


</li>
<li>
<p>
2. Borrow \(s\) from the bank, and use it buy a single unit of stock.
</p>


</li>
<li>
<p>
3. Wait until time \(1\).
</p>


</li>
<li>
<p>
4. Sell the stock (as agreed in our contract) in return for \(K\) cash.
</p>


</li>
<li>
<p>
5. We owe the bank \(s(1+r)\) to pay back our loan, so we pay this amount to the bank.
</p>


</li>
<li>
<p>
6. We are left with \(K-s(1+r)&gt;0\) profit, in cash.
</p>
</li>
</ul>
<p>
With this strategy we are <i>certain</i> to make a profit. This is arbitrage!
</p>
</li>
<li>
<p>
• Suppose, instead, that a price \(K&lt;s(1+r)\) was agreed. Then we could:
</p>
<ul style="list-style-type:none">


<li>
<p>
1. At time \(0\), enter into a forward contract as the buyer.
</p>


</li>
<li>
<p>
2. Borrow a single unit of stock from the stockbroker.
</p>


</li>
<li>
<p>
3. Sell this stock, in return for \(s\) cash.
</p>


</li>
<li>
<p>
4. Wait until time \(1\).
</p>


</li>
<li>
<p>
5. We now have \(s(1+r)\) in cash. Since \(K&lt;s(1+r)\) we can use \(K\) of this cash to buy a single unit of stock (as agreed in our contract).
</p>


</li>
<li>
<p>
6. Use the stock we just bought to pay back the stockbroker.
</p>


</li>
<li>
<p>
7. We are left with \(s(1+r)-K&gt;0\) profit, in cash.
</p>
</li>
</ul>
<p>
Once again, with this strategy we are <i>certain</i> to make a profit. Arbitrage!
</p>
</li>
</ul>

<p>
Therefore, we reach the surprising conclusion that the only possible choice is \(K=s(1+r)\). We refer to \(s(1+r)\) as the arbitrage free value for \(K\). This is our first example of an important principle:
</p>
<div class="framed" >

<p>
The absence of arbitrage can force prices to take particular values. This is known as <b>arbitrage free pricing</b>.
</p>
</div>
<h5 id="autosec-27">Expectation versus arbitrage</h5>
<a id="notes_1-autopage-27"></a>



<p>
What of pricing by expectation? Let us, temporarily, forget about arbitrage and try to use pricing by expectation to find \(K\).
</p>

<p>
The value of our forward contract at time \(1\), from the point of view of the buyer, is \(S_1-K\). It costs nothing to enter into the forward contract, so if we believed that we should price the contract by its
expectation, we would want it to cost nothing! This would mean that \(\E [S_1-K]=0\), which means we’d choose
</p>

<span class="hidden" > \(\seteqnumber{0}{1.}{1}\)</span>

<!--



                                                          K = E[S1 ] = supu + sdpd .                                                          (1.2)                                 --><a id="eq:naive_K"></a><!--



-->

<p>


\begin{equation}
\label {eq:naive_K} K=\E [S_1]=sup_u+sdp_d.
\end{equation}


</p>

<p>
This is <i>not</i> the same as the formula \(K=s(1+r)\), which we deduced in the previous section.
</p>

<p>
It is possible that our two candidate formulas for \(K\) ‘accidentally’ agree, that is \(up_u+dp_d=s(1+r)\), but they are only equal for very specific values of \(u,p_u,d,p_d,s\) and \(r\). Observations of real
markets show that this doesn’t happen.
</p>

<p>
It may feel very surprising that <span class="textup" >(<a href="Arbitrage.html#eq:naive_K">1.2</a>)</span> is different to <span class="textup" >(<a
href="Arbitrage.html#eq:forward_strike">1.1</a>)</span>. The reality is, that financial markets are arbitrage free, and the <i>correct</i> strike price for our forward contract is \(K=s(1+r)\). However
intuitively appealing it might seem to price by expected value, it is not what happens in reality.
</p>

<p>
Does this mean that, with the correct strike price \(K=s(1+r)\), on average we either make or lose money by entering into a forward contract? Yes, it does. But investors are often not concerned with average
payoffs – the world changes too quickly to make use of them. Investors are concerned with what happens to them <i>personally</i>. Having realized this, we can give a short explanation, in economic terms, of why
markets are arbitrage free.
</p>

<p>
If it is possible to carry out arbitrage within a market, traders will<sup>1</sup> discover how and immediately do so. This creates high demand to buy undervalued commodities. It also creates high demand to
borrow overvalued commodities. In turn, this demand causes the price of commodities to adjust, until it is no longer possible to carry out arbitrage. The result is that the market constantly adjusts, and stays in an
equilibrium in which no arbitrage is possible.
</p>

<p>
Of course, in many respects our market is an imperfect model. We will discuss its shortcomings, as well as produce better models, as part of the course.
</p>
<div class="theorembodyremark" >

<ul style="list-style-type:none">



<a id="autoid-5"></a>

<li>

<p>
<span class="theoremheaderplain" >Remark 1.3.2</span> <a id="autoid-6" ></a >We will not mention ‘pricing by expectation’ again in the course. In a liquid market, arbitrage free pricing is what matters.
</p>


</li>

</ul>

</div>

<figure id="autoid-7" class="figure ">
<div class="center" >

<p>


<a href="lloyds_lse.png" target="_blank" ><img
      src="lloyds_lse.png"
      style="
      width:390pt;
      "
      class="inlineimage"
      alt="(image)"
></a>
</p>


<div class="figurecaption" >
<p>
Figure 1.1:&nbsp;The stock price in GBP of Lloyds Banking Group, from September 2011 to September 2016.
</p>
</div>

<a id="fig:lloyds"></a>

</div>

</figure>
<div class="footnotes" >

<p>
<sup>1</sup>&nbsp;Usually.
</p>

</div>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Modelling-discussion.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Modelling discussion</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-31"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-32"><span class="sectionnumber" >1.4&#x2003;</span>Modelling discussion</h4>
<a id="notes_1-autopage-32"></a>
<a id="notes_1-autofile-5"></a>

<p>
Our proof that the arbitrage free value for \(K\) was \(s(1+r)\) is mathematically correct, but it is not ideal. We relied on discovering specific trading strategies that (eventually) resulted in arbitrage. If we tried to
price a more complicated contract, we might fail to find the right trading strategies and hence fail to find the right prices. In real markets, trading complicated contracts is common.
</p>

<p>
Happily, this is precisely the type of situation where mathematics can help. What is needed is a <i>systematic</i> way of calculating arbitrage free prices, that <i>always</i> works. In order to find one, we’ll need
to first develop several key concepts from probability theory. More precisely:
</p>
<ul style="list-style-type:none">


<li>
<p>
• <b>We need to be able to express the idea that, as time passes, we gain information.</b>
</p>
<p>
For example, in our market, at time \(t=0\) we don’t know how the stock price will change. But at time \(t=1\), it has already changed and we do know. Of course, real markets have more than one time step, and
we only gain information gradually.
</p>
</li>
<li>
<p>
• <b>We need stochastic processes.</b>
</p>
<p>
Our stock price process \(S_0\mapsto S_1\), with its two branches, is too simplistic. Real stock prices have a ‘jagged’ appearance (see Figure <a href="Arbitrage.html#fig:lloyds">1.1</a>). What we need is
a library of useful stochastic processes, to build models out of.
</p>
</li>
</ul>

<p>
In fact, these two requirements are common to almost all stochastic modelling. For this reason, we’ll develop our probabilistic tools based on a wide range of examples. We’ll return to study (exclusively) financial
markets in Chapter <a href="The-binomial-model.html#chap:bin_model">5</a>, and again in Chapters <a href="The-Black-Scholes-model.html#chap:bs">14</a>-<a
href="Financial-networks.html#chap:fin_net">17</a>.
</p>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Exercises-on-Chapter-ref-chap-pricing.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Exercises on Chapter-<a href="Expectation-Arbitrage.html#chap:pricing">1</a></title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-33"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-34"><span class="sectionnumber" >1.5&#x2003;</span>Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></h4>
<a id="notes_1-autopage-34"></a>
<a id="notes_1-autofile-6"></a>
<h5 id="autosec-35">On the one-period market</h5>
<a id="notes_1-autopage-35"></a>



<p>
All these questions refer to the market defined in Section <a href="The-one-period-market.html#sec:one_period">1.2</a> and use notation \(u,d,p_u,p_d,r,s\) from that section.
</p>

<ul style="list-style-type:none">


<li>
<p>
<b>1.1</b> <a id="ps:portfolio"></a> Suppose that our portfolio at time \(0\) has \(10\) units of cash and \(5\) units of stock. What is the value of this portfolio at time \(1\)?
</p>
</li>
<li>
<p>
<b>1.2</b> <a id="ps:portfolio_2"></a> Suppose that \(0&lt;d&lt;1+r&lt;u\). Our portfolio at time \(0\) has \(x\geq 0\) units of cash and \(y\geq 0\) units of stock, but we will have a debt to pay at
time \(1\) of \(K&gt;0\) units of cash.
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Assuming that we don’t buy or sell anything at time \(0\), under what conditions on \(x,y,K\) can we
be certain of paying off our debt?
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Suppose that do allow ourselves to trade cash and stocks at time \(0\). What strategy gives us the best
chance of being able to pay off our debt?
</p>
</li>
</ul>
</li>
<li>
<p>
<b>1.3</b> <a id="ps:simple_arbitrage"></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Suppose that \(0&lt;1+r&lt;d&lt;u\). Find a trading strategy that results in an arbitrage.
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Suppose instead that \(0&lt;d&lt;u&lt;1+r\). Find a trading strategy that results in an arbitrage.
</p>
</li>
</ul>
</li>
</ul>
<h5 id="autosec-36">Revision of probability and analysis</h5>
<a id="notes_1-autopage-36"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>1.4</b> <a id="ps:exp"></a> Let \(Y\) be an exponential random variable with parameter \(\lambda &gt;0\). That is, the probability density function of \(Y\) is
</p>
<p>
\[ f_X(x)= \begin {cases} \lambda e^{-\lambda x} &amp; \text { for }x&gt;0\\ 0 &amp; \text { otherwise.}\\ \end {cases} \]
</p>
<p>
Calculate \(\E [X]\) and \(\E [X^2]\). Hence, show that \(\var (X)=\frac {1}{\lambda ^2}\).
</p>
</li>
<li>
<p>
<b>1.5</b> <a id="ps:conv_P_intro"></a> Let \((X_n)\) be a sequence of independent random variables such that
</p>
<p>
\[ \P [X_n=x]= \begin {cases} \frac {1}{n} &amp; \text { if }x=n^2\\ 1-\frac {1}{n}&amp; \text { if }x=0.                   \end {cases} \]
</p>
<p>
Show that \(\P [|X_n|&gt;0]\to 0\) and \(\E [X_n]\to \infty \), as \(n\to \infty \).
</p>
</li>
<li>
<p>
<b>1.6</b> <a id="ps:normal_standardization"></a> Let \(X\) be a normal random variable with mean \(\mu \) and variance \(\sigma ^2&gt;0\). By calculating \(\P [Y\leq y]\) (or otherwise) show that
\(Y=\frac {X-\mu }{\sigma }\) is a normal random variable with mean \(0\) and variance \(1\).
</p>
</li>
<li>
<p>
<b>1.7</b> <a id="ps:tail_p"></a> For which values of \(p\in (0,\infty )\) is \(\int _1^\infty x^{-p}\,dx\) finite?
</p>
</li>
<li>
<p>
<b>1.8</b> <a id="ps:seqs"></a> Which of the following sequences converge as \(n\to \infty \)? What do they converge too?
</p>
<span class="hidden" > \(\seteqnumber{0}{1.}{2}\)</span>


<!--

                                                                                                                 n              n
                                                                                      nπ          cos(nπ)                         1
                                                                                          
                                                                             −n                                        −i
                                                                                                                 X              X
                                                                         e        sin                                  2                  .
                                                                                       2             n           i=1            i=1
                                                                                                                                      i


-->


<p>


\begin{align*}
e^{-n} \quad \quad \quad \sin \l (\frac {n\pi }{2}\r ) \quad \quad \quad \frac {\cos (n\pi )}{n} \quad \quad \quad \sum \limits _{i=1}^n 2^{-i} \quad \quad \quad \sum \limits
_{i=1}^n\frac {1}{i}.
\end{align*}
Give brief reasons for your answers.
</p>
</li>
<li>
<p>
<b>1.9</b> <a id="ps:subseq"></a> Let \((x_n)\) be a sequence of real numbers such that \(\lim _{n\to \infty } x_n=0\). Show that \((x_n)\) has a subsequence \((x_{n_r})\) such that \(\sum
_{r=1}^\infty |x_{n_r}|&lt;\infty \).
</p>
</li>
</ul>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Probability-spaces-random-variables.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Probability spaces and random variables</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-37"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h3 id="autosec-38">Chapter&nbsp;<span class="sectionnumber" >2&#x2003;</span>Probability spaces and random variables</h3>
<a id="notes_1-autopage-38"></a>
<a id="notes_1-autofile-7"></a>

<a id="chap:prob_meas"></a>

<p>
In this chapter we review probability theory, and develop some key tools for use in later chapters. We begin with a special focus on \(\sigma \)-fields. The role of a \(\sigma \)-field is to provide a way of
controlling which information is visible (or, currently of interest) to us. As such, \(\sigma \)-fields will allow us to express the idea that, as time passes, we gain information.
</p>
<h4 id="autosec-39"><span class="sectionnumber" >2.1&#x2003;</span>Probability measures and \(\sigma \)-fields</h4>
<a id="notes_1-autopage-39"></a>



<a id="sec:prob_meas"></a>

<p>
Let \(\Omega \) be a set. In probability theory, the symbol \(\Omega \) is typically (and always, in this course) used to denote the <i>sample space</i>. Intuitively, we think of ourselves as conducting some
random experiment, with an unknown outcome. The set \(\Omega \) contains an \(\omega \in \Omega \) for every possible outcome of the experiment.
</p>

<p>
Subsets of \(\Omega \) correspond to collections of possible outcomes; such a subset is referred as an event. For instance, if we roll a dice we might take \(\Omega =\{1,2,3,4,5,6\}\) and the set \(\{1,3,5\}\) is
the event that our dice roll is an odd number.
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-8"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 2.1.1</span> <a id="autoid-9" ></a ><a id="sigmafielddef"></a> Let \(\mc {F}\) be a set of subsets of \(\Omega \). We say \(\mc {F}\) is a \(\sigma
\)-field if it satisfies the following properties:
</p>
<ul style="list-style-type:none">


<li>
<p>
1. \(\emptyset \in \mc {F}\) and \(\Omega \in \mc {F}\).
</p>


</li>
<li>
<p>
2. if \(A\in \mc {F}\) then \(\Omega \sc A\in \mc {F}\).
</p>


</li>
<li>
<p>
3. if \(A_1,A_2,\ldots \in \mc {F}\) then \(\bigcup _{i=1}^\infty A_i\in \mc {F}\).
</p>
</li>
</ul>


</li>

</ul>

</div>

<p>
The role of a \(\sigma \)-field is to choose which subsets of outcomes we are actually interested in. The power set \(\mc {F}=\mc {P}(\Omega )\) is always a \(\sigma \)-field, and in this case every subset of
\(\Omega \) is an event. But \(\mc {P}(\Omega )\) can be very big, and if our experiment is complicated, with many or even infinitely many possible outcomes, we might want to consider a smaller choice of \(\mc
{F}\) instead.
</p>

<p>
Sometimes we will need to deal with more than one \(\sigma \)-field at a time. A \(\sigma \)-field \(\mc {G}\) such that \(\mc {G}\sw \mc {F}\) is known as a <i>sub-\(\sigma \)-field</i> of \(\mc {F}\).
</p>

<p>
We say that a subset \(A\sw \Omega \) is <i>measurable</i>, or that it is an <i>event</i> (or <i>measurable event</i>), if \(A\in \mc {F}\). To make to it clear which \(\sigma \)-field we mean to use in this
definition, we sometimes write that an event is \(\mc {F}\)-measurable.
</p>
<div class="theorembodyexample" >

<ul style="list-style-type:none">



<a id="autoid-10"></a>

<li>

<p>
<span class="theoremheaderplain" >Example 2.1.2</span> <a id="autoid-11" ></a ><a id="sigmafieldex"></a> Some examples of experiments and the \(\sigma \)-fields we might choose for them are
the following:
</p>
<ul style="list-style-type:none">


<li>
<p>
• We toss a coin, which might result in heads \(H\) or tails \(T\). We take \(\Omega =\{H,T\}\) and \(\mc {F}=\big \{\emptyset ,\{H\},\{T\},\Omega \big \}\).
</p>


</li>
<li>
<p>
• We toss two coins, both of which might result in heads \(H\) or tails \(T\). We take \(\Omega =\{HH,TT,HT,TH\}\). However, we are only interested in the outcome that both coins are heads. We take \(\mc
{F}=\big \{\emptyset ,\{HH\},\Omega \sc \{HH\},\Omega \big \}\).
</p>
</li>
</ul>


</li>

</ul>

</div>

<p>
There are natural ways to choose a \(\sigma \)-field, even if we think of \(\Omega \) as just an arbitrary set. For example, \(\mc {F}=\{\Omega ,\emptyset \}\) is a \(\sigma \)-field. If \(A\) is a subset of
\(\Omega \), then \(\mc {F}=\{\Omega ,A,\Omega \sc A,\emptyset \}\) is a \(\sigma \)-field (check it!).
</p>

<p>
Given \(\Omega \) and \(\mc {F}\), the final ingredient of a probability space is a measure \(\P \), which tells us how likely the events in \(\mc {F}\) are to occur.
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-12"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 2.1.3</span> <a id="autoid-13" ></a ><a id="Pmeasdef"></a> A probability measure \(\P \) is a function \(\P :\F \to [0,1]\) satisfying:
</p>
<ul style="list-style-type:none">


<li>
<p>
1. \(\P [\Omega ]=1\).
</p>


</li>
<li>
<p>
2. If \(A_1,A_2,\ldots \in \F \) are pair-wise disjoint (i.e.&nbsp;\(A_i\cap A_j=\emptyset \) for all \(i,j\) such that \(i\ne j\)) then
</p>
<p>
\[ \P \left [ \bigcup _{i=1}^\infty A_i \right ] = \sum _{i=1}^\infty \P [A_i].             \]
</p>
<p>


</p>
</li>
</ul>


</li>

</ul>

</div>

<p>
The second of these conditions if often called \(\sigma \)-additivity. Note that we needed Definition <a href="Probability-spaces-random-variables.html#sigmafielddef">2.1.1</a> to make sense of
Definion <a href="Probability-spaces-random-variables.html#Pmeasdef">2.1.3</a>, because we needed something to tell us that \(\P \left [ \bigcup _{i=1}^\infty A_i \right ]\) was defined!
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-14"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 2.1.4</span> <a id="autoid-15" ></a >A probability space is a triple \((\Omega ,\F ,\P )\), where \(\mc {F}\) is a \(\sigma \)-field and \(\P \) is a
probability measure.
</p>


</li>

</ul>

</div>

<p>
For example, to model a single fair coin toss we would take \(\Omega =\{H,T\}\), \(\mc {F}=\{\Omega ,\{H\},\{T\},\emptyset \}\) and define \(\P [H]=\P [T]=\frac 12\).
</p>

<p>
We commented above that often we want to choose \(\mc {F}\) to be smaller than \(\mc {P}(\Omega )\), but we have not yet shown how to choose a suitably small \(\mc {F}\). Fortunately, there is a general
way of doing so, for which we need the following technical lemma.
</p>
<div class="theorembodylemma" >

<ul style="list-style-type:none">



<a id="autoid-16"></a>

<li>

<p>
<span class="theoremheaderplain" >Lemma 2.1.5</span> <a id="autoid-17" ></a ><a id="sigmaintersect"></a> Let \(I\) be any set and for each \(i\in I\) let \(\mc {F}_i\) be a \(\sigma \)-field.
Then
</p>

<span class="hidden" > \(\seteqnumber{0}{2.}{0}\)</span>

<!--


                                                 \
                                            F=         Fi                                          (2.1)                                                            --><a id="sigmaintersecteq"></a><!--
                                                 i∈I



-->

<p>


\begin{equation}
\label {sigmaintersecteq} \mc {F}=\bigcap _{i\in I}\mc {F}_i
\end{equation}


</p>

<p>
is a \(\sigma \)-field
</p>


</li>

</ul>

</div>

<p>
<span class="textsc" >Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> We check the three conditions of Definition <a
href="Probability-spaces-random-variables.html#sigmafielddef">2.1.1</a> for \(\mc {F}\).
</p>

<p>
(1) Since each \(\mc {F}_i\) is a \(\sigma \)-field, we have \(\emptyset \in \mc {F}_i\). Hence \(\emptyset \in \cap _i \mc {F}_i\). Similarly, \(\Omega \in \mc {F}\).
</p>

<p>
(2) If \(A\in \mc {F}=\cap _i \mc {F}_i\) then \(A\in \mc {F}_i\) for each \(i\). Since each \(\mc {F}_i\) is a \(\sigma \)-field, \(\Omega \sc A\in \mc {F}_i\) for each \(i\). Hence \(\Omega \sc
A\in \cap _i \mc {F}_i\).
</p>

<p>
(3) If \(A_j\in \mc {F}\) for all \(j\), then \(A_j\in \mc {F}_i\) for all \(i\) and \(j\). Since each \(\mc {F}_i\) is a \(\sigma \)-field, \(\cup _j A_j\in \mc {F}_i\) for all \(i\). Hence \(\cup _j
A_j\in \cap _i \mc {F}_i\). &#x2003;&#x2003;&#x220E;
</p>
<div class="theorembodycor" >

<ul style="list-style-type:none">



<a id="autoid-18"></a>

<li>

<p>
<span class="theoremheaderplain" >Corollary 2.1.6</span> <a id="autoid-19" ></a >In particular, if \(\mc {F}_1\) and \(\mc {F}_2\) are \(\sigma \)-fields, so is \(\mc {F}_1\cap \mc {F}_2\).
</p>


</li>

</ul>

</div>

<p>
Now, suppose that we have our \(\Omega \) and we have a finite or countable collection of \(E_1,E_2,\ldots \sw \Omega \), which we want to be events. Let \(\mathscr {F}\) be the set of all \(\sigma
\)-fields that contain \(E_1,E_2,\ldots \). We enumerate \(\mathscr {F}\) as \(\mathscr {F}=\{\mc {F}_i\-i\in I\}\), and apply Lemma <a
href="Probability-spaces-random-variables.html#sigmaintersect">2.1.5</a>. We thus obtain a \(\sigma \)-field \(\mc {F}\), which contains all the events that we wanted.
</p>

<p>
The key point here is that \(\mc {F}\) is the smallest \(\sigma \)-field that has \(E_1,E_2,\ldots \) as events. To see why, note that by <span class="textup" >(<a
href="Probability-spaces-random-variables.html#sigmaintersecteq">2.1</a>)</span>, \(\mc {F}\) is contained inside any \(\sigma \)-field \(\mc {F}’\) which has \(E_1,E_2,\ldots \) as events.
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-20"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 2.1.7</span> <a id="autoid-21" ></a ><a id="sigmaevent"></a> Let \(E_1,E_2,\ldots \) be subsets of \(\Omega \). We write \(\sigma
(E_1,E_2,\ldots ,)\) for the smallest \(\sigma \)-field containing \(E_1,E_2,\ldots \).
</p>


</li>

</ul>

</div>

<p>
With \(\Omega \) as any set, and \(A\sw \Omega \), our example \(\{\emptyset ,A,\Omega \sc A,\Omega \}\) is clearly \(\sigma (A)\). In general, though, the point of Definition <a
href="Probability-spaces-random-variables.html#sigmaevent">2.1.7</a> is that we know useful \(\sigma \)-fields exist without having to construct them explicitly.
</p>

<p>
In the same style, if \(\mc {F}_1,\mc {F}_2\ldots \) are \(\sigma \)-fields then we write \(\sigma (\mc {F}_1,\mc {F}_2,\ldots )\) for the smallest \(\sigma \)-algebra with respect to which all events in
\(\mc {F}_1, \mc {F}_2, \ldots \) are measurable.
</p>

<p>
From Definition <a href="Probability-spaces-random-variables.html#sigmafielddef">2.1.1</a> and <a href="Probability-spaces-random-variables.html#Pmeasdef">2.1.3</a> we can deduce all the
‘usual’ properties of probability. For example:
</p>
<ul style="list-style-type:none">


<li>
<p>
• If \(A\in \mc {F}\) then \(\Omega \sc A\in \mc {F}\), and since \(\Omega =A\cup (\Omega \sc A)\) we have \(\P [\Omega ]=1=\P [A]+\P [\Omega \sc A].\)
</p>


</li>
<li>
<p>
• If \(A,B\in \mc {F}\) and \(A\sw B\) then we can write \(B=A\cup (B\sc A)\), which gives us that \(\P [B]=\P [B\sc A]+P[A]\), which implies that \(\P [A]\leq \P [B]\).
</p>
</li>
</ul>

<p>
And so on. In this course we are concerned with applying probability theory rather than with relating its properties right back to the definition of a probability space; but you should realize that it is always possible
to do so.
</p>

<p>
Definitions <a href="Probability-spaces-random-variables.html#sigmafielddef">2.1.1</a> and <a href="Probability-spaces-random-variables.html#Pmeasdef">2.1.3</a> both involve countable
unions. Its convenient to be able to use countable intersections too, for which we need the following lemma.
</p>
<div class="theorembodylemma" >

<ul style="list-style-type:none">



<a id="autoid-22"></a>

<li>

<p>
<span class="theoremheaderplain" >Lemma 2.1.8</span> <a id="autoid-23" ></a ><a id="sigmaint"></a> Let \(A_1,A_2,\ldots \in \mc {F}\), where \(\mc {F}\) is a \(\sigma \)-field. Then
\(\bigcap _{i=1}^\infty A_i\in \mc {F}\).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc" >Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> We can write
</p>

<p>
\[\bigcap _{i=1}^\infty A_i=\bigcap _{i=1}^\infty \Omega \sc (\Omega \sc A_i)=\Omega \sc \left (\bigcup _{i=1}^\infty \Omega \sc A_i\right ).\]
</p>

<p>
Since \(\mc {F}\) is a \(\sigma \)-field, \(\Omega \sc A_i\in \mc {F}\) for all \(i\). Hence also \(\bigcup _{i=1}^\infty \Omega \sc A_i\in \mc {F}\), which in turn means that \(\Omega \sc (\bigcup
_{i=1}^\infty \Omega \sc A_i)\in \mc {F}\). &#x2003;&#x2003;&#x220E;
</p>

<p>
In general, <i>uncountable</i> unions and intersections of measurable sets need not be measurable. The reasons why we only allow countable unions/intersections in probability are complicated and beyond the
scope of this course. Loosely speaking, the bigger we make \(\mc {F}\), the harder it is to make a probability measure \(\P \), because we need to define \(\P [A]\) for all \(A\in \mc {F}\) in a way that satisfies
Definition <a href="Probability-spaces-random-variables.html#Pmeasdef">2.1.3</a>. Allowing uncountable set operations would (in natural situations) result in \(\mc {F}\) being so large that it would be
<i>impossible</i> to find a suitable \(\P \).
</p>

<p>
<b>From now on, the symbols \(\Omega \), \(\mc {F}\) and \(\P \) always denote the three elements of the probability space \((\Omega ,\mc {F},\P )\).</b>
</p>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Random-variables.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Random variables</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-48"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-49"><span class="sectionnumber" >2.2&#x2003;</span>Random variables</h4>
<a id="notes_1-autopage-49"></a>
<a id="notes_1-autofile-8"></a>

<p>
Our probability space gives us a label \(\omega \in \Omega \) for every possible outcome. Sometimes it is more convenient to think about a property of \(\omega \), rather than about \(\omega \) itself. For
this, we use a random variable, \(X:\Omega \to \R \). For each outcome \(\omega \in \Omega \), the value of \(X(\omega )\) is a property of the outcome.
</p>

<p>
For example, let \(\Omega =\{1,2,3,4,5,6\}\) and \(\mc {F}=\mc {P}(\Omega )\). We might be interested in the property
</p>

<p>
\[ X(\omega )= \begin {cases} 0 &amp; \text { if }\omega \text { is odd},\\ 1 &amp; \text { if }\omega \text { is even},\\ \end {cases} \]
</p>

<p>
We write
</p>

<p>
\[X^{-1}(A)=\{\omega \in \Omega \-X(\omega )\in A\},\]
</p>

<p>
for \(A\sw \R \), which is called the <i>pre-image</i> of \(A\) under \(X\). In words, \(X^{-1}(A)\) is the set of outcomes \(\omega \) for which the property \(X(\omega )\) falls inside the set \(A\). In our
example above \(X^{-1}(\{0\})=\{1,3,5\}\), \(X^{-1}(\{1\})=\{2,4,6\}\) and \(X^{-1}(\{0,1\})=\{1,2,3,4,5,6\}\).
</p>

<p>
It is common to write \(X^{-1}(a)\) in place of \(X^{-1}(\{a\})\), because it makes easier reading. Similarly, for an interval \((a,b)\sw \R \) we write \(X^{-1}(a,b)\) in place of \(X^{-1}\big ((a,b)\big
)\).
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-24"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 2.2.1</span> <a id="autoid-25" ></a ><a id="def:meas"></a> Let \(\mc {G}\) be a \(\sigma \)-field. A function \(X:\Omega \to \R \) is said to be
\(\mc {G}\)-measurable if
</p>

<span class="hidden" > \(\seteqnumber{0}{2.}{1}\)</span>

<!--



                                                                                 for all subintervals I ⊆ R, we have X −1 (I) ∈ G.



-->

<p>


\begin{equation*}
\text { for all subintervals }I\sw \R ,\;\text { we have }X^{-1}(I)\in \mc {G}.
\end{equation*}


</p>

<p>


</p>


</li>

</ul>

</div>

<p>
If it is clear which \(\sigma \)-field \(\mc {G}\) we mean to use, which might simply say that \(X\) is <i>measurable</i>. We will often shorten this to writing simply \(X\in m\mc {G}\).
</p>

<p>
For a probability space \((\Omega ,\mc {F},\P )\), we say that \(X:\Omega \to \R \) is a <i>random variable</i> if \(X\) is \(\mc {F}\)-measurable. The relationship to the usual notation for probability is
that \(\P [X\in A]\) means \(\P [X^{-1}(A)]\), so as e.g.
</p>
<span class="hidden" > \(\seteqnumber{0}{2.}{1}\)</span>



<!--


                                                                                               h         i
                                                                             P [a < X < b] = P X −1 (a, b) = P[ω ∈ Ω ; X(ω) ∈ (a, b)]

                                                                                 P[X = a] = P[X −1 (a)] = P[ω ∈ Ω ; X(ω) = a].



-->



<p>


\begin{align*}
\P \l [a&lt;X&lt;b\r ]&amp;=\P \l [X^{-1}(a,b)\r ]=\P [\omega \in \Omega \-X(\omega )\in (a,b)]\\ \P [X=a]&amp;=\P [X^{-1}(a)]=\P [\omega \in \Omega \-X(\omega )=a].
\end{align*}
We usually prefer writing \(\P [X=a]\) and \(\P [a&lt;X&lt;b]\) because we find them more intuitive; we like to think of \(X\) as an object that takes a random value.
</p>

<p>
For example, suppose we toss a coin twice, with \(\Omega =\{HH,HT,TH,TT\}\) as in Example <a href="Probability-spaces-random-variables.html#sigmafieldex">2.1.2</a>. If we take our \(\sigma
\)-field to be \(\mc {F}=\mc {P}(\Omega )\), the set of all subsets of \(\Omega \), then any function \(X:\Omega \to \R \) is \(\mc {F}\)-measurable. However, suppose we choose instead
</p>

<p>
\[\mc {G}=\big \{\Omega ,\{HT,TH,TT\},\{HH\},\emptyset \big \}\]
</p>

<p>
(as we did in Example <a href="Probability-spaces-random-variables.html#sigmafieldex">2.1.2</a>). Then if we look at function
</p>

<p>
\[X(\omega )=\text { the total number of tails which occurred}\]
</p>

<p>
we have \(X^{-1}([0,1])=\{HH,HT,TH\}\notin \mc {G},\) so \(X\) is not \(\mc {G}\)-measurable. The intuition here is that \(\sigma \)-field \(\mc {G}\) ‘isn’t big enough’ for \(X\), because \(\mc {G}\)
only contains information about whether we threw two tails (or not).
</p>
<h5 id="autosec-51">\(\sigma \)-fields and information</h5>
<a id="notes_1-autopage-51"></a>



<p>
It will be very important for us to understand the connection between \(\sigma \)-fields and information. When we talk about the ‘information’ contained in a \(\sigma \)-field \(\G \), we mean the following.
</p>

<p>
Suppose that an outcome \(\omega \) of our experiment has occurred, but suppose that we don’t know which \(\omega \in \Omega \) it was. Each event \(G\in \mc {G}\) represents a piece of information. This
piece of information is whether or not \(\omega \in \mc {G}\) i.e.&nbsp;whether or not the event \(G\) has occurred. If this ‘information’ allows us to deduce the exact value of \(X(\omega )\), and if we can do
this for any \(\omega \in \Omega \), then \(X\) is \(\mc {G}\)-measurable.
</p>

<p>
Going back to our example above, of two coin tosses, the information contained in \(\mc {G}\) is whether (or not) we threw two heads. Recall that \(X\in \{0,1,2\}\) was the number of tails thrown. Knowing
just this information provided by \(\G \) doesn’t allow us to deduce \(X\) – for example if all we know is that we didn’t throw two heads, we can’t work out exactly how many tails we threw.
</p>

<p>
The interaction between random variables and \(\sigma \)-fields can be summarised as follows:
</p>

<span class="hidden" > \(\seteqnumber{0}{2.}{1}\)</span>

<p>


\begin{eqnarray*}
\boxed {\mbox {$\sigma $-field $\G $}} &amp;\leftrightarrow &amp; \boxed {\mbox {which information we care about}} \\ \boxed {\mbox {$X$ is $\G $-measurable}}
&amp;\leftrightarrow &amp; \boxed {\mbox {$X$ depends only on information that we care about}}
\end{eqnarray*}


</p>

<p>
Rigorously, if we want to check that \(X\) is \(\mc {G}\)-measurable, we have to check that \(X^{-1}(I)\in \mc {G}\) for every subinterval of \(I\sw \R \). This can be tedious, especially if \(X\) takes many
different values. Fortunately, we will shortly see that, in practice, there is rarely any need to do so. What is important for us is to understand the role played by a \(\sigma \)-field.
</p>
<h5 id="autosec-52">\(\sigma \)-fields and pre-images</h5>
<a id="notes_1-autopage-52"></a>



<p>
Suppose that we have a probability space \((\Omega ,\mc {F},\P )\) and a random variable \(X:\Omega \to \R \). We want to check that \(X\) is measurable with respect to some smaller \(\sigma \)-field
\(\mc {G}\).
</p>

<p>
If \(X\) is a discrete random variable, we can use the following lemma.
</p>
<div class="theorembodylemma" >

<ul style="list-style-type:none">



<a id="autoid-26"></a>

<li>

<p>
<span class="theoremheaderplain" >Lemma 2.2.2</span> <a id="autoid-27" ></a ><a id="lem:finitemeas"></a> Let \(\mc {G}\) be a \(\sigma \)-field on \(\Omega \). Let \(X:\Omega \to \R \),
and suppose \(X\) takes a finite or countable set of values \(\{x_1,x_2,\ldots \}\). Then:
</p>

<p>
\[\text {$X$ is measurable with respect to $\mc {G}$}\quad \Leftrightarrow \quad \text { for all }j,\;\{X=x_j\}\in \mc {G}.\]
</p>

<p>


</p>


</li>

</ul>

</div>

<p>
<span class="textsc" >Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> Let us first prove the \(\Rightarrow \) implication. So, assume the left hand side: \(X\in
m\mc {G}\). Since \(\{X=x_j\}=X^{-1}(x_j)\) and \(\{x_j\}=[x_j,x_j]\) is a subinterval of \(\R \), by Definition <a href="Random-variables.html#def:meas">2.2.1</a> we have that \(\{X=x_j\}\in \mc
{G}\). Since this holds for any \(j=1,\ldots ,n\), we have shown the right hand side.
</p>

<p>
Next, we will prove the \(\Leftarrow \) implication. So, we now assume the right hand side: \(\{X=x_j\}\in \mc {G}\) for all \(i\). Let \(I\) be any subinterval of \(\R \), and define \(J=\{j\-x_j\in I\}\).
Then,
</p>

<p>
\[X^{-1}(I)=\{\omega \in \Omega \-X(\omega )\in I\}=\bigcup _{j\in J}\{\omega \- X(w)=x_j\}=\bigcup _{j\in J} \{X=x_j\}.\]
</p>

<p>
Since \(\{X=x_j\}\in \mc {G}\), the definition of a \(\sigma \)-field tell us that also \(X^{-1}(I)\in \mc {G}\). &#x2003;&#x2003;&#x220E;
</p>

<p>
For example, take \(\Omega =\{1,2,3,4,5,6\}\), which we think of as rolling a dice, and take \(\mc {F}=\P (\Omega )\). Consider
</p>
<span class="hidden" > \(\seteqnumber{0}{2.}{1}\)</span>



<!--


                                                                                                 
                                                                                            G1 = ∅, {1, 3, 5}, {2, 4, 6}, Ω ,
                                                                                                 
                                                                                            G2 = ∅, {1, 2, 3}, {4, 5, 6}, Ω ,




-->



<p>


\begin{align*}
\mc {G}_1&amp;=\big \{\emptyset , \{1,3,5\}, \{2,4,6\}, \Omega \big \},\\ \mc {G}_2&amp;=\big \{\emptyset , \{1,2,3\}, \{4,5,6\}, \Omega \big \},\\
\end{align*}
Here, \(\mc {G}_1\) contains the information of whether the roll is even or odd, and \(\mc {G}_2\) contains the information of whether the roll is \(\leq 3\) or \(&gt;3\). It’s easy to check that \(\mc {G}_1\)
and \(\mc {G}_2\) are both \(\sigma \)-fields.
</p>

<p>
Let us define
</p>
<span class="hidden" > \(\seteqnumber{0}{2.}{1}\)</span>



<!--


                                                                                                        
                                                                                                        
                                                                                                        0
                                                                                                             if ω is odd,
                                                                                             X1 (ω) =
                                                                                                        
                                                                                                        1
                                                                                                             if ω is even,
                                                                                                        
                                                                                                        
                                                                                                        0
                                                                                                             if ω ≤ 3,
                                                                                             X2 (ω) =
                                                                                                        
                                                                                                        1
                                                                                                             if ω > 3.


-->



<p>


\begin{align*}
X_1(\omega ) &amp;= \begin{cases} 0 &amp; \text { if }\omega \text { is odd},\\ 1 &amp; \text { if }\omega \text { is even}, \end {cases} \\ X_2(\omega ) &amp;= \begin{cases} 0
&amp; \text { if }\omega \leq 3,\\ 1 &amp; \text { if }\omega &gt;3.               \end {cases}
\end{align*}
That is, \(X_1\) tests if \(X\) is even, and \(X_2\) tests if \(X\) is odd. Based on our intuition about information we should expect that \(X_1\) is measurable with respect to \(\G _1\) but not \(\G _2\), and that
\(X_2\) is measurable with respect to \(\G _2\) but not \(\G _1\).
</p>

<p>
We can justify our intuition rigorously using Lemma <a href="Random-variables.html#lem:finitemeas">2.2.2</a>. We have \(X_1^{-1}(0)=\{1,3,5\}\), \(X_1^{-1}(1)=\{2,4,6\}\), so \(X_1\in m\mc
{G}_1\) but \(X_1\notin m\mc {G}_2\). Similarly, we have \(X_2^{-1}(0)=\{1,2,3\}\) and \(X_2^{-1}(1)=\{4,5,6\}\), so \(X_2\notin m\mc {G}_1\) and \(X_2\in m\mc {G}_2\).
</p>

<p>
Lets extend this example by introducing a third \(\sigma \)-field,
</p>

<span class="hidden" > \(\seteqnumber{0}{2.}{1}\)</span>

<!--


                                                                                                                              
                                                                                          G3 = σ {1, 3}, {2}, {4}, {5}, {6} .



-->

<p>


\begin{equation*}
\mc {G}_3=\sigma \big (\{1,3\},\{2\},\{4\},\{5\},\{6\}\big ).
\end{equation*}


</p>

<p>
The \(\sigma \)-field \(\mc {G}_3\) is, by Definition <a href="Probability-spaces-random-variables.html#sigmaevent">2.1.7</a>, the smallest \(\sigma \)-field containing the events \(\{1,3\}, \{2\},
\{4\}, \{5\}\) and \(\{6\}\). It contains the information of which \(\omega \in \Omega \) we threw <i>except</i> that it can’t tell the difference between a \(1\) and a \(3\). If we tried to write \(\G _3\)
out in full we would discover that it had \(32\) elements (and probably make some mistakes!) so instead we just use Definition <a href="Probability-spaces-random-variables.html#sigmaevent">2.1.7</a>.
</p>

<p>
To check if \(X_1\in m\mc \G _3\), we need to check if \(\G _3\) contains \(\{1,3,5\}\) and \(\{2,4,6\}\). We can write
</p>

<p>
\[\{1,3,5\}=\{1,3\}\cup \{5\},\quad \quad \{2,4,6\}=\{2\}\cup \{4\}\cup \{6\}\]
</p>

<p>
which shows that \(\{1,3,5\},\{2,4,6\}\in \mc {G}_3\) because, in both cases, the right hand sides are made up of sets that we already know are in \(\G _3\), plus countable set operations. Hence, \(X_1\) is
\(\mc {G}_3\) measurable. You can check for yourself that \(X_2\) is also \(\mc {G}_3\) measurable.
</p>
<div class="theorembodyremark" >

<ul style="list-style-type:none">



<a id="autoid-28"></a>

<li>

<p>
<span class="theoremheaderplain" >Remark 2.2.3</span> <a id="autoid-29" ></a >\((\star )\) For continuous random variables, there is no equivalent of Lemma <a
href="Random-variables.html#lem:finitemeas">2.2.2</a>. More sophisticated tools from measure theory are needed – see MAS350/451/6352.
</p>


</li>

</ul>

</div>
<h5 id="autosec-55">\(\sigma \)-fields generated by random variables</h5>
<a id="notes_1-autopage-55"></a>



<p>
We can think of random variables as containing information, because their values tell us something about the result of the experiment. We can express this idea formally: there is a natural \(\sigma \)-field
associated to each function \(X:\Omega \to \R \).
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-30"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 2.2.4</span> <a id="autoid-31" ></a >The \(\sigma \)-field generated by \(X\), denoted \(\sigma (X)\), is
</p>

<p>
\[\sigma (X)=\sigma (X^{-1}(I)\-I\text { is a subinterval of }\R ).\]
</p>

<p>


</p>


</li>

</ul>

</div>

<p>
In words, \(\sigma (X)\) is the \(\sigma \)-field generated by the sets \(X^{-1}(I)\) for intervals \(I\). The intuition is that \(\sigma (X)\) is the smallest \(\sigma \)-field of events on which the random
behaviour of \(X\) depends.
</p>

<p>
For example, consider throwing a fair die. Let \(\Omega =\{1,2,3,4,5,6\}\), let \(\mc {F}=\mc {P}(\Omega )\). Let
</p>

<p>
\[ X(\omega )= \begin {cases} 1 &amp; \text { if }\omega \text { is odd}\\ 2 &amp; \text { if }\omega \text { is even.} \end {cases} \]
</p>

<p>
Then \(X(\omega )\in \{1,2\}\), with pre-images \(X^{-1}(1)=\{1,3,5\}\) and \(X^{-1}(2)=\{2,4,6\}\). The smallest \(\sigma \)-field that contains both of these subsets is
</p>

<p>
\[\sigma (X)=\Big \{\emptyset , \{1,3,5\}, \{2,4,6\}, \Omega \Big \}.\]
</p>

<p>
The information contained in this \(\sigma \)-field is whether \(\omega \) is even or odd, which is precisely the same information given by the value of \(X(\omega )\).
</p>

<p>
In general, if \(X\) takes lots of different values, \(\sigma (X)\) could be very big and we would have no hope of writing it out explicitly. Here’s another example: suppose that
</p>

<p>
\[ Y(\omega )= \begin {cases} 1 &amp; \text { if }\omega =1,\\ 2 &amp; \text { if }\omega =2,\\ 3 &amp; \text { if }\omega \geq 3.\\ \end {cases} \]
</p>

<p>
Then \(Y(\omega )\in \{1,2,3\}\) with pre-images \(Y^{-1}(1)=\{1\}\), \(Y^{-1}(2)=\{2\}\) and \(Y^{-1}(3)=\{3,4,5,6\}\). The smallest \(\sigma \)-field containing these three subsets is
</p>

<p>
\[\sigma (Y)=\Big \{\emptyset , \{1\}, \{2\}, \{3,4,5,6\}, \{1,2\}, \{1,3,4,5,6\}, \{2,3,4,5,6\}, \Omega \Big \}.\]
</p>

<p>
The information contained in this \(\sigma \)-field is whether \(\omega \) is equal to \(1\), \(2\) or some number \(\geq 3\). Again, this is precisely the same information as is contained in the value of
\(X(\omega )\).
</p>

<p>
It’s natural that \(X\) should be measurable with respect to the \(\sigma \)-field that contains precisely the information on which \(X\) depends. Formally:
</p>
<div class="theorembodylemma" >

<ul style="list-style-type:none">



<a id="autoid-32"></a>

<li>

<p>
<span class="theoremheaderplain" >Lemma 2.2.5</span> <a id="autoid-33" ></a ><a id="XXmeas"></a> Let \(X:\Omega \to \R \). Then \(X\) is \(\sigma (X)\)-measurable.
</p>


</li>

</ul>

</div>

<p>
<span class="textsc" >Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> Let \(I\) be a subinterval of \(\R \). Then, by definition of \(\sigma (X)\), we have that
\(X^{-1}(I)\in \sigma (X)\) for all \(I\). &#x2003;&#x2003;&#x220E;
</p>

<p>
If we have a finite or countable set of random variables \(X_1,X_2,\ldots \) we define \(\sigma (X_1,X_2,\ldots )\) to be \(\sigma (X^{-1}_1(I),X^{-1}_2(I),\ldots \-I\text { is a subinterval of
}\R )\). The intuition is the same: \(\sigma (X_1,X_2,\ldots )\) corresponds to the information jointly contained in \(X_1,X_2,\ldots \).
</p>
<h5 id="autosec-58">Combining random variables</h5>
<a id="notes_1-autopage-58"></a>



<p>
Given a collection of random variables, it is useful to be able to construct other random variables from them. To do so we have the following proposition. Since we will eventually deal with more than one \(\sigma
\)-field at once, it is useful to express this idea for a sub-\(\sigma \)-field \(\mc {G}\sw \mc {F}\).
</p>
<div class="theorembodyprop" >

<ul style="list-style-type:none">



<a id="autoid-34"></a>

<li>

<p>
<span class="theoremheaderplain" >Proposition 2.2.6</span> <a id="autoid-35" ></a ><a id="itsallmeas"></a> Let \(\alpha \in \R \) and let \(X,Y,X_1,X_2,\ldots \) be \(\mc {G}\)-measurable
functions from \(\Omega \to \R \). Then
</p>

<span class="hidden" > \(\seteqnumber{0}{2.}{1}\)</span>

<!--



                                                           α,     αX,   X + Y,   XY,   1/X,                                                      (2.2)                           --><a id="itsallmeaseq"></a><!--



-->

<p>


\begin{equation}
\label {itsallmeaseq} \alpha , \hspace {1pc}\alpha X, \hspace {1pc}X+Y, \hspace {1pc}XY, \hspace {1pc}1/X,
\end{equation}


</p>

<p>
are all \(\mc {G}\)-measurable. Further, if \(X_\infty \) given by
</p>

<p>
\[X_\infty (\omega )=\lim _{n\to \infty }X_n(\omega )\]
</p>

<p>
exists for all \(\omega \), then \(X_\infty \) is \(\mc {G}\)-measurable.
</p>


</li>

</ul>

</div>

<p>
Essentially, every natural way of combining random variables together leads to other random variables. Proposition <a href="Random-variables.html#itsallmeas">2.2.6</a> can usually be used to show this.
We won’t prove Proposition <a href="Random-variables.html#itsallmeas">2.2.6</a> in this course, see MAS350/451/6352.
</p>

<p>
For example, if \(X\) is a random variable then so is \(\frac {X^2+X}{2}\). For a more difficult example, suppose that \(X\) is a random variable and let \(Y=e^X\), which means that \(Y(\omega )=\lim _{n\to
\infty }\sum _{i=0}^n \frac {X(\omega )^i}{i!}\). Recall that we know from analysis that this limit exists since \(e^x=\lim _{n\to \infty }\sum _{i=0}^n \frac {x^i}{i!}\) exists for all \(x\in \R
\). Each of the partial sums
</p>

<p>
\[Y_n(\omega )=\sum _{i=0}^n\frac {X(\omega )^i}{i!}=1+X+\frac {X^2}{2}+\ldots +\frac {X^n}{n!}\]
</p>

<p>
is a random variable (we could use <span class="textup" >(<a href="Random-variables.html#itsallmeaseq">2.2</a>)</span> repeatedly to show this) and, since the limit exists, \(Y(\omega )=\lim _{n\to
\infty }Y_n(\omega )\) is measurable.
</p>

<p>
In general, if \(X\) is a random variable and \(g:\R \to \R \) is any ‘sensible’ function then \(g(X)\) is also a random variable. This includes polynomials, powers, all trig functions, all monotone functions, all
piecewise linear functions, all integrals/derivatives, etc etc.
</p>
<h5 id="autosec-60">Independence</h5>
<a id="notes_1-autopage-60"></a>



<p>
We can express the concept of independence, which you already know about for random variables, in terms of \(\sigma \)-fields. Recall that two events \(E_1,E_2\in \mc {F}\) are said to be independent if \(\P
[E_1\cap E_2]=\P [E_1]\P [E_2].\) Using \(\sigma \)-fields, we have a consistent way of defining independence, for both random variables and events.
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-36"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 2.2.7</span> <a id="autoid-37" ></a ><a id="indepdef"></a> Sub-\(\sigma \)-fields \(\G _1,\G _2\) of \(\F \) are said to be independent if \(\P
(G_1\cap G_2)=\P (G_1)\P (G_2)\) for all \(G_1\in \G _1\) and \(G_2\in \G _2\).
</p>

<p>
Events \(E_1\) and \(E_2\) are independent if \(\sigma (E_1)\) and \(\sigma (E_2)\) are independent.
</p>

<p>
Random variables \(X_1\) and \(X_2\) are independent if \(\sigma (X_1)\) and \(\sigma (X_2)\) are independent.
</p>

<p>


</p>


</li>

</ul>

</div>

<p>
It can be checked that, for events and random variables, this definition is equivalent to the definitions you will have seen in earlier courses. We won’t check this claim as part of our course, see MAS350/451/6352.
</p>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Infinite.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Infinite </title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-62"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-63"><span class="sectionnumber" >2.3&#x2003;</span>Infinite \(\Omega \)</h4>
<a id="notes_1-autopage-63"></a>
<a id="notes_1-autofile-9"></a>

<p>
So far we focused on finite sample spaces of the form \(\Omega =\{x_1,x_2,\ldots x_n\}\). In such a case we would normally take \(\mc {F}=\mc {P}(\Omega )\), which is also a finite set. Since \(\mc {F}\)
contains every subset of \(\Omega \), any \(\sigma \)-field on \(\Omega \) is a sub-\(\sigma \)-field of \(\mc {F}\). We have seen how it is possible to construct other \(\sigma \)-fields on \(\Omega \) too.
</p>

<p>
In this case we can define a probability measure on \(\Omega \) by choosing a finite sequence \(a_1,a_2,\ldots ,a_n\) such that each \(a_i\in [0,1]\) and \(\sum _1^n a_i=1\). We set \(\P [x_i]=a_i\).
This naturally extends to defining \(\P [A]\) for any subset \(A\sw \Omega \), by setting
</p>

<span class="hidden" > \(\seteqnumber{0}{2.}{2}\)</span>

<!--


                                                                    X                        X
                                                        P[A] =                 P[xi ] =                 ai .                                     (2.3)                         --><a id="Pfinitedef"></a><!--
                                                                 {i ; xi ∈A}              {i ; xi ∈A}



-->

<p>


\begin{equation}
\label {Pfinitedef} \P [A]=\sum _{\{i\-x_i\in A\}} \P [x_i]=\sum _{\{i\-x_i\in A\}} a_i.
\end{equation}


</p>

<p>
It is hopefully obvious (and tedious to check) that, with this definition, \(\P \) is a probability measure. Consequently \((\Omega ,\mc {F},\P )\) is a probability space.
</p>

<p>
All our experiments with (finitely many tosses/throws of) dice and coins fit into this category of examples. In fact, if our experiment has countably many outcomes, say, \(\Omega =\{x_1,x_2,\ldots \}\) we can
still work in much the same way, and the sum in <span class="textup" >(<a href="Infinite.html#Pfinitedef">2.3</a>)</span> will become an infinite series that sums to \(1\).
</p>

<p>
However, the theory of stochastic processes, as well as most sophisticated examples of stochastic models, require an <i>uncountable</i> sample space. In such cases, we can’t use <span class="textup" >(<a
href="Infinite.html#Pfinitedef">2.3</a>)</span>, because there is no such thing as an uncountable sum.
</p>
<h5 id="autosec-64">An example with infinite \(\Omega \)</h5>
<a id="notes_1-autopage-64"></a>



<a id="sec:inf_Om"></a>

<p>
We now flex our muscles a bit, and look at an example where \(\Omega \) is uncountable. We toss a coin infinitely many times, then \(\Omega =\{H,T\}^\N \), meaning that we write an outcome as a sequence
\(\omega =\omega _1,\omega _2,\ldots \) where \(\omega _i\in \{H,T\}\). The set \(\Omega \) is uncountable.
</p>

<p>
We define the random variables \(X_n(\omega )=\omega _n\), so as \(X_n\) represents the result (\(H\) or \(T\)) of the \(n^{th}\) throw. We take
</p>

<p>
\[ \F = \sigma (X_1,X_2,\ldots ) \]
</p>

<p>
i.e.&nbsp;\(\F \) is smallest \(\sigma \)-field with respect to which all the \(X_n\) are random variables. Then
</p>

<span class="hidden" > \(\seteqnumber{0}{2.}{3}\)</span>

<p>


\begin{eqnarray*}
\sigma (X_1) &amp;=&amp; \{\emptyset ,\{H\star \star \star \ldots \},\{T\star \star \star \ldots \},\Om \} \\ \sigma (X_1,X_2) &amp;=&amp; \sigma \Big (\{HH\star \star \ldots
\},\{TH\star \star \ldots \}, \{HT\star \star \ldots \},\{TT\star \star \ldots \} \Big ) \\ &amp;=&amp; \Big \{\emptyset , \{HH\star \star \ldots \},\{TH\star \star \ldots
\},\{HT\star \star \ldots \},\{TT\star \star \ldots \},\\ &amp;&amp; \{H\star \star \star \ldots \},\{T\star \star \star \ldots \},\{\star H\star \star \ldots \},\{\star T\star
\star \ldots \}, \left \{\begin{array}{l} HH\star \star \ldots \\TT\star \star \ldots \end {array} \right \}, \left \{\begin{array}{l} HT\star \star \ldots \\TH\star \star \ldots
\end {array} \right \}, \\ &amp;&amp; \{HH\star \star \ldots \}^c,\{TH\star \star \ldots \}^c,\{HT\star \star \ldots \}^c,\{TT\star \star \ldots \}^c, \Om \Big \},
\end{eqnarray*}


</p>

<p>
where \(\star \) means that it can take on either \(H\) or \(T\), so \(\{H\star \star \star \ldots \} = \{\om :           \om _1=H \}\).
</p>

<p>
With the information available to us in \(\sigma (X_1,X_2)\), we can distinguish between \(\om \)’s where the first or second outcomes are different. But if two \(\om \)’s have the same first and second
outcomes, they fall into exactly the same subset(s) of \(\sigma (X_1,X_2)\). Consequently, if a random variable depends on anything more than the first and second outcomes, it will not be \(\sigma (X_1,X_2)\)
measurable.
</p>

<p>
It is not immediately clear if we can define a probability measure on \(\mc {F}\)! Since \(\Omega \) is uncountable, we cannot use the idea of <span class="textup" >(<a
href="Infinite.html#Pfinitedef">2.3</a>)</span> and define \(\P \) in terms of \(\P [\omega ]\) for each individual \(\omega \in \Omega \). Equation <span class="textup" >(<a
href="Infinite.html#Pfinitedef">2.3</a>)</span> simply would not make sense; there is no such thing as an uncountable sum.
</p>

<p>
To define a probability measure in this case requires a significant amount of machinery from measure theory. It is outside of the scope of this course. For our purposes, whenever we need to use an infinite \(\Omega
\) you will be <i>given</i> a probability measure and some of its helpful properties. For example, in this case there exists a probability measure \(\P :\mc {F}\to [0,1]\) such that
</p>
<ul style="list-style-type:none">


<li>
<p>
• The \(X_n\) are independent random variables.
</p>


</li>
<li>
<p>
• \(\P [X_n=H]=\P [X_n=T]=\frac {1}{2}\) for all \(n\in \N \).
</p>
</li>
</ul>

<p>
From this, you can work with \(\P \) without having to know how \(\P \) was constructed. You don’t even need to know exactly which subsets of \(\Omega \) are in \(\mc {F}\), because Proposition <a
href="Random-variables.html#itsallmeas">2.2.6</a> gives you access to plenty of random variables.
</p>
<div class="theorembodyremark" >

<ul style="list-style-type:none">



<a id="autoid-38"></a>

<li>

<p>
<span class="theoremheaderplain" >Remark 2.3.1</span> <a id="autoid-39" ></a >(\(\star \)) In this case it turns out that \(\mc {F}\) is much smaller than \(\mc {P}(\Omega )\). In fact, if we tried
to take \(\mc {F}=\mc {P}(\Omega )\), we would (after some significant effort) discover that there is no probability measure \(\P :\mc {P}(\Omega )\to [0,1]\) satisfying the two conditions we wanted in
Definition <a href="Probability-spaces-random-variables.html#Pmeasdef">2.1.3</a> for \(\P \). This is irritating, and surprising, and we just have to live with it.
</p>


</li>

</ul>

</div>
<h5 id="autosec-66">Almost surely</h5>
<a id="notes_1-autopage-66"></a>



<p>
In the example from Section <a href="Infinite.html#sec:inf_Om">2.3</a> we used \(\Omega =\{H,T\}^\N \), which is the set of all sequences made up of \(H\)s and \(T\)s. Our probability measure was
independent, fair, coin tosses and we used the random variable \(X_n\) for the \(n^{th}\) toss.
</p>

<p>
Let’s examine this example a bit. First let us note that, for any individual sequence \(\omega _1,\omega _2,\ldots \) of heads and tails, by independence
</p>

<p>
\[\P [X_1=\omega _1, X_2=\omega _2, \ldots ]=\frac 12\cdot \frac 12\cdot \frac 12\ldots =0.\]
</p>

<p>
So every element of \(\Omega \) has probability zero. This is not a problem – if we take enough elements of \(\Omega \) together then we do get non-zero probabilities, for example
</p>

<p>
\[\P [X_1=H]=\P \l [\omega \in \Omega \text { such that }\omega _1=H\r ]=\frac 12\]
</p>

<p>
which is not surprising.
</p>

<p>
The probability that we never throw a head is
</p>

<p>
\[ \P [\text {for all }n, X_n=T]=\frac 12\cdot \frac 12\ldots =0 \]
</p>

<p>
which means that the probability that we eventually throw a head is
</p>

<p>
\[\P [\text {for some }n, X_n=H]=1-\P [\text {for all }n, X_n=T]=1.\]
</p>

<p>
So, the event \(\{\text {for some }n, X_n=H\}\) has probability \(1\), but is <i>not equal to</i> the whole sample space \(\Omega \). To handle this situation we have a piece of terminology.
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-40"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 2.3.2</span> <a id="autoid-41" ></a >If the event \(E\) has \(\P [E]=1\), then we say \(E\) occurs almost surely.
</p>


</li>

</ul>

</div>

<p>
So, we would say that ‘almost surely, our coin will eventually throw a head’. We might say that ‘\(Y\leq 1\)’ almost surely, to mean that \(\P [Y\leq 1]=1\). This piece of terminology will be used very frequently
from now on. We might sometimes say that an event ‘almost always’ happens, with the same meaning.
</p>

<p>
For another example, suppose that we define \(q^H_n\) and \(q^T_n\) to be the proportion of heads and, respectively, tails in the first \(n\) coin tosses \(X_1,X_2,\ldots ,X_n\). Formally, this means that
</p>

<p>
\[q^H_n=\frac {1}{n}\sum \limits _{i=1}^n\1\{X_i=H\}\quad \text {and}\quad q^T_n=\frac {1}{n}\sum \limits _{i=1}^n\1\{X_i=T\}.\]
</p>

<p>
Of course \(q^H_n+q^T_n=1\).
</p>

<p>
The random variables \(\1\{X_i=H\}\) are i.i.d.&nbsp;with \(\E [\1\{X_i=H\}]=\frac 12\), hence by Theorem <a href="Expectation-Arbitrage.html#thm:slln">1.1.1</a> we have \(\P [q^H_n\to \tfrac
12\text { as }n\to \infty ]=1,\) and by the same argument we have also \(\P [q^T_n\to \frac 12\text { as }n\to \infty ]=1\). In words, this means that in the long run half our tosses will be tails
and half will be heads (which makes sense - our coin is fair). That is, the event
</p>

<p>
\[E=\l \{\lim \limits _{n\to \infty }q^H_n=\frac 12\;\text { and }\lim \limits _{n\to \infty }q^T_n=\frac 12\r \}\]
</p>

<p>
occurs almost surely.
</p>

<p>
There are many many examples of sequences (e.g. \(HHTHHTHHT\ldots \)) that don’t have \(q^T_n\to \frac 12\) and \(q^H_n\to \frac 12\). We might think of the event \(E\) as being only a ‘small’ subset of
\(\Omega \), but it has probability one.
</p>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Expectation.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Expectation</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-68"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-69"><span class="sectionnumber" >2.4&#x2003;</span>Expectation</h4>
<a id="notes_1-autopage-69"></a>
<a id="notes_1-autofile-10"></a> <a id="sec:expectation"></a>

<p>
There is only one part of the ‘usual machinery’ for probability that we haven’t yet discussed, namely expectation.
</p>

<p>
Recall that the expectation of a discrete random variable \(X\) that takes the values \(\{x_i:i\in \N \}\) is given by
</p>

<span class="hidden" > \(\seteqnumber{0}{2.}{3}\)</span>

<!--


                                                                        X
                                                               E[X] =         xi P[X = xi ].                                                  (2.4)                          --><a id="eq:E_discrete"></a><!--
                                                                         xi



-->

<p>


\begin{equation}
\label {eq:E_discrete} \E [X]=\sum _{x_i} x_i \P [X=x_i].
\end{equation}


</p>

<p>
For a continuous random variables, the expectation uses an integral against the probability density function,
</p>

<span class="hidden" > \(\seteqnumber{0}{2.}{4}\)</span>

<!--

                                                                              Z   ∞
                                                                  E[X] =              x fX (x) dx.                                                    (2.5)                       --><a id="eq:E_cont"></a><!--
                                                                              −∞




-->

<p>


\begin{equation}
\label {eq:E_cont} \E [X]=\int _{-\infty }^\infty x\,f_X(x)\,dx.
\end{equation}


</p>

<p>
Recall also that it is possible for limits (i.e.&nbsp;infinite sums) and integrals to be infinite, or not exist at all.
</p>

<p>
We are now conscious of the general definition of a random variable \(X\), as an \(\mc {F}\)-measurable function from \(\Omega \) to \(\R \). There are many random variables that are neither discrete nor
continuous, and for such cases <span class="textup" >(<a href="Expectation.html#eq:E_discrete">2.4</a>)</span> and <span class="textup" >(<a
href="Expectation.html#eq:E_cont">2.5</a>)</span> are not valid; we need a more general approach.
</p>

<p>
With <i>Lebesgue integration</i>, the expectation \(\E \) can be defined using a single definition that works for both discrete and continuous (and other more exotic) random variables. This definition relies
heavily on analysis and is well beyond the scope of this course. Instead, Lebesgue integration is covered in MAS350/451/6352.
</p>

<p>
For purposes of this course, what you should know is: \(\E [X]\) is defined for all \(X\) such that either
</p>
<ul style="list-style-type:none">


<li>
<p>
1. \(X\geq 0\), in which case it is possible that \(\E [X]=\infty \),
</p>


</li>
<li>
<p>
2. general \(X\) for which \(\E [|X|]&lt;\infty \).
</p>
</li>
</ul>

<p>
The point here is that we are prepared to allow ourselves to write \(\E [X]=\infty \) (e.g.&nbsp;when the sum or integral in <span class="textup" >(<a
href="Expectation.html#eq:E_discrete">2.4</a>)</span> or <span class="textup" >(<a href="Expectation.html#eq:E_cont">2.5</a>)</span> tends to \(\infty \)) <i>provided</i> that \(X\geq 0\).
We are not prepared to allow expectations to equal \(-\infty \), because we have to avoid nonsensical ‘\(\infty -\infty \)’ situations.
</p>

<p>
It’s worth knowing that if \(X\geq 0\) and \(\P [X=\infty ]&gt;0\), then \(\E [X]=\infty \). In words, the slightest chance of \(X\) being infinite will outweigh all of the finite possibilities and make \(\E
[X]\) infinite.
</p>

<p>
You may still use <span class="textup" >(<a href="Expectation.html#eq:E_discrete">2.4</a>)</span> and <span class="textup" >(<a href="Expectation.html#eq:E_cont">2.5</a>)</span>, in the
discrete/continuous cases. You may also assume that all the ‘standard’ properties of \(\E \) hold:
</p>
<div class="theorembodyprop" >

<ul style="list-style-type:none">



<a id="autoid-42"></a>

<li>

<p>
<span class="theoremheaderplain" >Proposition 2.4.1</span> <a id="autoid-43" ></a ><a id="prop:E"></a> For random variables \(X,Y\):
</p>

<p>
(Linearity) If \(a,b\in \R \) then \(\E [aX+bY]=a\E [X]+b\E [Y]\).<br />
(Independence) If \(X\) and \(Y\) are independent then \(\E [XY]=\E [X]\E [Y]\).<br />
(Absolute values) \(\l |\E [X]\r |\leq \E [|X|]\).<br />
(Monotonicity) If \(X\leq Y\) then \(\E [X]\leq \E [Y]\).
</p>


</li>

</ul>

</div>

<p>
You should become familiar with any of the properties that you are not already used to using. The proofs of these properties are part of the formal construction of \(\E \) and are not part of our course.
</p>
<h5 id="autosec-71">Indicator functions</h5>
<a id="notes_1-autopage-71"></a>



<p>
One important type of random variable is an indicator function. Let \(A\in \mc {F}\), then the indicator function of \(A\) is the function
</p>

<p>
\[\1_A(\omega )= \begin {cases} 1 &amp; \omega \in A\\ 0 &amp; \omega \notin A. \end {cases} \]
</p>

<p>
The indicator function is used to tell if an event occurred (in which case it is \(1\)) or did not occur (in which case it is \(0\)). It is useful to remember that
</p>

<p>
\[\P [A]=\E [\1_A].\]
</p>

<p>
We will sometimes not put the \(A\) as a subscript and write e.g.&nbsp;\(\1\{X&lt;0\}\) for the indicator function of the event that \(X&lt;0\).
</p>

<p>
As usual, let \(\mc {G}\) denote a sub \(\sigma \)-field of \(\mc {F}\).
</p>
<div class="theorembodylemma" >

<ul style="list-style-type:none">



<a id="autoid-44"></a>

<li>

<p>
<span class="theoremheaderplain" >Lemma 2.4.2</span> <a id="autoid-45" ></a ><a id="lem:indicator_meas"></a> Let \(A\in \mc {G}\). Then the function \(\1_A\) is \(\mc {G}\)-measurable.
</p>


</li>

</ul>

</div>

<p>
<span class="textsc" >Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> Let us write \(Y=\1_A\). Note that \(Y\) is a discrete random variable, which can take the
two values \(0\) and \(1\). We have \(Y^{-1}(1)=\{Y=1\}=A\) and \(Y^{-1}(0)=\{Y=0\}=\Omega \sc A\). By Proposition <a href="Random-variables.html#lem:finitemeas">2.2.2</a>, \(Y\) is \(\mc
{G}\) measurable. &#x2003;&#x2003;&#x220E;
</p>

<p>
Indicator functions allow us to <i>condition</i>, meaning that we can break up a random variable into two or more cases. For example, given any random variable \(X\) we can write
</p>

<span class="hidden" > \(\seteqnumber{0}{2.}{5}\)</span>

<!--



                                                         X = X 1{X≥1} + X 1{X<1} .                                                           (2.6)                            --><a id="eq:condition_ex"></a><!--



-->

<p>


\begin{equation}
\label {eq:condition_ex} X=X\1_{\{X\geq 1\}}+X\1_{\{X&lt;1\}}.
\end{equation}


</p>

<p>
Precisely one of the two terms on the right hand side is non-zero. If \(X\geq 1\) then the first term takes the value \(X\) and the second is zero; if \(X&lt;1\) then the second term is equal to \(X\) and the first
term is zero.
</p>

<p>
We can use <span class="textup" >(<a href="Expectation.html#eq:condition_ex">2.6</a>)</span> to prove a useful inequality. Putting \(|X|\) in place of \(X\), and then taking \(\E \) we obtain
</p>
<span class="hidden" > \(\seteqnumber{0}{2.}{6}\)</span>



<!--



                                                                                       E[|X|] = E[|X|1{|X|≥1} ] + E[|X|1{|X|<1} ]

                                                                                              ≤ E[X 2 1{X≥1} ] + 1

                                                                                              ≤ E[X 2 ] + 1.                              (2.7)                                        --><a id="eq:L1L2"></a><!--



-->



<p>


\begin{align}
\E [|X|]&amp;=\E [|X|\1_{\{|X|\geq 1\}}]+\E [|X|\1_{\{|X|&lt;1\}}]\notag \\ &amp;\leq \E [X^2\1_{\{X\geq 1\}}]+1\notag \\ &amp;\leq \E [X^2]+1.\label {eq:L1L2}
\end{align}
Here, to deduce the second line, the key point is we can only use the inequality \(|x|\leq x^2\) if \(x\geq 1\). Hence, for the first term we can use that \(|X|\1_{\{|X|\geq 1\}}\leq X^2\1_{\{|X|\geq
1\}}\). For the second term, we use that \(|X|\1_{\{|X|&lt;1\}}\leq 1\). In both cases, we also need the monotonicity of \(\E \).
</p>
<h5 id="autosec-73">\(L^p\) spaces</h5>
<a id="notes_1-autopage-73"></a>



<p>
It will often be important for to us know whether a random variable \(X\) has finite mean and variance. Some random variables do not, see exercise <a
href="Exercises-on-Chapter-ref-chap-prob_meas.html#ps:not_int_rv"><b>2.8</b></a> (or MAS223) for example. Random variables with finite mean and variances are easier to work with than those which
don’t, and many of the results in this course require these conditions.
</p>

<p>
We use some notation:
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-46"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 2.4.3</span> <a id="autoid-47" ></a >Let \(p\in [1,\infty )\). We say that \(X\in L^p\) if \(\E [|X|^p]&lt;\infty \).
</p>


</li>

</ul>

</div>

<p>
In this course, we will only be interested in the cases \(p=1\) and \(p=2\). These cases have the following set of useful properties:
</p>
<ul style="list-style-type:none">


<li>
<p>
1. By definition, \(L^1\) is the set of random variables for which \(\E [|X|]\) is finite.
</p>


</li>
<li>
<p>
2. \(L^2\) is the set of random variables with finite variance. To show this fact, we use that \(\var (X)=\E [X^2]-\E [X]^2\), so \(\var (X)&lt;\infty \iff \E [X^2]&lt;\infty \).
</p>


</li>
<li>
<p>
3. From <span class="textup" >(<a href="Expectation.html#eq:L1L2">2.7</a>)</span>, if \(X\in L^2\) then also \(X\in L^1\).
</p>
</li>
</ul>

<p>
Often, to check if \(X\in L^p\) we must calculate \(\E [|X|^p]\). A special case where it is automatic is the following.
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-48"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 2.4.4</span> <a id="autoid-49" ></a >We say that a random variable \(X\) is bounded if there exists (deterministic) \(c\in \R \) such that \(|X|\leq c\).
</p>


</li>

</ul>

</div>

<p>
If \(X\) is bounded, then using monotonicity we have \(\E [|X|^p]\leq \E [c^p]=c^p&lt;\infty \), which means that \(X\in L^p\), for all \(p\).
</p>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Exercises-on-Chapter-ref-chap-prob_meas.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-76"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-77"><span class="sectionnumber" >2.5&#x2003;</span>Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></h4>
<a id="notes_1-autopage-77"></a>
<a id="notes_1-autofile-11"></a>
<h5 id="autosec-78">On probability spaces</h5>
<a id="notes_1-autopage-78"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>2.1</b> <a id="ps:two_dice_sample"></a> Consider the experiment of throwing two dice, then recording the uppermost faces of both dice. Write down a suitable sample space \(\Omega \) and suggest an
appropriate \(\sigma \)-field \(\mc {F}\).
</p>
</li>
<li>
<p>
<b>2.2</b> <a id="ps:sigma_meas"></a> Let \(\Omega =\{1,2,3\}\). Let
</p>
<span class="hidden" > \(\seteqnumber{0}{2.}{7}\)</span>


<!--



                                                                                         F = {∅, {1}, {2, 3}, {1, 2, 3}},

                                                                                        F 0 = {∅, {2}, {1, 3}, {1, 2, 3}}.



-->


<p>


\begin{align*}
\mc {F}&amp;=\{\emptyset , \{1\}, \{2,3\}, \{1,2,3\}\},\\ \mc {F}’&amp;=\{\emptyset , \{2\}, \{1,3\}, \{1,2,3\}\}.
\end{align*}


</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Show that \(\mc {F}\) and \(\mc {F}’\) are both \(\sigma \)-fields.
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Show that \(\mc {F}\cup \mc {F}’\) is not a \(\sigma \)-field, but that \(\mc {F}\cap \mc {F}\) is
a \(\sigma \)-field.
</p>
</li>
</ul>
</li>
<li>
<p>
<b>2.3</b> <a id="ps:inf_Om"></a> Let \(\Omega =\{H,T\}^\N \) be the probability space from Section <a href="Infinite.html#sec:inf_Om">2.3</a>, corresponding to an infinite sequence of independent
fair coin tosses \((X_n)_{n=1}^\infty \).
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Fix \(m\in \N \). Show that the probability that that random sequence \(X_1,X_2,\ldots ,\) contains
precisely \(m\) heads is zero.
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Deduce that, almost surely, the sequence \(X_1,X_2,\ldots \) contains infinitely many heads and
infinitely many tails.
</p>
</li>
</ul>
</li>
<li>
<p>
<b>2.4</b> <a id="ps:rv_meas_1"></a> Let \(\Omega =\{1,2,3,4,5,6\}\), corresponding to one roll of a die. In each of the following cases describe, in words, the information contained within the given
\(\sigma \)-field.
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> \(\F _1=\big \{\emptyset ,\{1,2,3,4,5\},\{6\},\Omega \big \}\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> \(\F _2=\sigma \big (\{1\},\{2\},\{3\},\{4,5,6\}\big )\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(c)</span></span></span> \(\F _3=\big \{\emptyset ,\{1,2\},\{3,4\},\{5,6\}, \{1,2,3,4\}, \{3,4,5,6\}, \{1,2,5,6\},
\Omega \big \}\).
</p>
</li>
</ul>
</li>
</ul>
<h5 id="autosec-79">On random variables</h5>
<a id="notes_1-autopage-79"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>2.5</b> <a id="ps:rv_meas_2"></a> Let \(\Omega =\{1,2,3,4,5\}\) and set
</p>
<span class="hidden" > \(\seteqnumber{0}{2.}{7}\)</span>


<!--


                                                                                                                
                                                                                      G1 = σ {1, 5}, {2, 4}, {3}
                                                                                           
                                                                                      G2 = ∅, {1, 2}, {3, 4, 5}, Ω .



-->


<p>


\begin{align*}
\G _1&amp;=\sigma \big (\{1,5\},\{2,4\},\{3\}\big )\\ \G _2&amp;=\big \{\emptyset ,\{1,2\},\{3,4,5\},\Omega \big \}.
\end{align*}


</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Define \(X_1:\Omega \to \R \) by \(X_1(\omega )=(\omega -3)^2\). Show that \(X_1\in m\G _1\)
and \(X_1\notin m\G _2\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Give an example of a function \(X_2:\Omega \to \R \) such that \(X_2\in m\G _2\) and \(X_2\notin
m\G _1\).
</p>
</li>
</ul>
</li>
<li>
<p>
<b>2.6</b> <a id="ps:two_coin_toss_sigma"></a> Let \(\Omega =\{HH,HT,TH,TT\}\), representing two coin tosses. Define \(X\) to be the total number of heads shown. Write down all the events in \(\sigma
(X)\).
</p>
</li>
<li>
<p>
<b>2.7</b> <a id="ps:rv_gen"></a> Let \(X\) be a random variable. Explain why \(\frac {X}{X^2+1}\) and \(\sin (X)\) are also random variables.
</p>
</li>
<li>
<p>
<b>2.8</b> <a id="ps:not_int_rv"></a> Let \(X\) be a random variable with the probability density function \(f:\R \to \R \) given by
</p>
<p>
\[f(x)= \begin {cases} 2x^{-3} &amp; \text { if }x\in [1,\infty ),\\ 0 &amp; \text { otherwise.} \end {cases} \]
</p>
<p>
Show that \(X\in L^1\) but \(X\notin L^2\).
</p>
</li>
<li>
<p>
<b>2.9</b> <a id="ps:Lpq"></a> Let \(1\leq p\leq q&lt;\infty \).
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Generalize <span class="textup" >(<a href="Expectation.html#eq:L1L2">2.7</a>)</span> to show
that \(\E [|X|^p]\leq \E [|X|^q]+1\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Deduce that if \(X\in L^q\) then \(X\in L^p\).
</p>
</li>
</ul>
</li>
<li>
<p>
<b>2.10</b> <a id="ps:markovs_ineq"></a> Let \(a&gt;0\) and let \(X\) be a random variable such that \(X\geq 0\). Show that \(\P [X\geq a]\leq \frac {1}{a}\E [X].\)
</p>
<p>


</p>
</li>
</ul>
<h5 id="autosec-80">Challenge questions</h5>
<a id="notes_1-autopage-80"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>2.11</b> <a id="ps:exp_zero"></a> Show that if \(\P [X\geq 0]=1\) and \(\E [X]=0\) then \(\P [X=0]=1\).
</p>
<p>


</p>
</li>
</ul>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Conditional-expectation-martingales.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Conditional expectation and martingales</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-81"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h3 id="autosec-82">Chapter&nbsp;<span class="sectionnumber" >3&#x2003;</span>Conditional expectation and martingales</h3>
<a id="notes_1-autopage-82"></a>
<a id="notes_1-autofile-12"></a>

<a id="chap:cond_exp"></a>

<p>
We will introduce conditional expectation, which provides us with a way to estimate random quantities based on only partial information. We will also introduce martingales, which are the mathematical way to
capture the concept of a fair game.
</p>
<h4 id="autosec-83"><span class="sectionnumber" >3.1&#x2003;</span>Conditional expectation</h4>
<a id="notes_1-autopage-83"></a>



<p>
Suppose \(X\) and \(Z\) are random variables that take on only finitely many values \(\{x_1,\ldots ,x_m\}\) and \(\{z_1,\ldots ,z_n\}\), respectively. In earlier courses, ‘conditional expectation’ was defined
as follows:
</p>

<span class="hidden" > \(\seteqnumber{0}{3.}{0}\)</span>



<!--



                                    P[X = xi | Z = zj ] = P[X = xi , Z = zj ]/P[Z = zj ]
                                                            X
                                         E[X | Z = zj ] =        xi P[X = xi | Z = zj ]
                                                             i
                                 Y = E[X | Z] where:         if \(Z(\om )=z_j\), then \(Y(\om )=\E [X\|Z=z_j]\)                                   --><a id="naivecondexp"></a><!--                                     (3.1)



-->



<p>


\begin{eqnarray}
\P [X=x_i\|Z=z_j] &amp;=&amp; \P [X=x_i,Z=z_j] / \P [Z=z_j] \notag \\ \E [X\|Z=z_j] &amp;=&amp; \sum _i x_i \P [X=x_i\|Z=z_j] \notag \\ Y = \E [X\|Z] \mbox { where:} &amp;&amp;
\mbox { if $Z(\om )=z_j$, then $Y(\om )=\E [X\|Z=z_j]$} \label {naivecondexp}
\end{eqnarray}


</p>

<p>
You might also have seen a second definition, using probability density functions, for continuous random variables. These definitions are problematic, for several reasons, chiefly (1) its not immediately clear how the
two definitions interact and (2) we don’t want to be restricted to handling only discrete or only continuous random variables.
</p>

<p>
In this section, we define the conditional expectation of random variables using \(\sigma \)-fields. In this setting we are able to give a unified definition which is valid for general random variables. The definition is
originally due to Kolmogorov (in 1933), and is sometimes referred to as Kolmogorov’s conditional expectation. It is one of the most important concepts in modern probability theory.
</p>

<p>
Conditional expectation is a mathematical tool with the following function. We have a probability space \((\Omega ,\mc {F},\P )\) and a random variable \(X:\Omega \to \R \). However, \(\mc {F}\) is large
and we want to work with a sub-\(\sigma \)-algebra \(\mc {G}\), instead. As a result, we want to have a random variable \(Y\) such that
</p>
<ul style="list-style-type:none">


<li>
<p>
1. \(Y\) is \(\mc {G}\)-measurable
</p>


</li>
<li>
<p>
2. \(Y\) is ‘the best’ way to approximate \(X\) with a \(\mc {G}\)-measurable random variable
</p>
</li>
</ul>

<p>
The second statement on this wish-list does not fully make sense; there are many different ways in which we could compare \(X\) to a potential \(Y\).
</p>

<p>
Why might we want to do this? Imagine we are conducting an experiment in which we gradually gain information about the result \(X\). This corresponds to gradually seeing a larger and larger \(\mc {G}\), with
access to more and more information. At all times we want to keep a prediction of what the future looks like, based on the currently available information. This prediction is \(Y\).
</p>

<p>
It turns out there is <i>only one</i> natural way in which to realize our wish-list (which is convenient, and somewhat surprising). It is the following:
</p>
<div class="theorembodytheorem" >

<ul style="list-style-type:none">



<a id="autoid-50"></a>

<li>

<p>
<span class="theoremheaderplain" >Theorem 3.1.1 (Conditional Expectation)</span> <a id="autoid-51" ></a ><a id="thm:cond_exp"></a> Let \(X\) be an \(L^1\) random variable on \((\Om ,\F ,\P
)\). Let \(\G \) be a sub-\(\sigma \)-field of \(\F \). Then there exists a random variable \(Y\in L^1\) such that
</p>
<ul style="list-style-type:none">


<li>
<p>
1. \(Y\) is \(\G \)-measurable,
</p>


</li>
<li>
<p>
2. for every \(G\in \G \), we have \(\E [Y\1_G]=\E [X\1_G]\).
</p>
</li>
</ul>

<p>
Moreover, if \(Y’\in L^1\) is a second random variable satisfying these conditions, \(\P [Y=Y’]=1\).
</p>


</li>

</ul>

</div>

<p>
The first and second statements here correspond respectively to the items on our wish-list.
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-52"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 3.1.2</span> <a id="autoid-53" ></a >We refer to \(Y\) as (a version of) the <i>conditional expectation</i> of \(X\) given \(\mc {G}\). and we write
</p>

<p>
\[Y=\E [X\|\mc {G}].\]
</p>

<p>


</p>


</li>

</ul>

</div>

<p>
Since any two such \(Y\) are almost surely equal so we sometimes refer to \(Y\) simply as <i>the</i> conditional expectation of \(X\). This is a slight abuse of notation, but it is commonplace and harmless.
</p>

<p>
Proof of Theorem <a href="Conditional-expectation-martingales.html#thm:cond_exp">3.1.1</a> is beyond the scope of this course. Loosely speaking, there is an abstract recipe which constructs \(\E
[X|\mc {G}]\). It begins with the random variable \(X\), and then averages out over all the information that is not accessible to \(\mc {G}\), leaving only as much randomness as \(\mc {G}\) can support, resulting
in \(\E [X|\mc {G}]\). In this sense the map \(X\mapsto \E [X|\mc {G}]\) simplifies (i.e.&nbsp;reduces the amount of randomness in) \(X\) in a very particular way, to make it \(\mc {G}\) measurable.
</p>

<p>
It is important to remember that \(\E [X|\mc {G}]\) is (in general) a random variable. It is also important to remember that the two objects
</p>

<p>
\[\E [X|\mc {G}]\hspace {1pc}\text { and }\hspace {1pc}\E [X|Z=z]\]
</p>

<p>
are quite different. They are both useful. We will explore the connection between them in Section <a href="Conditional-expectation-martingales.html#naivecondecpsec">3.1</a>. Before doing so, let us
look at a basic example.
</p>

<p>
Let \(X_1,X_2\) be independent random variables such that \(\P [X_i=-1]=\P [X_i=1]=\frac {1}{2}\). Set \(\mc {F}=\sigma (X_1,X_2)\). We will show that
</p>

<span class="hidden" > \(\seteqnumber{0}{3.}{1}\)</span>

<!--



                                                        E[X1 + X2 |σ(X1 )] = X1 .                                                         (3.2)                            --><a id="eq:condexpexguess"></a><!--



-->

<p>


\begin{equation}
\label {eq:condexpexguess} \E [X_1+X_2|\sigma (X_1)]=X_1.
\end{equation}


</p>

<p>
To do so, we should check that \(X_1\) satisfies the two conditions in Theorem <a href="Conditional-expectation-martingales.html#thm:cond_exp">3.1.1</a>, with
</p>
<span class="hidden" > \(\seteqnumber{0}{3.}{2}\)</span>



<!--



                                                                                                     X = X1 + X2

                                                                                                     Y = X1

                                                                                                     G = σ(X1 ).



-->



<p>


\begin{align*}
X&amp;=X_1+X_2\\ Y&amp;=X_1\\ \mc {G}&amp;=\sigma (X_1).
\end{align*}
The first condition is immediate, since by Lemma <a href="Random-variables.html#XXmeas">2.2.5</a> \(X_1\) is \(\sigma (X_1)\)-measurable i.e.&nbsp;\(Y\in m\mc {G}\). To see the second condition, let
\(G\in \sigma (X_1)\). Then \(\1_G\in \sigma (X_1)\) by Lemma <a href="Expectation.html#lem:indicator_meas">2.4.2</a> and \(X_2\in \sigma (X_2)\), and these \(\sigma \)-fields are
independent, so \(\1_G\) and \(X_2\) are independent. Hence
</p>
<span class="hidden" > \(\seteqnumber{0}{3.}{2}\)</span>



<!--



                                                                                       E[(X1 + X2 )1G ] = E[X1 1G ] + E[1G X2 ]

                                                                                                        = E[X1 1G ] + E[1G ]E[X2 ]

                                                                                                        = E[X1 1G ] + P[G].0

                                                                                                        = E[X1 1G ].



-->



<p>


\begin{align*}
\E [(X_1+X_2)\1_G] &amp;=\E [X_1\1_G]+\E [1_G X_2]\\ &amp;=\E [X_1\1_G]+\E [1_G]\E [X_2]\\ &amp;=\E [X_1\1_G]+\P [G].0\\ &amp;=\E [X_1\1_G].
\end{align*}
This equation says precisely that \(\E [X\1_G]=\E [Y\1_G]\). We have now checked both conditions, so by Theorem <a href="Conditional-expectation-martingales.html#thm:cond_exp">3.1.1</a> we have
\(\E [X|\mc {G}]=Y\), meaning that \(\E [X_1+X_2|\sigma (X_1)]=X_1\), which proves our claim in <span class="textup" >(<a
href="Conditional-expectation-martingales.html#eq:condexpexguess">3.2</a>)</span>.
</p>

<p>
The intuition for this, which is plainly visible in our calculation, is that \(X_2\) is independent of \(\sigma (X_1)\) so, thinking of conditional expectation as an operation which averages out all randomness in
\(X=X_1+X_2\) that is not \(\mc {G}=\sigma (X_1)\) measurable, we would average out \(X_2\) completely i.e.&nbsp;\(\E [X_2]=0\).
</p>

<p>
We could equally think of \(X_1\) as being our best guess for \(X_1+X_2\), given only information in \(\sigma (X_1)\), since \(\E [X_2]=0\). In general, guessing \(\E [X|\mc {G}]\) is not so easy!
</p>
<h5 id="autosec-86">Relationship to the naive definition \((\star )\)</h5>
<a id="notes_1-autopage-86"></a>



<a id="naivecondecpsec"></a>

<p>
Conditional expectation extends the ‘naive’ definition of <span class="textup" >(<a href="Conditional-expectation-martingales.html#naivecondexp">3.1</a>)</span>. Naturally, the ‘new’ conditional
expectation is much more general (and, moreover, it is what we require later in the course), but we should still take the time to relate it to the naive definition.
</p>
<div class="theorembodyremark" >

<ul style="list-style-type:none">



<a id="autoid-54"></a>

<li>

<p>
<span class="theoremheaderplain" >Remark 3.1.3</span> <a id="autoid-55" ></a >This subsection is marked with a \((\star )\), meaning that it is non-examinable. This is so as you can forget the old
definition and remember the new one!
</p>


</li>

</ul>

</div>

<p>
To see the connection, we focus on the case where \(X,Z\) are random variables with finite sets of values \(\{x_1,\ldots ,x_n\}\), \(\{z_1,\ldots ,z_m\}\). Let \(Y\) be the naive version of conditional
expectation defined in <span class="textup" >(<a href="Conditional-expectation-martingales.html#naivecondexp">3.1</a>)</span>. That is,
</p>

<p>
\[Y(\omega )=\sum \limits _{j}\1_{\{Z(\omega )=z_j\}}\E [X|Z=z_j].\]
</p>

<p>
We can use Theorem <a href="Conditional-expectation-martingales.html#thm:cond_exp">3.1.1</a> to check that, in fact, \(Y\) is a version of \(\E [X|\sigma (Z)]\). We want to check that \(Y\) satisfies
the two properties listed in Theorem <a href="Conditional-expectation-martingales.html#thm:cond_exp">3.1.1</a>.
</p>
<ul style="list-style-type:none">


<li>
<p>
• Since \(Z\) only takes finitely many values \(\{z_1,\ldots ,z_m\}\), from the above equation we have that \(Y\) only takes finitely many values. These values are \(\{y_1,\ldots , y_m\}\) where \(y_j=\E
[X|Z=z_j]\). We note
</p>
<span class="hidden" > \(\seteqnumber{0}{3.}{2}\)</span>


<!--



                                                                                      Y −1 (yj ) = {ω ∈ Ω ; Y (ω) = E[X|Z = zj ]}

                                                                                              = {ω ∈ Ω ; Z(ω) = zj }

                                                                                              = Z −1 (zj ) ∈ σ(Z).



-->


<p>


\begin{align*}
Y^{-1}(y_j)&amp;=\{\omega \in \Omega \-Y(\omega )=\E [X|Z=z_j]\}\\ &amp;=\{\omega \in \Omega \-Z(\omega )=z_j\}\\ &amp;=Z^{-1}(z_j)\in \sigma (Z).
\end{align*}
This is sufficient (although we will omit the details) to show that \(Y\) is \(\sigma (Z)\)-measurable.
</p>


</li>
<li>
<p>
• We can calculate
</p>
<span class="hidden" > \(\seteqnumber{0}{3.}{2}\)</span>


<!--



                                                                                E[Y 1{Z = zj }] = yj E[1{Z = zj }]

                                                                                                = yj P[Z = zj ]
                                                                                                    X
                                                                                                =         xi P[X = xi |Z = zj ]P[Zj = zj ]
                                                                                                     i
                                                                                                    X
                                                                                                =         xi P[X = xi and Z = zj ]
                                                                                                     i

                                                                                                          xi 1{Z=zj } P[X = xi and Z = zj ]
                                                                                                    X
                                                                                                =
                                                                                                    i,j

                                                                                                = E[X 1{Z=zj } ].



-->


<p>


\begin{align*}
\E [Y\1\{Z=z_j\}]&amp;=y_j\E [\1\{Z=z_j\}]\\ &amp;=y_j\P [Z=z_j]\\ &amp;=\sum \limits _i x_i\P [X=x_i|Z=z_j]\P [Z_j=z_j]\\ &amp;=\sum \limits _i x_i \P [X=x_i\text { and
}Z=z_j]\\ &amp;=\sum \limits _{i,j}x_i\1_{\{Z=z_j\}}\P [X=x_i\text { and }Z=z_j]\\ &amp;=\E [X\1_{\{Z=z_j\}}].
\end{align*}
Properly, to check that \(Y\) satisfies the second property in Theorem <a href="Conditional-expectation-martingales.html#thm:cond_exp">3.1.1</a>, we need to check \(\E [Y\1_G]=\E [X\1_G]\) for a
general \(G\in \sigma (Z)\) and not just \(G=\{Z=z_j\}\). However, for reasons beyond the scope of this course, in this case (thanks to the fact that \(Z\) is finite) its enough to consider only \(G\) of the form
\(\{Z=z_j\}\).
</p>
</li>
</ul>

<p>
Therefore, we have \(Y=\E [X|\sigma (Z)]\) almost surely. In this course we favour writing \(\E [X|\sigma (Z)]\) instead of \(\E [X|Z]\), to make it clear that we are looking at conditional expectation with
respect to a \(\sigma \)-field.
</p>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Properties-conditional-expectation.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Properties of conditional expectation</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-88"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-89"><span class="sectionnumber" >3.2&#x2003;</span>Properties of conditional expectation</h4>
<a id="notes_1-autopage-89"></a>
<a id="notes_1-autofile-13"></a> <a id="prop:cond_E"></a>

<p>
In all but the easiest cases, calculating conditional expectations explicitly from Theorem <a href="Conditional-expectation-martingales.html#thm:cond_exp">3.1.1</a> is not feasible. Instead, we are able to
work with them via a set of useful properties, provided by the following proposition.
</p>
<div class="theorembodyprop" >

<ul style="list-style-type:none">



<a id="autoid-56"></a>

<li>

<p>
<span class="theoremheaderplain" >Proposition 3.2.1</span> <a id="autoid-57" ></a ><a id="condnexpbasicprops"></a> Let \(\mc {G},\mc {H}\) be sub-\(\sigma \)-fields of \(\mc {F}\) and
\(X,Y,Z\in L^1\). Then, almost surely,
</p>

<p>
(Linearity) \(\E [a_1 X_1+ a_2 X_2\|\G ]= a_1\E [X_1\|\G ]+a_2\E [X_2\|\G ]\).
</p>

<p>
(Absolute values) \(|\E [X\|\G ]|\leq \E [|X|\|\G ]\).
</p>

<p>
(Montonicity) If \(X\le Y\), then \(\E [X|\G ]\le \E [Y|\G ]\).
</p>

<p>
(Constants) If \(a\in \R \) (deterministic) then \(\E [a\|\G ]=a\).
</p>

<p>
(Measurability) If \(X\) is \(\G \)-measurable, then \(\E [X\|\G ]= X\).
</p>

<p>
(Independence) If \(X\) is independent of \(\mc {G}\) then \(\E [X\|\G ]=\E [X]\).
</p>

<p>
(Taking out what is known) If \(Z\) is \(\G \) measurable, then \(\E [ZX\|\G ]= Z\E [X\|\G ]\).
</p>

<p>
(Tower) If \(\H \subset \G \) then \(\E [\E [X\|\G ]\|\H ]= \E [X\|\H ]\).
</p>

<p>
(Taking \(\E \)) It holds that \(\E [\E [X\|\G ]]=\E [X]\).
</p>

<p>
(No information) It holds that \(\E [X\|\{\emptyset ,\Omega \}]=\E [X]\),
</p>

<p>


</p>


</li>

</ul>

</div>

<p>
Proof of these properties is beyond the scope of our course – they are part of MAS350/451/6352. Note that the first five properties above are common properties of both \(\E [\cdot ]\) and \(\E [\cdot \|\mc
{G}]\).
</p>

<p>
We’ll use these properties extensively, for the whole of the remainder of the course. They are not on the formula sheet – you should remember them and become familiar with applying them.
</p>
<div class="theorembodyremark" >

<ul style="list-style-type:none">



<a id="autoid-58"></a>

<li>

<p>
<span class="theoremheaderplain" >Remark 3.2.2</span> <a id="autoid-59" ></a >\((\star )\) Although we have not proved the properties in Proposition <a
href="Properties-conditional-expectation.html#condnexpbasicprops">3.2.1</a>, they are intuitive properties for conditional expectation to have.
</p>

<p>
For example, in the taking out what is known property, we can think of \(Z\) as already being simple enough to be \(\mc {G}\) measurable, so we’d expect that taking conditional expectation with respect to \(\mc
{G}\) doesn’t need to affect it.
</p>

<p>
In the independence property, we can think of \(\mc {G}\) as giving us no information about the value \(X\) is taking, so our best guess at the value of \(X\) has to be simply \(\E [X]\).
</p>

<p>
In the tower property for \(\E [\E [X|\mc {G}]|\mc {H}]\), we start with \(X\), simplify it to be \(\mc {G}\) measurable and simplify it to be \(\mc {H}\) measurable. But since \(\mc {H}\sw \mc {G}\), we
might as well have just simplified \(X\) enough to be \(\mc {H}\) measurable in a single step, which would be \(\E [X|\mc {H}]\).
</p>

<p>
Etc.&nbsp;It is a useful exercise for you to try and think of ‘intuitive’ arguments for the other properties too, so as you can easily remember them.
</p>


</li>

</ul>

</div>
<h5 id="autosec-92">Conditional expectation as an estimator</h5>
<a id="notes_1-autopage-92"></a>



<p>
The conditional expectation \(Y=\E [X\|\G ]\) is the ‘best least-squares estimator’ of \(X\), based on the information available in \(\G \). We can state this rigorously and use our toolkit from Proposition <a
href="Properties-conditional-expectation.html#condnexpbasicprops">3.2.1</a> prove it. It demonstrates another way in which \(Y\) is ‘the best’ \(\mc {G}\)-measurable approximation to \(X\), and
provides our first example of using the properties of \(\E [X\|\mc {G}]\).
</p>
<div class="theorembodylemma" >

<ul style="list-style-type:none">



<a id="autoid-60"></a>

<li>

<p>
<span class="theoremheaderplain" >Lemma 3.2.3</span> <a id="autoid-61" ></a >Let \(\mc {G}\) be a sub-\(\sigma \)-field of \(\mc {F}\). Let \(X\) be an \(\mc {F}\)-measurable random variable
and let \(Y=\E [X|\mc {G}]\). Suppose that \(Y’\) is a \(\G \)-measurable, random variable. Then
</p>

<p>
\[\E [(X-Y)^2]\leq \E [(X-Y’)^2].\]
</p>

<p>


</p>


</li>

</ul>

</div>

<p>
<span class="textsc" >Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> We note that
</p>
<span class="hidden" > \(\seteqnumber{0}{3.}{2}\)</span>



<!--



                                                                       E[(X − Y 0 )2 ] = E[(X − Y + Y − Y 0 )2 ]

                                                                                                        (3.3) − Y )(Y − Y 0 )] + E[(Y − Y 0 )2 ].
                                                                                     = E[(X − Y )2 ] + 2E[(X                                                                 --><a id="leastsqreq"></a><!--



-->



<p>


\begin{align}
\E [(X-Y’)^2] &amp;= \E [(X-Y+Y-Y’)^2]\notag \\ &amp;= \E [(X-Y)^2] + 2\E [(X-Y)(Y-Y’)] + \E [(Y-Y’)^2].\label {leastsqreq}
\end{align}
In the middle term above, we can write
</p>
<span class="hidden" > \(\seteqnumber{0}{3.}{3}\)</span>



<!--



                                                                                 E[(X − Y )(Y − Y 0 )] = E[E[(X − Y )(Y − Y 0 )|G]]

                                                                                                       = E[(Y − Y 0 )E[X − Y |G]]

                                                                                                       = E[(Y − Y 0 )(E[X|G] − Y )].



-->



<p>


\begin{align*}
\E [(X-Y)(Y-Y’)] &amp;= \E [\E [(X-Y)(Y-Y’)|\mc {G}]]\\ &amp;=\E [(Y-Y’)\E [X-Y|\mc {G}]]\\ &amp;=\E [(Y-Y’)(\E [X|\mc {G}]-Y)].
\end{align*}
Here, in the first step we used the ‘taking \(\E \)’ property, in the second step we used Proposition <a href="Random-variables.html#itsallmeas">2.2.6</a> to tell us that \(Y-Y’\) is \(\mc {G}\)-measurable,
followed by the ‘taking out what is known’ rule. In the final step we used the linearity and measurability properties. Since \(\E [X|\mc {G}]=Y\) almost surely, we obtain that \(\E [(X-Y)(Y-Y’)]=0\). Hence,
since \(\E [(Y-Y’)^2]\geq 0\), from <span class="textup" >(<a href="Properties-conditional-expectation.html#leastsqreq">3.3</a>)</span> we obtain \(\E [(X-Y’)^2] \ge \E [(X-Y)^2]\).
&#x2003;&#x2003;&#x220E;
</p>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Martingales.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Martingales</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-94"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-95"><span class="sectionnumber" >3.3&#x2003;</span>Martingales</h4>
<a id="notes_1-autopage-95"></a>
<a id="notes_1-autofile-14"></a> <a id="sec:martingales"></a>

<p>
In this section we introduce martingales, which are the mathematical representation of a ‘fair game’. As usual, let \((\Om ,\F ,\P )\) be a probability space.
</p>

<p>
We refer to a sequence of random variables \((S_n)_{n=0}^\infty \) as a stochastic process. In this section of the course we only deal with discrete time stochastic processes. We say that a stochastic process
\((S_n)\) is <i>bounded</i> if there exists (deterministic) \(c\in \R \) such that \(|S_n(\omega )|\leq c\) for all \(n,\omega \).
</p>

<p>
We have previously discussed the idea of gradually learning more and more information about the outcome of some experiment, through seeing the information visible from gradually larger \(\sigma \)-fields. We
formalize this concept as follows.
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-62"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 3.3.1</span> <a id="autoid-63" ></a >A sequence of \(\sigma \)-fields \((\F _n)_{n=0}^\infty \) is known as a filtration if \(\F _0\subseteq \F
_1\ldots \subseteq \F .\)
</p>


</li>

</ul>

</div>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-64"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 3.3.2</span> <a id="autoid-65" ></a ><a id="def:adapted"></a> We say that a stochastic process \(X=(X_n)\) is adapted to the filtration \((\mc {F}_n)\)
if, for all \(n\), \(X_n\) is \(\F _n\) measurable.
</p>


</li>

</ul>

</div>

<p>
We should think of the filtration \(\mc {F}_n\) as telling us which information we have access too at time \(n=1,2,\ldots \). Thus, an adapted process is a process whose (random) value we know at all times
\(n\in \N \).
</p>

<p>
We are now ready to give the definition of a martingale.
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-66"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 3.3.3</span> <a id="autoid-67" ></a ><a id="martdef"></a> A process \(M=(M_n)_{n=0}^\infty \) is a martingale if
</p>
<ul style="list-style-type:none">


<li>
<p>
1. if \((M_n)\) is adapted,
</p>


</li>
<li>
<p>
2. \(M_n\in L^1\) for all \(n\),
</p>


</li>
<li>
<p>
3. \(\E [M_{n+1}\|\F _{n}]=M_{n}\) almost surely, for all \(n\).
</p>
</li>
</ul>

<p>
We say that \(M\) is a submartingale if, instead of 3, we have \(\E [M_n\|\F _{n-1}]\geq M_{n-1}\) almost surely.<br />
We say that \(M\) is a supermartingale if, instead of 3, we have \(\E [M_n\|\F _{n-1}]\leq M_{n-1}\) almost surely.
</p>


</li>

</ul>

</div>
<div class="theorembodyremark" >

<ul style="list-style-type:none">



<a id="autoid-68"></a>

<li>

<p>
<span class="theoremheaderplain" >Remark 3.3.4</span> <a id="autoid-69" ></a >The second condition in Definition <a href="Martingales.html#martdef">3.3.3</a> is needed for the third to make
sense.
</p>


</li>

</ul>

</div>
<div class="theorembodyremark" >

<ul style="list-style-type:none">



<a id="autoid-70"></a>

<li>

<p>
<span class="theoremheaderplain" >Remark 3.3.5</span> <a id="autoid-71" ></a >\((M_n)\) is a martingale iff it is both a submartingale and a supermartingale.
</p>


</li>

</ul>

</div>

<p>
A martingale is the mathematical idealization of a fair game. It is best to understand what we mean by this through an example.
</p>

<p>
Let \((X_n)\) be a sequence of i.i.d.&nbsp;random variables such that
</p>

<p>
\[\P [X_i=1]=\P [X_i=-1]=\frac {1}{2}.\]
</p>

<p>
Define \(\mc {F}_n=\sigma (X_1,\ldots ,X_n)\) and \(\mc {F}_0=\{\emptyset ,\Omega \}\). Then \((\mc {F}_n)\) is a filtration. Define
</p>

<p>
\[S_n=\sum \limits _{i=1}^n X_i\]
</p>

<p>
(and \(S_0=0\)). We can think of \(S_n\) as a game in the following way. At each time \(n=1,2,\ldots \) we toss a coin. We win if the \(n^{th}\) round if the coin is heads, and lose if it is tails. Each time we
win we score \(1\), each time we lose we score \(-1\). Thus, \(S_n\) is our score after \(n\) rounds. The process \(S_n\) is often called a simple random walk.
</p>

<p>
We claim that \(S_n\) is a martingale. To see this, we check the three properties in the definition. (1) Since \(X_1,X_2,\ldots ,X_n\in m\sigma (X_1,\ldots ,X_n)\) we have that \(S_n\in \mc {F}_n\) for all
\(n\in \N \). (2) Since \(|S_n|\leq n\) for all \(n\in \N \), \(\E [|S_n|]\leq n\) for all \(n\), so \(S_n\in L^1\) for all \(n\). (3) We have
</p>
<span class="hidden" > \(\seteqnumber{0}{3.}{3}\)</span>



<!--



                                                                                       E [Sn+1 | Fn ] = E[Xn+1 | Fn ] + E[Sn | Fn ]

                                                                                                     = E[Xn+1 ] + Sn

                                                                                                     = Sn .



-->



<p>


\begin{align*}
\E \l [S_{n+1}\|\mc {F}_{n}\r ]&amp;=\E [X_{n+1}\|\mc {F}_n]+\E [S_n\|\mc {F}_n]\\ &amp;=\E [X_{n+1}]+S_n\\ &amp;=S_n.
\end{align*}
Here, in the first line we used the linearity of conditional expectation. To deduce the second line we used the relationship between independence and conditional expectation (for the first term) and the measurability
rule (for the second term). To deduce the final line we used that \(\E [X_{n+1}]=(1)\frac 12+(-1)\frac 12=0\).
</p>

<p>
At time \(n\) we have seen the result of rounds \(1,2,\ldots ,n\), so the information we currently have access to is given by \(\mc {F}_n\). This means that at time \(n\) we know \(S_1,\ldots ,S_n\). But
we don’t know \(S_{n+1}\), because \(S_{n+1}\) is not \(\mc {F}_n\)-measurable. However, using our current information we can make our best guess at what \(S_{n+1}\) will be, which naturally is \(\E
[S_{n+1}|\mc {F}_n]\). Since the game is fair, in the future, on average we do not expect to win more than we lose, that is \(\E [S_{n+1}|\mc {F}_n]=S_n\).
</p>

<p>
In this course we will see many examples of martingales, and we will gradually build up an intuition for how to recognize a martingale. There is, however, one easy sufficient (but not necessary) condition under
which we can recognize that a stochastic process is not a martingale.
</p>
<div class="theorembodylemma" >

<ul style="list-style-type:none">



<a id="autoid-72"></a>

<li>

<p>
<span class="theoremheaderplain" >Lemma 3.3.6</span> <a id="autoid-73" ></a ><a id="notmart"></a> Let \((\mc {F}_n)\) be a filtration and suppose that \((M_n)\) is a martingale. Then
</p>

<p>
\[\E [M_n]=\E [M_0]\]
</p>

<p>
for all \(n\in \N \).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc" >Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> We have \(\E [M_{n+1}|\mc {F}_n]=M_n\). Taking expectations and using the ‘taking
\(\E \)’ property from Proposition <a href="Properties-conditional-expectation.html#condnexpbasicprops">3.2.1</a>, we have \(\E [M_{n+1}]=\E [M_n]\). The result follows by a trivial induction.
&#x2003;&#x2003;&#x220E;
</p>

<p>
Suppose, now, that \((X_n)\) is an i.i.d.&nbsp;sequence of random variables such that \(\P [X_i=2]=\P [X_i=-1]=\frac {1}{2}\). Note that \(\E [X_n]&gt;0\). Define \(S_n\) and \(\mc {F}_n\) as before.
Now, \(\E [S_n]=\sum _1^n\E [X_n]\), which is not constant, so \(S_n\) is not a martingale. However, as before, \(S_n\) is \(\mc {F}_n\)-measurable, and \(|S_n|\leq 2n\) so \(S_n\in L^1\), essentially as
before. We have
</p>
<span class="hidden" > \(\seteqnumber{0}{3.}{3}\)</span>



<!--



                                                                                       E[Sn+1 |Fn ] = E[Xn+1 |Fn ] + E[Sn |Fn ]

                                                                                                   = E[Xn+1 ] + Sn

                                                                                                   ≥ Sn .



-->



<p>


\begin{align*}
\E [S_{n+1}|\mc {F}_n]&amp;=\E [X_{n+1}|\mc {F}_n]+\E [S_n|\mc {F}_n]\\ &amp;=\E [X_{n+1}]+S_n\\ &amp;\geq S_n.
\end{align*}
Hence \(S_n\) is a submartingale.
</p>

<p>
In general, if \((M_n)\) is a submartingale, then by definition \(\E [M_{n+1}\|\mc {F}_n]\geq M_n\), so taking expectations gives us \(\E [M_{n+1}]\geq \E [M_n]\). For supermartingales we get \(\E
[M_{n+1}]\leq \E [M_n]\). In words: submartingales, on average, increase, whereas supermartingales, on average, decrease. The use of super- and sub- is counter intuitive in this respect.
</p>
<div class="theorembodyremark" >

<ul style="list-style-type:none">



<a id="autoid-74"></a>

<li>

<p>
<span class="theoremheaderplain" >Remark 3.3.7</span> <a id="autoid-75" ></a >Sometimes we will want to make it clear which filtration is being used in the definition of a martingale. To do so we might
say that \((M_n)\) is an \(\mc {F}_n\)-martingale’, or that \((M_n)\) is a martingale with respect to \(\mc {F}_n\)’. We use the same notation for super/sub-martingales.
</p>

<p>
Our definition of a filtration and a martingale both make sense if we look at only a finite set of times \(n=1,\ldots , N\). We sometimes also use the terms filtration and martingale in this situation.
</p>


</li>

</ul>

</div>

<p>
We end this section with two important general examples of martingales. You should check the conditions yourself, as exercise <a
href="Exercises-on-Chapter-ref-chap-cond_exp.html#ps:mart_exs"><b>3.3</b></a>.
</p>
<div class="theorembodyexample" >

<ul style="list-style-type:none">



<a id="autoid-76"></a>

<li>

<p>
<span class="theoremheaderplain" >Example 3.3.8</span> <a id="autoid-77" ></a ><a id="ex:m1"></a> Let \((X_n)\) be a sequence of i.i.d.&nbsp;random variables such that \(\E [X_n]=1\) for all
\(n\), and there exists \(c\in \R \) such that \(|X_n|\leq c\) for all \(n\). Define \(\mc {F}_n=\sigma (X_1,\ldots ,X_n)\). Then
</p>

<p>
\[M_n=\prod _{i=1}^n X_n\]
</p>

<p>
is a martingale.
</p>


</li>

</ul>

</div>
<div class="theorembodyexample" >

<ul style="list-style-type:none">



<a id="autoid-78"></a>

<li>

<p>
<span class="theoremheaderplain" >Example 3.3.9</span> <a id="autoid-79" ></a ><a id="ex:m2"></a> Let \(Z\in L^1\) be a random variable and let \((\mc {F}_n)\) be a filtration. Then
</p>

<p>
\[M_n=\E [Z|\mc {F}_n]\]
</p>

<p>
is a martingale.
</p>


</li>

</ul>

</div>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Exercises-on-Chapter-ref-chap-cond_exp.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-105"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-106"><span class="sectionnumber" >3.4&#x2003;</span>Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></h4>
<a id="notes_1-autopage-106"></a>
<a id="notes_1-autofile-15"></a>
<h5 id="autosec-107">On conditional expectation and martingales</h5>
<a id="notes_1-autopage-107"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>3.1</b> <a id="ps:cond_exp_calc"></a> Let \((X_n)\) be a sequence of independent identically distributed random variables, such that \(\P [X_i=1]=\frac 12\) and \(\P [X_i=-1]=\frac 12\). Let
</p>
<p>
\[S_n=\sum \limits _{i=1}^nX_i.\]
</p>
<p>
Use the properties of conditional expectation to find \(\E [S_2\|\sigma (X_1)]\) and \(\E [S_2^2\|\sigma (X_1)]\) in terms of \(X_1\), \(X_2\) and their expected values.
</p>
</li>
<li>
<p>
<b>3.2</b> <a id="ps:biased_walk_mart"></a> Let \((X_n)\) be a sequence of independent random variables such that \(\P [X_n=2]=\frac 13\) and \(\P [X_n=-1]=\frac 23\). Set \(\mc {F}_n=\sigma
(X_i\-i\leq n)\). Show that \(S_n=\sum _{i=1}^nX_i\) is an \(\mc {F}_n\) martingale.
</p>
</li>
<li>
<p>
<b>3.3</b> <a id="ps:mart_exs"></a> Check that Examples <a href="Martingales.html#ex:m1">3.3.8</a> and <a href="Martingales.html#ex:m2">3.3.9</a> are martingales.
</p>
</li>
<li>
<p>
<b>3.4</b> <a id="ps:subsupmartmart"></a>Let \((M_t)\) be a stochastic process that is both and submartingale and a supermartingale. Show that \((M_t)\) is a martingale.
</p>
</li>
<li>
<p>
<b>3.5</b> <a id="ps:mart_alt_char"></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Let \((M_n)\) be an \(\mc {F}_n\) martingale. Show that, for all \(0\leq n\leq m\), \(\E [M_m\|\mc
{F}_n]=M_n\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Guess and state (without proof) the analogous result to (a) for submartingales.
</p>
</li>
</ul>
</li>
<li>
<p>
<b>3.6</b> <a id="ps:doob_pre"></a> Let \((M_n)\) be a \(\mc {F}_n\) martingale and suppose \(M_n\in L^2\) for all \(n\). Show that
</p>
<span class="hidden" > \(\seteqnumber{0}{3.}{3}\)</span>
<!--


                                           2
                                        E[Mn+1 |Fn ] = Mn2 + E[(Mn+1 − Mn )2 |Fn ]                                      (3.4)                                   --><a id="eq:doob_decomp_pre"></a><!--


-->
<p>


\begin{equation}
\label {eq:doob_decomp_pre} \E [M_{n+1}^2|\mc {F}_n]=M_n^2+\E [(M_{n+1}-M_n)^2|\mc {F}_n]
\end{equation}


</p>
<p>
and deduce that \((M_n^2)\) is a submartingale.
</p>
</li>
<li>
<p>
<b>3.7</b> <a id="ps:mart_linear"></a> Let \(X_0,X_1,\ldots \) be a sequence of \(L^1\) random variables. Let \(\mc {F}_n\) be their generated filtration and suppose that \(\E [X_{n+1}|\mc
{F}_n]=aX_n+bX_{n-1}\) for all \(n\in \N \), where \(a,b&gt;0\) and \(a+b=1\).
</p>
<p>
Find a value of \(\alpha \in \R \) (in terms of \(a,b\)) for which \(S_n=\alpha X_n+X_{n-1}\) is an \(\mc {F}_n\) martingale.
</p>
<p>


</p>
</li>
</ul>
<h5 id="autosec-108">Challenge questions</h5>
<a id="notes_1-autopage-108"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>3.8</b> <a id="ps:cond_exp_2"></a> In the setting of <a href="Exercises-on-Chapter-ref-chap-cond_exp.html#ps:cond_exp_calc"><b>3.1</b></a>, show that \(\E [X_1\|\sigma (S_n)]=\frac
{S_n}{n}\).
</p>
</li>
</ul>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Stochastic-processes.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Stochastic processes</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-109"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h3 id="autosec-110">Chapter&nbsp;<span class="sectionnumber" >4&#x2003;</span>Stochastic processes</h3>
<a id="notes_1-autopage-110"></a>
<a id="notes_1-autofile-16"></a>

<a id="chap:stoch_procs"></a>

<p>
In this chapter we introduce stochastic processes, with a selection of examples that are commonly used as building blocks in stochastic modelling. We show that these stochastic processes are closely connected to
martingales.
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-80"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 4.0.1</span> <a id="autoid-81" ></a >A stochastic process (in discrete time) is a sequence \((X_n)_{n=0}^\infty \) of random variables. We think of \(n\)
as ‘time’.
</p>


</li>

</ul>

</div>

<p>
For example, a sequence of i.i.d.&nbsp;random variables is a stochastic process. A martingale is a stochastic process. A Markov chain (from MAS275, for those who took it) is a stochastic process. And so on.
</p>

<p>
For any stochastic process \((X_n)\) the <i>natural</i> or <i>generated filtration</i> of \((X_n)\) is the filtration given by
</p>

<p>
\[\mc {F}_n=\sigma (X_1,X_2,\ldots ,X_n).\]
</p>

<p>
Therefore, a random variable is \(\mc {F}_m\) measurable if it depends only on the behaviour of our stochastic process up until time \(m\).
</p>

<p>
From now on we adopt the convention (which is standard in the field of stochastic processes) that whenever we don’t specify a filtration explicitly we mean to use the generated filtration.
</p>
<h4 id="autosec-112"><span class="sectionnumber" >4.1&#x2003;</span>Random walks</h4>
<a id="notes_1-autopage-112"></a>



<p>
Random walks are stochastic processes that ‘walk around’ in space. We think of a particle that moves between vertices of \(\Z \). At each step of time, the particle chooses at random to either move up or down, for
example from \(x\) to \(x+1\) or \(x-1\).
</p>
<h5 id="autosec-113">Symmetric random walk</h5>
<a id="notes_1-autopage-113"></a>



<a id="sec:ssrw"></a>

<p>
Let \((X_i)_{i=1}^\infty \) be a sequence of i.i.d.&nbsp;random variables where
</p>

<span class="hidden" > \(\seteqnumber{0}{4.}{0}\)</span>

<!--


                                                                          1
                                                  P[Xi = 1] = P[Xi = −1] = .                                                   (4.1)                        --><a id="eq:srw_step"></a><!--
                                                                          2


-->

<p>


\begin{equation}
\label {eq:srw_step} \P [X_i=1]=\P [X_i=-1]=\frac {1}{2}.
\end{equation}


</p>

<p>
The symmetric random walk is the stochastic process
</p>

<p>
\[S_n=\sum \limits _{i=1}^n X_i.\]
</p>

<p>
By convention, this means that \(S_0=0\). A <i>sample path</i> of \(S_n\), which means a sample of the sequence \(S_0,S_1,S_2,\ldots \), might look like:
</p>
<div class="center" >

<p>


<a href="srw.jpg" target="_blank" ><img
      src="srw.jpg"
      style="
      width:282pt;
      "
      class="inlineimage"
      alt="(image)"
></a>
</p>
</div>

<p>
Note that when time is discrete \(t=0,1,2,\ldots \) it is standard to draw the location of the random walk (and other stochastic processes) as constant in between integer time points.
</p>

<p>
Because of <span class="textup" >(<a href="Stochastic-processes.html#eq:srw_step">4.1</a>)</span>, the random walk is equally likely to move upwards or downwards. This case is known as the
‘symmetric’ random walk because, if \(S_0=0\), the two stochastic processes \(S_n\) and \(-S_n\) have the same distribution.
</p>

<p>
We have already seen (in Section <a href="Martingales.html#sec:martingales">3.3</a>) that \(S_n\) is a martingale, with respect to its generated filtration
</p>

<p>
\[\mc {F}_n=\sigma (X_1,\ldots ,X_n)=\sigma (S_1,\ldots ,S_n).\]
</p>

<p>
It should seem very natural that \((S_n)\) is a martingale – going upwards as much as downwards is ‘fair’.
</p>
<h5 id="autosec-115">Asymmetric random walk</h5>
<a id="notes_1-autopage-115"></a>



<a id="sec:asrw"></a>

<p>
Let \((X_i)_{i=1}^\infty \) be a sequence of i.i.d.&nbsp;random variables. Let \(p+q=1\) with \(p,q\in [0,1]\), \(p\neq q\) and suppose that
</p>

<p>
\[\P [X_i=1]=p,\hspace {1pc}\P [X_i=-1]=q.\]
</p>

<p>
The asymmetric random walk is the stochastic process
</p>

<p>
\[S_n=\sum \limits _{i=1}^n X_i.\]
</p>

<p>
The key difference to the symmetric random walk is that here we have \(p\neq q\) (the symmetric random walk has \(p=q=\frac 12\)). The asymmetric random is more likely to step upwards than downwards if
\(p&gt;q\), and vice versa if \(q&lt;p\). The technical term for this behaviour is <i>drift</i>. A sample path for the case \(p&gt;q\) might look like:
</p>
<div class="center" >

<p>


<a href="brw.jpg" target="_blank" ><img
      src="brw.jpg"
      style="
      width:282pt;
      "
      class="inlineimage"
      alt="(image)"
></a>
</p>
</div>

<p>
This is ‘unfair’, because of the drift upwards, so we should suspect that the asymmetric random walk is not a martingale. In fact,
</p>

<span class="hidden" > \(\seteqnumber{0}{4.}{1}\)</span>

<!--


                                                         n
                                                         X                n
                                                                          X
                                              E[Sn ] =         E[Xi ] =         (p − q) = n(p − q),                                               (4.2)               --><a id="eq:rw_drift"></a><!--
                                                         i=1              i=1



-->

<p>


\begin{equation}
\label {eq:rw_drift} \E [S_n]=\sum \limits _{i=1}^n\E [X_i]=\sum \limits _{i=1}^n(p-q)=n(p-q),
\end{equation}


</p>

<p>
whereas \(\E [S_0]=0\). Thus, Lemma <a href="Martingales.html#notmart">3.3.6</a> confirms that \(S_n\) is not a martingale. However, the process
</p>

<span class="hidden" > \(\seteqnumber{0}{4.}{2}\)</span>

<!--



                                                    Mn = Sn − n(p − q)                                                                   (4.3)                 --><a id="eq:drift_compensate"></a><!--



-->

<p>


\begin{equation}
\label {eq:drift_compensate} M_n=S_n-n(p-q)
\end{equation}


</p>

<p>
is a martingale. The key is that the term \(n(p-q)\) <i>compensates</i> for the drift and ‘restores fairness’.
</p>

<p>
We’ll now prove that \((M_n)\) is a martingale. Since \(X_i\in m\mc {F}_n\) for all \(i\leq n\), by Proposition <a href="Random-variables.html#itsallmeas">2.2.6</a> we have \(S_n-n(p-q)\in m\mc
{F}_n\). Since \(|X_i|\leq 1\) we have
</p>

<p>
\[|S_n-n(p-q)|\leq |S_n|+n|p-q|\leq n+n|p-q|\]
</p>

<p>
and hence \(M_n\) is bounded, so \(M_n\in L^1\). Lastly,
</p>
<span class="hidden" > \(\seteqnumber{0}{4.}{3}\)</span>



<!--



                                                                                E[Sn+1 − (n + 1)(p − q) | Fn ] = E[Sn+1 | Fn ] − (n + 1)(p − q)

                                                                                                              = E[Xn+1 | Fn ] + E[Sn | Fn ] − (n + 1)(p − q)

                                                                                                              = E[Xn+1 ] + Sn − (n + 1)(p − q)

                                                                                                              = (p − q) + Sn − (n + 1)(p − q)

                                                                                                              = Sn − n(p − q).



-->



<p>


\begin{align*}
\E [S_{n+1}-(n+1)(p-q)\|\mc {F}_n] &amp;=\E [S_{n+1}\|\mc {F}_n]-(n+1)(p-q)\\ &amp;=\E [X_{n+1}\|\mc {F}_n]+\E [S_n\|\mc {F}_n]-(n+1)(p-q)\\ &amp;=\E [X_{n+1}]+S_n-(n+1)(p-q)\\
&amp;=(p-q)+S_n-(n+1)(p-q)\\ &amp;=S_n-n(p-q).
\end{align*}
Therefore \(\E [M_{n+1}\|\mc {F}_n]=M_n\), and \((M_n)\) is a martingale.
</p>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Urn-processes.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Urn processes</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-117"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-118"><span class="sectionnumber" >4.2&#x2003;</span>Urn processes</h4>
<a id="notes_1-autopage-118"></a>
<a id="notes_1-autofile-17"></a> <a id="sec:urn"></a>

<p>
Urn processes are ‘balls in bags’ processes. In the simplest kind of urn process, which we look at in this section, we have just a single urn (i.e.&nbsp;bag) that contains balls of two different colours.
</p>

<p>
At time \(0\), an urn contains \(1\) black ball and \(1\) red ball. Then, for each \(n=1,2,\ldots ,\) we generate the state of the urn at time \(n\) by doing the following:
</p>
<ul style="list-style-type:none">


<li>
<p>
1. Draw a ball from the urn, look at its colour, and return this ball to the urn.
</p>


</li>
<li>
<p>
2. Add a new ball of the same colour as the drawn ball.
</p>
</li>
</ul>

<p>
So, at time \(n\) (which means: after the \(n^{th}\) iteration of the above steps is completed) there are \(n+2\) balls in the urn. This process is known as the <i>Po&#x0301;lya</i> urn.
</p>

<p>
Let \(B_n\) be the number of red balls in the urn at time \(n\), and note that \(B_0=1\). Set \((\mc {F}_n)\) to be the filtration generated by \((B_n)\).
</p>

<p>
Our first step is to note that \(B_n\) itself is <i>not</i> a martingale. The reason is that over time we will put more and more red balls into the urn, so the number of red balls drifts upwards over time. Formally,
we can note that
</p>
<span class="hidden" > \(\seteqnumber{0}{4.}{3}\)</span>



<!--



                                                                    E[Bn+1 | Fn ] = E[Bn+1 1{(n+1)th draw is red} | Fn ] + E[Bn+1 1{(n+1)th draw is black} | Fn ]

                                                                                    = E[(Bn + 1)1{(n+1)th draw is red} | Fn ] + E[Bn 1{(n+1)th draw is black} | Fn ]

                                                                                    = (Bn + 1)E[1{(n+1)th draw is red} | Fn ] + Bn E[1{(n+1)th draw is black} | Fn ]
                                                                                               Bn            Bn
                                                                                                                           
                                                                                    = (Bn + 1)     + Bn 1 −
                                                                                              n+2           n+2
                                                                                     Bn (n + 3)
                                                                                    = (4.4)     > Bn .                                                                         --><a id="eq:urn_Bn_submart"></a><!--
                                                                                       n+2



-->



<p>


\begin{align}
\E [B_{n+1}\|\mc {F}_n] &amp;=\E [B_{n+1}\1_{\{(n+1)^{th}\text { draw is red}\}}\|\mc {F}_n] +\E [B_{n+1}\1_{\{(n+1)^{th}\text { draw is black}\}}\|\mc {F}_n]\notag \\ &amp;=\E
[(B_n+1)\1_{\{(n+1)^{th}\text { draw is red}\}}\|\mc {F}_n] +\E [B_n\1_{\{(n+1)^{th}\text { draw is black}\}}\|\mc {F}_n]\notag \\ &amp;=(B_n+1)\E [\1_{\{(n+1)^{th}\text { draw
is red}\}}\|\mc {F}_n] +B_n\E [\1_{\{(n+1)^{th}\text { draw is black}\}}\|\mc {F}_n]\notag \\ &amp;=(B_n+1)\frac {B_n}{n+2}+B_n\l (1-\frac {B_n}{n+2}\r )\notag \\ &amp;=\frac
{B_n(n+3)}{n+2}&gt;B_n.\label {eq:urn_Bn_submart}
\end{align}
We do have \(B_n\in m\mc {F}_n\) and since \(1\leq B_n\leq n+2\) we also have \(B_n\in L^1\), so \(B_n\) is a submartingale, but due to <span class="textup" >(<a
href="Urn-processes.html#eq:urn_Bn_submart">4.4</a>)</span> \(B_n\) is not a martingale.
</p>

<p>
However, a closely related quantity is a martingale. Let
</p>

<p>
\[M_n=\frac {B_n}{n+2}.\]
</p>

<p>
Then \(M_n\) is the proportion of balls in the urn that are red, at time \(n\). Note that \(M_n\in [0,1]\). We can think of the extra factor \(n+2\), which increases over time, as an attempt to cancel out the
upwards drift of \(B_n\). We now have:
</p>
<span class="hidden" > \(\seteqnumber{0}{4.}{4}\)</span>



<!--



                                                                 E[Mn+1 | Fn ] = E Mn+1 1{(n+1)th draw is red} Fn + E Mn+1 1{(n+1)th draw is black} Fn
                                                                                      h                                 i       h                                 i


                                                                                     Bn + 1                                 Bn
                                                                                                                                                                    
                                                                                =E          1{(n+1)th draw is red} Fn + E       1      th               Fn
                                                                                      n+3                                  n + 3 {(n+1) draw is black}
                                                                                  Bn + 1 h                               Bn
                                                                                          E 1{(n+1)th draw is red} Fn +      E 1{(n+1)th draw is black} Fn
                                                                                                                     i        h                            i
                                                                                =
                                                                                   n+3                                  n+3
                                                                                  Bn + 1 Bn        Bn             Bn
                                                                                                                     
                                                                                =              +           1−
                                                                                   n+3 n+2 n+3                   n+2
                                                                                     Bn2 + Bn       (n + 2)Bn − Bn2
                                                                                =                +
                                                                                  (n + 2)(n + 3)     (n + 2)(n + 3)
                                                                                    (n + 3)Bn
                                                                                =
                                                                                  (n + 2)(n + 3)
                                                                                   Bn
                                                                                =
                                                                                  n+2
                                                                                = Mn .



-->



<p>


\begin{align*}
\E [M_{n+1}\|\mc {F}_n] &amp;=\E \l [M_{n+1}\1_{\{(n+1)^{th}\text { draw is red}\}}\,\Big |\,\mc {F}_n\r ] +\E \l [M_{n+1}\1_{\{(n+1)^{th}\text { draw is black}\}}\,\Big |\,\mc
{F}_n\r ]\\ &amp;=\E \l [\frac {B_n+1}{n+3}\,\1_{\{(n+1)^{th}\text { draw is red}\}}\,\Big |\,\mc {F}_n\r ] +\E \l [\frac {B_n}{n+3}\,\1_{\{(n+1)^{th}\text { draw is
black}\}}\,\Big |\,\mc {F}_n\r ]\\ &amp;=\frac {B_n+1}{n+3}\E \l [\1_{\{(n+1)^{th}\text { draw is red}\}}\,\Big |\,\mc {F}_n\r ] +\frac {B_n}{n+3}\E \l [\,\1_{\{(n+1)^{th}\text {
draw is black}\}}\,\Big |\,\mc {F}_n\r ]\\ &amp;=\frac {B_n+1}{n+3}\frac {B_n}{n+2}+\frac {B_n}{n+3}\l (1-\frac {B_n}{n+2}\r )\\ &amp;=\frac {B_n^2+B_n}{(n+2)(n+3)}+\frac
{(n+2)B_n-B_n^2}{(n+2)(n+3)}\\ &amp;=\frac {(n+3)B_n}{(n+2)(n+3)}\\ &amp;=\frac {B_n}{n+2}\\ &amp;=M_n.
\end{align*}
We have \(M_n\in m\mc {F}_n\) and since \(M_n\in [0,1]\) we have that \(M_n\in L^1\). Hence \((M_n)\) is a martingale.
</p>

<p>
We can think of \(M_n=\frac {B_n}{n+2}\) as a compensation mechanism; \(B_n\) tends to increase, and we compensate for this increase by dividing by \(n+2\).
</p>
<div class="theorembodyremark" >

<ul style="list-style-type:none">



<a id="autoid-82"></a>

<li>

<p>
<span class="theoremheaderplain" >Remark 4.2.1</span> <a id="autoid-83" ></a >The calculation of \(\E [M_{n+1}\|\mc {F}_n]\) is written out in full as a second example of the method. In fact, we
could simply have divided the equality in <span class="textup" >(<a href="Urn-processes.html#eq:urn_Bn_submart">4.4</a>)</span> by \(n+3\), and obtained \(\E [M_{n+1}\|\mc {F}_n]=M_n\).
</p>


</li>

</ul>

</div>
<h5 id="autosec-120">On fairness</h5>
<a id="notes_1-autopage-120"></a>



<p>
It is clear that the symmetric random walk is fair; at all times it is equally likely to move up as down. The asymmetric random walk is not fair, due to its drift <span class="textup" >(<a
href="Stochastic-processes.html#eq:rw_drift">4.2</a>)</span>, but once we compensate for drift in <span class="textup" >(<a
href="Stochastic-processes.html#eq:drift_compensate">4.3</a>)</span> we do still obtain a martingale.
</p>

<p>
Then urn process requires more careful thought. For example, we might wonder:
</p>
<blockquote>

<p>
<i>Suppose that the first draw is red. Then, at time \(n=1\) we have two red balls and one black ball. So, the chance of drawing a red ball is now \(\frac {2}{3}\). How is this fair?!</i>
</p>
</blockquote>

<p>
To answer this question, let us make a number of points. Firstly, let us remind ourselves that the quantity which is a martingale is \(M_n\), the <i>proportion</i> of red balls in the urn.
</p>

<p>
Secondly, suppose that the first draw is indeed red. So, at \(n=1\) we have \(2\) red and \(1\) black, giving a proportion of \(\frac {2}{3}\) red and \(\frac 13\) black. The expected fraction of red balls after
the next (i.e.&nbsp;second) draw is
</p>

<p>
\[\frac 23\cdot \frac {(2+1)}{4}+\frac 13\cdot \frac 24=\frac {6+2}{12}=\frac 23\]
</p>

<p>
which is of course equal to the proportion of red balls that we had at \(n=1\).
</p>

<p>
Lastly, note that it is equally likely that, on the first go, you’d pick out a black. So, starting from \(n=0\) and looking forwards, both colors have equally good chances of increasing their own numbers. In fact, if we
were to pretend, right from the start, that black was red, and red was black, we would see the same urn process. This type of fairness is known as symmetry. We’ve seen that \(B_n\) tends to increase (because we
keep adding more balls), and we can think of \(M_n\) as a way of discovering the fairness ‘hiding’ inside of \(B_n\).
</p>

<p>
To sum up: in life there are different ways to think of ‘fairness’ – and what we need to do here is get a sense for precisely what kind of fairness martingales characterize. The fact that \(M_n\) is a martingale does not
prevent us from (sometimes) ending up with many more red balls than black, or vice versa. It just means that, when viewed in terms of \(M_n\), there is no bias towards red of black inherent in the rules of the game.
</p>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|A-branching-process.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — A branching process</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-122"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-123"><span class="sectionnumber" >4.3&#x2003;</span>A branching process</h4>
<a id="notes_1-autopage-123"></a>
<a id="notes_1-autofile-18"></a> <a id="sec:gw"></a>

<p>
Branching processes are stochastic processes that model objects which divide up into a random number of copies of themselves. They are particularly important in mathematical biology (think of cell division, the
tree of life, etc). We won’t study any mathematical biology in this course, but we will look at one example of a branching process: the Galton-Waton process.
</p>

<p>
The Galton-Watson process is parametrized by a random variable \(G\), which is known as the <i>offspring distribution</i>. It is simplest to understand the Galton-Watson process by drawing a tree, for example:
</p>
<div class="center" >

<p>


<a href="branching.jpg" target="_blank" ><img
      src="branching.jpg"
      style="
      width:195pt;
      "
      class="inlineimage"
      alt="(image)"
></a>
</p>
</div>

<p>
Each dot is a ‘parent’, which has a random number of child dots (indicated by arrows). Each parent choses how many children it will have independently of all else, by taking a random sample of \(G\). The
Galton-Watson process is the process \(Z_n\), where \(Z_n\) is the number of dots in generation \(n\).
</p>

<p>
Formally, we define the Galton-Watson process as follows. Let \(X^n_i\), where \(n,i\ge 1\), be i.i.d.&nbsp;nonnegative integer-valued random variables with common distribution \(G\). Define a sequence
\((Z_n)\) by \(Z_0=1\) and
</p>

<span class="hidden" > \(\seteqnumber{0}{4.}{4}\)</span>

<!--

                         
                          X n+1 + . . . + X n+1 ,   if \(Z_n&gt;0\)
                              1             Zn
                Zn+1   =                                                         (4.5)                                                                                     --><a id="eq:gw_iterate"></a><!--
                          0,                        if \(Z_n=0\)


-->

<p>


\begin{equation}
\label {eq:gw_iterate} Z_{n+1} = \left \{ \begin{array}{ll} X^{n+1}_1 + \ldots + X^{n+1}_{Z_n}, &amp; \mbox { if $Z_n&gt;0$} \\ 0, &amp; \mbox { if $Z_n=0$} \end {array} \right .
\end{equation}


</p>

<p>
Then \(Z\) is the Galton-Watson process. The random variable \(X^n_i\) represents the number of children of the \(i^{th}\) parent in the \(n^{th}\) generation.
</p>

<p>
Note that if \(Z_n=0\) for some \(n\), then for all \(m&gt;n\) we also have \(Z_m=0\).
</p>
<div class="theorembodyremark" >

<ul style="list-style-type:none">



<a id="autoid-84"></a>

<li>

<p>
<span class="theoremheaderplain" >Remark 4.3.1</span> <a id="autoid-85" ></a >The Galton-Watson process takes its name from Francis Galton (a statistician and social scientist) and Henry Watson (a
mathematical physicist), who in 1874 were concerned that Victorian aristocratic surnames were becoming extinct. They tried to model how many children people had, which is also how many times a surname was
passed on, per family. This allowed them to use the process \(Z_n\) to predict whether a surname would die out (i.e.&nbsp;if \(Z_n=0\) for some \(n\)) or become widespread (i.e.&nbsp;\(Z_n\to \infty \)).
</p>

<p>
(Since then, the Galton-Watson process has found more important uses.)
</p>


</li>

</ul>

</div>

<p>
Let us assume that \(G\in L^1\) and write \(\mu =\E [G]\). Let \(\mc {F}_n=\sigma (X_{m,i}\-i\in \N , m\leq n)\). In general, \(Z_n\) is not a martingale because
</p>
<span class="hidden" > \(\seteqnumber{0}{4.}{5}\)</span>



<!--


                                                                                             h                               i
                                                                               E[Zn+1 ] = E X1n+1 + . . . + XZn+1
                                                                                                               n

                                                                                                 ∞ 
                                                                                             "                                                            #
                                                                                                                                         1{Zn = k}
                                                                                                 X                                   
                                                                                       =E                  X1n+1   + ... +   Xkn+1
                                                                                                 k=1
                                                                                           ∞
                                                                                                                                         1{Zn = k}
                                                                                           X         h                                                  i
                                                                                       =         E       X1n+1 + . . . + Xkn+1
                                                                                           k=1
                                                                                            ∞
                                                                                                                                          E [1{Zn = k}]
                                                                                           X         h                              i
                                                                                       =         E       X1n+1 + . . . + Xkn+1
                                                                                           k=1
                                                                                           X∞         h          i              h           i
                                                                                       =          E X1n+1 + . . . + E Xkn+1                       P [Zn = k]
                                                                                           k=1
                                                                                           X∞
                                                                                       =         kµP[Zn = k]
                                                                                           k=1
                                                                                             ∞
                                                                                             X
                                                                                       =µ            kP[Zn = k]
                                                                                             k=1

                                                                                       = µ E[Zn ].                                        (4.6)                              --><a id="eq:br_exp"></a><!--



-->



<p>


\begin{align}
\E [Z_{n+1}]&amp;=\E \l [X^{n+1}_1 + \ldots + X^{n+1}_{Z_n}\r ]\notag \\ &amp;=\E \l [\sum \limits _{k=1}^\infty \l (X^{n+1}_1 + \ldots + X^{n+1}_{k}\r )\1\{Z_n=k\}\r ]\notag \\
&amp;=\sum \limits _{k=1}^\infty \E \l [\l (X^{n+1}_1 + \ldots + X^{n+1}_{k}\r )\1\{Z_n=k\}\r ]\notag \\ &amp;=\sum \limits _{k=1}^\infty \E \l [\l (X^{n+1}_1 + \ldots +
X^{n+1}_{k}\r )\r ]\E \l [\1\{Z_n=k\}\r ]\notag \\ &amp;=\sum \limits _{k=1}^\infty \l (\E \l [X^{n+1}_1\r ] + \ldots + \E \l [X^{n+1}_{k}\r ]\r )\P \l [Z_n=k\r ]\notag \\
&amp;=\sum \limits _{k=1}^\infty k\mu \P [Z_n=k]\notag \\ &amp;=\mu \sum \limits _{k=1}^\infty k \P [Z_n=k]\notag \\ &amp;=\mu \,\E [Z_n].\label {eq:br_exp}
\end{align}
Here, we use that the \(X^{n+1}_i\) are independent of \(\mc {F}_n\), but \(Z_n\) (and hence also \(\1\{Z_n=k\}\)) is \(\mc {F}_n\) measurable. We justify exchanging the infinite \(\sum \) and \(\E \)
using the result of exercise <span class="textup" >(<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#ps:mct_fubini"><b>6.8</b></a>)</span>.
</p>

<p>
From <span class="textup" >(<a href="A-branching-process.html#eq:br_exp">4.6</a>)</span>, Lemma <a href="Martingales.html#notmart">3.3.6</a> tells us that if \((M_n)\) is a martingale that
\(\E [M_n]=\E [M_{n+1}]\). But, if \(\mu &lt;1\) we see that \(\E [Z_{n+1}]&lt;\E [Z_n]\) (downwards drift) and if \(\mu &gt;1\) then \(\E [Z_{n+1}]&gt;\E [Z_n]\) (upwards drift).
</p>

<p>
However, much like with the asymmetric random walk, we can compensate for the drift and obtain a martingale. More precisely, we will show that
</p>

<p>
\[M_n=\frac {Z_n}{\mu ^n}\]
</p>

<p>
is a martingale.
</p>

<p>
We have \(M_0=1\in m\mc {F}_0\), and if \(M_n\in \mc {F}_n\) then from <span class="textup" >(<a href="A-branching-process.html#eq:gw_iterate">4.5</a>)</span> we have that \(M_{n+1}\in
m\mc {F}_{n+1}\). Hence, by induction \(M_n\in \mc {F}_n\) for all \(n\in \N \). From <span class="textup" >(<a href="A-branching-process.html#eq:br_exp">4.6</a>)</span>, we have \(\E
[Z_{n+1}]=\mu \E [Z_n]\) so as \(\E [Z_n]=\mu ^{n}\) for all \(n\). Hence \(\E [M_n]=1\) and \(M_n\in L^1\).
</p>

<p>
Lastly, we repeat the calculation that led to <span class="textup" >(<a href="A-branching-process.html#eq:br_exp">4.6</a>)</span>, but now with conditional expectation in place of \(\E \). The first
few steps are essentially the same, and we obtain
</p>
<span class="hidden" > \(\seteqnumber{0}{4.}{6}\)</span>



<!--


                                                                                             ∞
                                                                                                                                             1{Zn = k} | Fn
                                                                                             X           h                                                      i
                                                                           E[Zn+1 | Fn ] =           E        X1n+1 + . . . + Xkn+1
                                                                                             k=1
                                                                                              ∞
                                                                                                     1{Zn = k}E X1n+1 + . . . + Xkn+1 | Fn
                                                                                             X                         h                                      i
                                                                                         =
                                                                                             k=1
                                                                                              ∞
                                                                                                     1{Zn = k}E X1n+1 + . . . + Xkn+1
                                                                                             X                         h                              i
                                                                                         =
                                                                                             k=1
                                                                                              ∞
                                                                                                     kµ1{Zn = k}
                                                                                             X
                                                                                         =
                                                                                             k=1
                                                                                               ∞
                                                                                                         k 1{Zn = k}
                                                                                               X
                                                                                         =µ
                                                                                                 k=1

                                                                                         = µZn .



-->



<p>


\begin{align*}
\E [Z_{n+1}\|\F _n] &amp;= \sum _{k=1}^\infty \E \l [\l (X^{n+1}_1 + \ldots + X^{n+1}_k\r )\1\{Z_n=k\} \|\F _n\r ] \\ &amp;= \sum _{k=1}^\infty \1\{Z_n=k\} \E \l [X^{n+1}_1 +
\ldots + X^{n+1}_k\|\F _n\r ]\\ &amp;= \sum _{k=1}^\infty \1\{Z_n=k\} \E \l [X^{n+1}_1 + \ldots + X^{n+1}_k\r ]\\ &amp;= \sum _{k=1}^\infty k \mu \1\{Z_n=k\}\\ &amp;= \mu \sum
_{k=1}^\infty k \1\{Z_n=k\}\\ &amp;= \mu Z_n.
\end{align*}
Here we use that \(Z_n\) is \(\mc {F}_n\) measurable to take out what is known, and then use that \(X^{n+1}_i\) is independent of \(\mc {F}_n\). Hence, \(\E [M_{n+1}|\mc {F}_n]=M_n\), as required.
</p>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Other-stochastic-processes.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Other stochastic processes</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-126"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-127"><span class="sectionnumber" >4.4&#x2003;</span>Other stochastic processes</h4>
<a id="notes_1-autopage-127"></a>
<a id="notes_1-autofile-19"></a>

<p>
The world of stochastic processes, like the physical world that they try to model, is many and varied. We can make more general kinds of random walk (and urn/branching processes) by allowing more complex rules
for what should happen on each new time step. Those of you who have taken MAS275 will have seen renewal processes and Markov chains, which are two more important types of stochastic process. There are
stochastic processes to model objects that coalesce together, objects that move around in space, objects that avoid one another, objects that repeat themselves, objects that modify themselves, etc, etc.
</p>

<p>
Most (but not quite all) types of stochastic process have connections to martingales. The reason for making these connections is that by using martingales it is possible to extract information about the behaviour of
a stochastic process – we will see some examples of how this can be done in Chapters <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a> and <a
href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a>.
</p>
<div class="theorembodyremark" >

<ul style="list-style-type:none">



<a id="autoid-86"></a>

<li>

<p>
<span class="theoremheaderplain" >Remark 4.4.1</span> <a id="autoid-87" ></a >All the processes we have studied in this section can be represented as Markov chains with state space \(\N \). It is
possible to use the general theory of Markov chains to study these stochastic processes, but it wouldn’t provide as much detail as we will obtain (in Chapters <a
href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a> and <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a>) using martingales.
</p>


</li>

</ul>

</div>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Exercises-on-Chapter-ref-chap-stoch_procs.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-129"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-130"><span class="sectionnumber" >4.5&#x2003;</span>Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></h4>
<a id="notes_1-autopage-130"></a>
<a id="notes_1-autofile-20"></a>
<h5 id="autosec-131">On stochastic processes</h5>
<a id="notes_1-autopage-131"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>4.1</b> <a id="ps:rw_exponential"></a> Let \(S_n=\sum _{i=1}^n X_i\) be the symmetric random walk from Section <a href="Stochastic-processes.html#sec:ssrw">4.1</a> and define
\(Z_n=e^{S_n}\). Show that \(Z_n\) is a submartingale and that
</p>
<p>
\[M_n=\l (\frac {2}{e+\frac {1}{e}}\r )^nZ_n\]
</p>
<p>
is a martingale.
</p>
</li>
<li>
<p>
<b>4.2</b> <a id="ps:asym_rw_qpmart"></a> Let \(S_n=\sum _{i=1}^n X_i\) be the asymmetric random walk from Section <a href="Stochastic-processes.html#sec:asrw">4.1</a>, where \(\P
[X_i=1]=p\), \(\P [X_i=-1]=q\) and with \(p&gt;q\) and \(p+q=1\). Show that \(S_n\) is a submartingale and that
</p>
<p>
\[M_n=\l (\frac {q}{p}\r )^{S_n}\]
</p>
<p>
is a martingale.
</p>
</li>
<li>
<p>
<b>4.3</b> <a id="ps:ex_biased_mart"></a> Let \((X_i)\) be a sequence of identically distributed random variables with common distribution
</p>
<p>
\[X_i= \begin {cases} a &amp; \text { with probability }p_a\\ -b &amp; \text { with probability }p_b=1-p_a.                            \end {cases} \]
</p>
<p>
where \(0\leq a,b\). Let \(S_n=\sum _{i=1}^n X_i\). Under what conditions on \(a,b,p_a,p_b\) is \((S_n)\) a martingale?
</p>
</li>
<li>
<p>
<b>4.4</b> <a id="ps:rw_local_time_mart"></a> Let \((X_i)\) be an i.i.d.&nbsp;sequence of random variables such that \(\P [X_i=1]=\P [X_i=-1]=\frac 12\). Define a stochastic process \(S_n\) by
setting \(S_0=1\) and
</p>
<p>
\[S_{n+1}= \begin {cases} S_n+X_{n+1} &amp; \text { if }S_n&gt;0,\\ 1 &amp; \text { if }S_n=0.                       \end {cases} \]
</p>
<p>
That is, \(S_n\) behaves like a symmetric random walk but, whenever it becomes zero, on the next time step it is ‘reflected’ back to \(1\). Let
</p>
<p>
\[L_n=\sum _{i=0}^{n-1}\1\{S_i=0\}\]
</p>
<p>
be the number of time steps, before time \(n\), at which \(S_n\) is zero. Show that
</p>
<p>
\[\E [S_{n+1}\|\mc {F}_n]=S_n+\1\{S_n=0\}\]
</p>
<p>
and hence show that \(S_n-L_n\) is a martingale.
</p>
</li>
<li>
<p>
<b>4.5</b> <a id="ps:three_colour_urn"></a> Consider an urn that may contain balls of three colours: red, blue and green. Initially the urn contains one ball of each colour. Then, at each step of time
\(n=1,2,\ldots \) we draw a ball from the urn. We place the drawn ball back into the urn and add an additional ball of the same colour.
</p>
<p>
Let \((M_n)\) be the proportion of balls that are red. Show that \((M_n)\) is a martingale.
</p>
</li>
<li>
<p>
<b>4.6</b> <a id="ps:mart_test"></a> Let \(S_n=\sum _{i=1}^n X_i\) be the symmetric random walk from Section <a href="Stochastic-processes.html#sec:ssrw">4.1</a>. State, with proof, which of
the following processes are martingales:
</p>
<span class="hidden" > \(\seteqnumber{0}{4.}{6}\)</span>
<!--

                                                                                                                                  Sn
                                                                                      (i) Sn2 + n     (ii) Sn2 − n        (iii)
                                                                                                                                  n


-->
<p>


\begin{equation*}
\text {(i) }S_n^2+n \hspace {3pc}\text {(ii) }S_n^2-n \hspace {3pc}\text {(iii) }\frac {S_n}{n}
\end{equation*}


</p>
<p>
Which of the above are submartingales?
</p>
<p>


</p>
</li>
</ul>
<h5 id="autosec-132">Challenge questions</h5>
<a id="notes_1-autopage-132"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>4.7</b> <a id="ps:doob_S4"></a> Let \((S_n)\) be the symmetric random walk from Section <a href="Stochastic-processes.html#sec:ssrw">4.1</a>. Prove that there is no deterministic function
\(f:\N \to \R \) such that \(S_n^3-f(n)\) is a martingale.
</p>
</li>
</ul>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|The-binomial-model.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — The binomial model</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-133"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h3 id="autosec-134">Chapter&nbsp;<span class="sectionnumber" >5&#x2003;</span>The binomial model</h3>
<a id="notes_1-autopage-134"></a>
<a id="notes_1-autofile-21"></a>

<a id="chap:bin_model"></a>

<p>
We now return to financial mathematics. We will extend the one-period model from Chapter <a href="Expectation-Arbitrage.html#chap:pricing">1</a> and discover a surprising connection between
arbitrage and martingales.
</p>
<h4 id="autosec-135"><span class="sectionnumber" >5.1&#x2003;</span>Arbitrage in the one-period model</h4>
<a id="notes_1-autopage-135"></a>



<p>
Let us recall the one-period market from Section <a href="The-one-period-market.html#sec:one_period">1.2</a>. We have two commodities, cash and stock. Cash earns interest at rate \(r\), so:
</p>
<ul style="list-style-type:none">


<li>
<p>
• If we hold \(x\) units of cash at time \(0\), they become worth \(x(1+r)\) at time \(1\).
</p>
</li>
</ul>

<p>
At time \(t=0\), a single unit of stock is worth \(s\) units of cash. At time \(1\), the value of a unit of stock changes to
</p>

<p>
\[S_1= \begin {cases} sd &amp; \text { with probability }p_d,\\ su &amp; \text { with probability }p_u, \end {cases} \]
</p>

<p>
where \(p_u+p_d=1\).
</p>

<p>
Note that roles of \(u\) and \(d\) are interchangeable – we would get the same model if we swapped the values of \(u\) and \(d\) (and \(p_u\) and \(p_d\) to match). So, we lose nothing by assuming that
\(d&lt;u\).
</p>

<p>
The price of our stock changes as follows:
</p>
<ul style="list-style-type:none">


<li>
<p>
• If we hold \(y\) units of stock, worth \(ys\), at time \(0\), they become worth \(yS_1\) at time \(1\).
</p>
</li>
</ul>

<p>
Recall that we can borrow cash from the bank (provided we pay it back with interest at rate \(r\), at some later time) and that we can borrow stock from the stockbroker (provided we give the same number of
units of stock back, at some later time). Thus, \(x\) and \(y\) are allowed to be negative, with the meaning that we have borrowed.
</p>

<p>
Recall also that we use the term portfolio for the amount of cash/stock that we hold at some time. We can formalize this: A <b>portfolio</b> is a pair \(h=(x,y)\in \R ^2\), where \(x\) is the amount of cash
and \(y\) is the number of (units of) of stock.
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-88"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 5.1.1</span> <a id="autoid-89" ></a >The <b>value process</b> or <b>price process</b> of the portfolio \(h=(x,y)\) is the process \(V^h\) given by
</p>
<span class="hidden" > \(\seteqnumber{0}{5.}{0}\)</span>



<!--



                                                                                                  V0h = x + ys

                                                                                                  V1h = x(1 + r) + yS1 .



-->



<p>


\begin{align*}
V^h_0&amp;=x+ys\\ V^h_1&amp;=x(1+r)+yS_1.
\end{align*}


</p>


</li>

</ul>

</div>

<p>
We can also formalize the idea of arbitrage. A portfolio is an arbitrage if it makes money for free:
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-90"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 5.1.2</span> <a id="autoid-91" ></a >A portfolio \(h=(x,y)\) is said to be an <b>arbitrage possibility</b> if:
</p>
<span class="hidden" > \(\seteqnumber{0}{5.}{0}\)</span>



<!--



                                                                                                           V0h = 0

                                                                                                    P[V1h ≥ 0] = 1.

                                                                                                    P[V1h > 0] > 0.



-->



<p>


\begin{align*}
V^h_0&amp;=0\\ \P [V^h_1\geq 0]&amp;=1.\\ \P [V^h_1&gt;0]&amp;&gt;0.
\end{align*}
We say that a market is <b>arbitrage free</b> if there do not exist any arbitrage possibilities.
</p>


</li>

</ul>

</div>

<p>
It is possible to characterize exactly when the one-period market is arbitrage free. In fact, we have already done most of the work in <a
href="Exercises-on-Chapter-ref-chap-pricing.html#ps:simple_arbitrage"><b>1.3</b></a>.
</p>
<div class="theorembodyprop" >

<ul style="list-style-type:none">



<a id="autoid-92"></a>

<li>

<p>
<span class="theoremheaderplain" >Proposition 5.1.3</span> <a id="autoid-93" ></a ><a id="prop:one_period_arbitrage"></a> The one-period market is arbitrage free if and only if
\(d&lt;1+r&lt;u\).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc" >Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> \((\Rightarrow ):\) Recall that we assume \(d&lt;u\). Hence, if \(d&lt;1+r&lt;u\)
fails then either \(1+r\leq d&lt;u\) or \(d&lt;u\leq 1+r\). In both cases, we will construct an arbitrage possibility.
</p>

<p>
In the case \(1+r\leq d&lt;u\) we use the portfolio \(h=(-s,1)\) which has \(V^h_0=0\) and
</p>

<p>
\[V^h_1=-s(1+r)+S_1\geq s(-(1+r)+d)\geq 0,\]
</p>

<p>
hence \(\P [V^h_1\geq 0]=1\). Further, with probability \(p_u&gt;0\) we have \(S_1=su\), which means \(V^h_1&gt;s(-(1+r)+d)\geq 0\). Hence \(\P [V^h_1&gt;0]&gt;0\). Thus, \(h\) is an arbitrage
possibility.
</p>

<p>
If \(0&lt;d&lt;u\leq 1+r\) then we use the portfolio \(h’=(s,-1)\), which has \(V^{h’}_0=0\) and
</p>

<p>
\[V^{h’}_1=s(1+r)-S_1\geq s(1+r-u)\geq 0,\]
</p>

<p>
hence \(\P [V^{h’}_1\geq 0]=1\). Further, with probability \(p_d&gt;0\) we have \(S_1=sd\), which means \(V^{h’}_1&gt;s(-(1+r)+u)\geq 0\). Hence \(\P [V^{h’}_1&gt;0]&gt;0\). Thus, \(h’\) is also
an arbitrage possibility.
</p>
<div class="theorembodyremark" >

<ul style="list-style-type:none">



<a id="autoid-94"></a>

<li>

<p>
<span class="theoremheaderplain" >Remark 5.1.4</span> <a id="autoid-95" ></a >In both cases, at time \(0\) we borrow whichever commodity (cash or stock) will grow slowest in value, immediately sell it
and use the proceeds to buy the other, which we know will grow faster in value. Then we wait; at time \(1\) we own the commodity has grown fastest in value, so we sell it, repay our debt and have some profit left
over.
</p>


</li>

</ul>

</div>

<p>
\((\Leftarrow ):\) Now, assume that \(d&lt;1+r&lt;u\). We need to show that no arbitrage is possible. To do so, we will show that if a portfolio has \(V^h_0=0\) and \(V^h_1\geq 0\) then it also has
\(V^h_1=0\).

<p>
So, let \(h=(x,y)\) be a portfolio such that \(V^h_0=0\) and \(V^h_1\geq 0\). We have
</p>

<p>
\[V^h_0=x+ys=0.\]
</p>

<p>
The value of \(h\) at time \(1\) is
</p>

<p>
\[V^h_1=x(1+r)+ysZ.\]
</p>

<p>
Using that \(x=-ys\), we have
</p>

<span class="hidden" > \(\seteqnumber{0}{5.}{0}\)</span>

<!--

                                                                     
                                                                     
                                                                     ys(u − (1 + r))
                                                                                       if Z = u,
                                                             V1h =                                                                                           (5.1)              --><a id="eq:value_cc"></a><!--
                                                                     ys(d − (1 + r))
                                                                     
                                                                                       if Z = d.


-->

<p>


\begin{equation}
\label {eq:value_cc} V^h_1= \begin{cases} ys(u-(1+r)) &amp; \text { if }Z=u,\\ ys(d-(1+r)) &amp; \text { if }Z=d.\\ \end {cases}
\end{equation}


</p>

<p>
Since \(\P [V^h_1\geq 0]=1\) this means that both (a) \(ys(u-(1+r))\geq 0\) and (b) \(ys(d-(1+r))\geq 0\). If \(y&lt;0\) then we contradict (a) because \(1+r&lt;u\). If \(y&gt;0\) then we contradict
(b) because \(d&lt;1+r\). So the only option left is that \(y=0\), in which case \(V^h_0=V^h_1=0\). &#x2003;&#x2003;&#x220E;
</p>
<h5 id="autosec-140">Expectation regained</h5>
<a id="notes_1-autopage-140"></a>



<p>
In Proposition <a href="The-binomial-model.html#prop:one_period_arbitrage">5.1.3</a> we showed that our one period model was free of arbitrage if and only if
</p>

<p>
\[d&lt;1+r&lt;u.\]
</p>

<p>
This condition is very natural: it means that sometimes the stock will outperform cash and sometimes cash will outperform the stock. Without this condition it is intuitively clear that our market would be a bad
model. From that point of view, Proposition <a href="The-binomial-model.html#prop:one_period_arbitrage">5.1.3</a> is encouraging since it confirms the importance of (no) arbitrage.
</p>

<p>
However, it turns out that there is more to the condition \(d&lt;1+r&lt;u\), which we now explore. It is equivalent to asking that there exists \(q_u,q_d\in (0,1)\) such that both
</p>

<span class="hidden" > \(\seteqnumber{0}{5.}{1}\)</span>

<!--



                                                        qu + qd = 1      and    1 + r = uqu + dqd .                                                   (5.2)              --><a id="eq:interest_convex"></a><!--



-->

<p>


\begin{equation}
\label {eq:interest_convex} q_u+q_d=1\hspace {1pc}\text { and }\hspace {1pc}1+r=uq_u+dq_d.
\end{equation}


</p>

<p>
In words, <span class="textup" >(<a href="The-binomial-model.html#eq:interest_convex">5.2</a>)</span> says that \(1+r\) is a weighted average of \(d\) and \(u\). We could solve these two equations
to see that
</p>

<span class="hidden" > \(\seteqnumber{0}{5.}{2}\)</span>

<!--


                                                                      (1 + r) − d            u − (1 + r)
                                                              qu =                ,   qd =               .                                                      (5.3)              --><a id="eq:q_probs"></a><!--
                                                                         u−d                    u−d


-->

<p>


\begin{equation}
\label {eq:q_probs} q_u=\frac {(1+r)-d}{u-d},\quad q_d=\frac {u-(1+r)}{u-d}.
\end{equation}


</p>

<p>
Now, here is the key: we can think of the weights \(q_u\) and \(q_d\) as probabilities. Let’s pretend that we live in a different world, where a single unit of stock, worth \(S_0=s\) at time \(0\), changes value to
become worth
</p>

<p>
\[ S_1= \begin {cases} sd &amp; \text { with probability } q_d,\\ su &amp; \text { with probability } q_u.\\ \end {cases} \]
</p>

<p>
We have altered – the technical term is <b>tilted</b> – the probabilities from their old values \(p_d,p_u\) to new values \(q_d,q_u\). Let’s call this new world \(\Q \), by which we mean that \(\Q \) is our new
probability measure: \(\Q [S_1=sd]=q_d\) and \(\Q [S_1=su]=q_u\). This is often called the <b>risk-neutral world</b>, and \(q_u,q_d\) are known as the <b>risk-neutral probabilities</b><sup>1</sup>.
</p>

<p>
Since \(\Q \) is a probability measure, we can use it to take expectations. We use \(\E ^\P \) and \(\E ^\Q \) to make it clear if we are taking expectations using \(\P \) or \(\Q \).
</p>

<p>
We have
</p>
<span class="hidden" > \(\seteqnumber{0}{5.}{3}\)</span>



<!--



                                                                                       1              1                              
                                                                                          EQ [S1 ] =      suQ[S1 = su] + sdQ[S1 = sd]
                                                                                      1+r            1+r
                                                                                                      1
                                                                                                   =     (s)(uqu + dqd )
                                                                                                     1+r
                                                                                                     = s.



-->



<p>


\begin{align*}
\frac {1}{1+r}\E ^\Q [S_1] &amp;=\frac {1}{1+r}\Big (su\Q [S_1=su]+sd\Q [S_1=sd]\Big )\\ &amp;=\frac {1}{1+r}(s)(uq_u+dq_d)\\ &amp;=s.
\end{align*}
The price of the stock at time \(0\) is \(S_0=s\). To sum up, we have shown that the price \(S_1\) of a unit of stock at time \(1\) satisfies
</p>

<span class="hidden" > \(\seteqnumber{0}{5.}{3}\)</span>

<!--


                                                         1
                                                 S0 =       EQ [S1 ].                                                  (5.4)                                                  --><a id="eq:risk_free_1"></a><!--
                                                        1+r


-->

<p>


\begin{equation}
\label {eq:risk_free_1} S_0=\frac {1}{1+r}\E ^\Q [S_1].
\end{equation}


</p>

<p>
This is a formula that is very well known to economists. It gives the stock price today (\(t=0\)) as the expectation under \(\Q \) of the stock price tomorrow (\(t=1\)), <b>discounted</b> by the rate \(1+r\) at
which it would earn interest.
</p>

<p>
Equation <span class="textup" >(<a href="The-binomial-model.html#eq:risk_free_1">5.4</a>)</span> is our first example of a ‘risk-neutral valuation’ formula. Recall that we pointed out in Chapter <a
href="Expectation-Arbitrage.html#chap:pricing">1</a> that we should not use \(\E ^\P \) and ‘expected value’ prices. A possible cause of confusion is that <span class="textup" >(<a
href="The-binomial-model.html#eq:risk_free_1">5.4</a>)</span> <i>does</i> correctly calculate the value (i.e.&nbsp;price) of a single unit of stock by taking an expectation. The point is that we (1) use
\(\E ^\Q \) rather than \(\E ^\P \) and (2) then discount according to the interest rate. We will see, in the next section, that these two steps are the correct way to go about arbitrage free pricing in general.
</p>

<p>
Moreover, in Section <a href="The-binomial-model-definition.html#sec:binom">5.4</a> we will extend our model to have multiple time steps. Then the expectation in <span class="textup" >(<a
href="The-binomial-model.html#eq:risk_free_1">5.4</a>)</span> will lead us to martingales.
</p>
<div class="footnotes" >

<p>
<sup>1</sup>&nbsp;We will discuss the reason for the name ‘risk-neutral’ later. It is standard terminology in the world of stocks and shares.
</p>

</div>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Hedging-in-one-period-model.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Hedging in the one-period model</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-142"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-143"><span class="sectionnumber" >5.2&#x2003;</span>Hedging in the one-period model</h4>
<a id="notes_1-autopage-143"></a>
<a id="notes_1-autofile-22"></a>

<p>
We saw in Section <a href="Arbitrage.html#sec:arbitrage">1.3</a> that the ‘no arbitrage’ assumption could force <i>some</i> prices to take particular values. It is not immediately obvious if the absence of
arbitrage forces a unique value for <i>every</i> price; we will show in this section that it does.
</p>

<p>
First, let us write down exactly what it is that we need to price.
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-96"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 5.2.1</span> <a id="autoid-97" ></a >A <b>contingent claim</b> is any random variable of the form \(X=\Phi (S_1)\), where \(\Phi \) is a deterministic
function.
</p>


</li>

</ul>

</div>

<p>
The function \(\Phi \) is sometimes known as the contract function. One example of a contingent claim is a <b>forward contract</b>, in which the holder promises to buy a unit of stock at time \(1\) for a fixed
price \(K\), known as the <b>strike price</b>. In this case the contingent claim would be
</p>

<p>
\[\Phi (S_1)=S_1-K,\]
</p>

<p>
the value of a unit of stock at time \(1\) minus the price paid for it. We will see many other examples in the course. Here is another.
</p>
<div class="theorembodyexample" >

<ul style="list-style-type:none">



<a id="autoid-98"></a>

<li>

<p>
<span class="theoremheaderplain" >Example 5.2.2</span> <a id="autoid-99" ></a ><a id="ex:eu_call_op"></a> A <b>European call option</b> gives its holder the right (but not the obligation) to
buy, at time \(1\), a single unit of stock for a fixed price \(K\) that is agreed at time \(0\). As for futures, \(K\) is known as the strike price.
</p>

<p>
Suppose we hold a European call option at time \(1\). Then, if \(S_1&gt;K\), we could exercise our right to buy a unit of stock at price \(K\), immediately sell the stock for \(S_1\) and consequently earn
\(S_1-K&gt;0\) in cash. Alternatively if \(S_1\leq K\) then our option is worthless.
</p>

<p>
Since \(S_1\) is equal to either to either \(su\) or \(sd\), the only interesting case is when \(sd&lt;K&lt;su\). In this case, the contingent claim for our European call option is
</p>

<span class="hidden" > \(\seteqnumber{0}{5.}{4}\)</span>

<!--

                                                 
                                                 
                                                 su − K
                                                           if S1 = su
                                      Φ(S1 ) =                                                               (5.5)                                                      --><a id="eq:eu_call_op_contigent"></a><!--
                                                 
                                                 0
                                                           if S1 = sd.


-->

<p>


\begin{equation}
\label {eq:eu_call_op_contigent} \Phi (S_1)= \begin{cases} su-K &amp; \text { if }S_1=su\\ 0 &amp; \text { if }S_1=sd.                                 \end {cases}
\end{equation}


</p>

<p>
In the first case our right to buy is worth exercising; in the second case it is not. A simpler way to write this contingent claim is
</p>

<span class="hidden" > \(\seteqnumber{0}{5.}{5}\)</span>

<!--



                                        Φ(S1 ) = max(S1 − K, 0).                                           (5.6)                                                      --><a id="eq:eu_call_op_contigent_2"></a><!--



-->

<p>


\begin{equation}
\label {eq:eu_call_op_contigent_2} \Phi (S_1)=\max (S_1-K,0).
\end{equation}


</p>

<p>


</p>


</li>

</ul>

</div>

<p>
In general, given any contract, we can work out its contingent claim. We therefore plan to find a general way of pricing contingent claims. In Section <a href="Arbitrage.html#sec:arbitrage">1.3</a> we relied
on finding specific trading strategies to determine prices (one, from the point of view of the buyer, that gave an upper bound and one, from the point of view of the seller, to give a lower bound). Our first step in this
section is to find a general way of constructing trading strategies.
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-100"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 5.2.3</span> <a id="autoid-101" ></a >We say that a portfolio \(h\) is a <b>replicating portfolio</b> or <b>hedging portfolio</b> for the contingent
claim \(\Phi (S_1)\) if \(V^h_1=\Phi (S_1)\).
</p>


</li>

</ul>

</div>

<p>
The process of finding a replicating portfolio is known simply as replicating or hedging. The above definition means that, if we hold the portfolio \(h\) at time \(0\), then at time \(1\) it will have precisely the
same value as the contingent claim \(\Phi (S_1)\). Therefore, since we assume our model is free of arbitrage:
</p>
<div class="framed" >

<p>
If a contingent claim \(\Phi (S_1)\) has a replicating portfolio \(h\), then the price of the \(\Phi (S_1)\) at time \(0\) must be equal to the value of \(h\) at time \(0\).
</p>
</div>

<p>
We say that a market is <b>complete</b> if every contingent claim can be replicated. Therefore, if the market is complete, we can price any contingent claim.
</p>
<div class="theorembodyexample" >

<ul style="list-style-type:none">



<a id="autoid-102"></a>

<li>

<p>
<span class="theoremheaderplain" >Example 5.2.4</span> <a id="autoid-103" ></a ><a id="ex:contingent_claim_1"></a> Suppose that \(s=1,d=\frac 12,u=2\) and \(r=\frac 14\), and that we are
looking at the contingent claim
</p>

<p>
\[\Phi (S_1)= \begin {cases} 1 &amp; \text { if }S_1=su,\\ 0 &amp; \text { if }S_1=sd.                   \end {cases} \]
</p>

<p>
We can represent this situation as a tree, with a branch for each possible movement of the stock, and the resulting value of our contingent claim written in a square box.
</p>
<div class="center" >

<p>


<a href="sud_one_period.jpg" target="_blank" ><img
      src="sud_one_period.jpg"
      style="
      width:108pt;
      "
      class="inlineimage"
      alt="(image)"
></a>
</p>
</div>

<p>
Suppose that we wish to replicate \(\Phi (S_1)\). That is, we need a portfolio \(h=(x,y)\) such that \(V^h_1=\Phi (S_1)\):
</p>
<span class="hidden" > \(\seteqnumber{0}{5.}{6}\)</span>



<!--



                                                                                                      (1 + 41 )x + 2y = 1

                                                                                                      (1 + 14 )x + 12 y = 0.



-->



<p>


\begin{align*}
(1+\tfrac 14)x+2y&amp;=1\\ (1+\tfrac 14)x+\tfrac 12y&amp;=0.
\end{align*}
This is a pair of linear equations that we can solve. The solution (which is left for you to check) is \(x=\frac {-4}{15}\), \(y=\frac 23\). Hence the price of our contingent claim \(\Phi (S_1)\) at time \(0\) is
\(V^h_0=\frac {-4}{15}+1\cdot \frac 23=\frac 25\).
</p>


</li>

</ul>

</div>

<p>
Let us now take an arbitrary contingent claim \(\Phi (S_1)\) and see if we can replicate it. This would mean finding a portfolio \(h\) such that the value \(V^h_1\) of the portfolio at time \(1\) is \(\Phi
(S_1)\):
</p>

<p>
\[ V^h_1= \begin {cases} \Phi (su) &amp; \text { if }S_1=su,\\ \Phi (sd) &amp; \text { if }S_1=sd.                             \end {cases} \]
</p>

<p>
By <span class="textup" >(<a href="The-binomial-model.html#eq:value_cc">5.1</a>)</span>, if we write \(h=(x,y)\) then we need
</p>
<span class="hidden" > \(\seteqnumber{0}{5.}{6}\)</span>



<!--



                                                                                                    (1 + r)x + suy = Φ(su)

                                                                                                    (1 + r)x + sdy = Φ(sd),



-->



<p>


\begin{align*}
(1+r)x+suy&amp;=\Phi (su)\\ (1+r)x+sdy&amp;=\Phi (sd),
\end{align*}
which is just a pair of linear equations to solve for \((x,y)\). In matrix form,
</p>

<span class="hidden" > \(\seteqnumber{0}{5.}{6}\)</span>

<!--

                                                                                          
                                                              1 + r su      x          Φ(su)
                                                                          =               .                                                     (5.7)                       --><a id="eq:prices"></a><!--
                                                              1 + r sd      y          Φ(sd)


-->

<p>


\begin{equation}
\label {eq:prices} \begin{pmatrix} 1+r &amp; su \\ 1+r &amp; sd \end {pmatrix} \begin{pmatrix} x \\ y \end {pmatrix} = \begin{pmatrix} \Phi (su) \\ \Phi (sd) \end {pmatrix} .
\end{equation}


</p>

<p>
A unique solution exists when the determinant is non-zero, that is when \((1+r)su-(1+r)sd\neq 0\), or equivalently when \(u\neq d\). So, in this case, we can find a replicating portfolio for any contingent claim.
</p>

<p>
It is an assumption of the model that \(d\leq u\), so we have that our one-period model is complete if \(d&lt;u\). Therefore:
</p>
<div class="theorembodyprop" >

<ul style="list-style-type:none">



<a id="autoid-104"></a>

<li>

<p>
<span class="theoremheaderplain" >Proposition 5.2.5</span> <a id="autoid-105" ></a >If the one-period model is arbitrage free then it is complete.
</p>


</li>

</ul>

</div>

<p>
And, in this case, we can solve <span class="textup" >(<a href="Hedging-in-one-period-model.html#eq:prices">5.7</a>)</span> to get
</p>
<span class="hidden" > \(\seteqnumber{0}{5.}{7}\)</span>



<!--



                                                                                                  1 uΦ(sd) − dΦ(su)
                                                                                             x=                     ,
                                                                                                1+r        u−d
                                                                                                1 Φ(su) − Φ(sd)
                                                                                             y=                 .                                   (5.8)                            --><a id="eq:hedge"></a><!--
                                                                                                s     u−d



-->



<p>


\begin{align}
x&amp;=\frac {1}{1+r}\frac {u\Phi (sd)-d\Phi (su)}{u-d},\notag \\ y&amp;=\frac {1}{s}\frac {\Phi (su)-\Phi (sd)}{u-d}.\label {eq:hedge}
\end{align}
which tells us that the price of \(\Phi (S_1)\) at time \(0\) should be
</p>
<span class="hidden" > \(\seteqnumber{0}{5.}{8}\)</span>



<!--



                                                                                 V0h = x + sy
                                                                                        1    (1 + r) − d         u − (1 + r)
                                                                                                                                   
                                                                                     =                   Φ(su) +             Φ(sd)
                                                                                       1+r      u−d                 u−d
                                                                                        1
                                                                                     =     (qu Φ(su) + qd Φ(sd))
                                                                                       1+r
                                                                                        1
                                                                                     =     EQ [Φ(S1 )].
                                                                                       1+r



-->



<p>


\begin{align*}
V^h_0&amp;=x+sy\\ &amp;=\frac {1}{1+r}\l (\frac {(1+r)-d}{u-d}\Phi (su)+\frac {u-(1+r)}{u-d}\Phi (sd)\r )\\ &amp;=\frac {1}{1+r}\l (q_u\Phi (su)+q_d\Phi (sd)\r )\\ &amp;=\frac
{1}{1+r}\E ^\Q [\Phi (S_1)].
\end{align*}
Hence, the value (and therefore, the price) of \(\Phi (S_1)\) at time \(0\), is given by
</p>

<span class="hidden" > \(\seteqnumber{0}{5.}{8}\)</span>

<!--


                                                         1
                                                V0h =       EQ [Φ(S1 )].                                               (5.9)                                                    --><a id="eq:risk_free"></a><!--
                                                        1+r


-->

<p>


\begin{equation}
\label {eq:risk_free} V^h_0=\frac {1}{1+r}\E ^\Q [\Phi (S_1)].
\end{equation}


</p>

<p>
The formula <span class="textup" >(<a href="Hedging-in-one-period-model.html#eq:risk_free">5.9</a>)</span> is known as the <b>risk-neutral valuation formula</b>. It says that to find the price
of \(\Phi (S_1)\) at time \(0\) we should take its expectation according to \(\Q \), and then discount one time step worth of interest i.e.&nbsp;divide by \(1+r\). It is a very powerful tool, since it allows us to
price any contingent claim.
</p>

<p>
Note the similarity of <span class="textup" >(<a href="Hedging-in-one-period-model.html#eq:risk_free">5.9</a>)</span> to <span class="textup" >(<a
href="The-binomial-model.html#eq:risk_free_1">5.4</a>)</span>. In fact, <span class="textup" >(<a href="The-binomial-model.html#eq:risk_free_1">5.4</a>)</span> is a special case of <span
class="textup" >(<a href="Hedging-in-one-period-model.html#eq:risk_free">5.9</a>)</span>, namely the case where \(\Phi (S_1)=S_1\) i.e.&nbsp;pricing the contingent claim corresponding to being
given a single unit of stock.
</p>

<p>
To sum up:
</p>
<div class="theorembodyprop" >

<ul style="list-style-type:none">



<a id="autoid-106"></a>

<li>

<p>
<span class="theoremheaderplain" >Proposition 5.2.6</span> <a id="autoid-107" ></a ><a id="prop:one_period_pricing"></a> Let \(\Phi (S_1)\) be a contingent claim. Then the (unique) replicating
portfolio \(h=(x,y)\) for \(\Phi (S_1)\) can be found by solving \(V^h_1=\Phi (S_1)\), which can be written as a pair of linear equations:
</p>
<span class="hidden" > \(\seteqnumber{0}{5.}{9}\)</span>



<!--



                                                                                            (1 + r)x + suy = Φ(su)

                                                                                            (1 + r)x + sdy = Φ(sd).



-->



<p>


\begin{align*}
(1+r)x+suy&amp;=\Phi (su)\\ (1+r)x+sdy&amp;=\Phi (sd).
\end{align*}
The general solution is <span class="textup" >(<a href="Hedging-in-one-period-model.html#eq:hedge">5.8</a>)</span>. The value (and hence, the price) of \(\Phi (S_1)\) at time \(0\) is
</p>

<p>
\[V^h_0=\frac {1}{1+r}\E ^\Q \l [\Phi (S_1)\r ].\]
</p>

<p>


</p>


</li>

</ul>

</div>

<p>
For example, we can now both price and hedge the European call option.
</p>
<div class="theorembodyexample" >

<ul style="list-style-type:none">



<a id="autoid-108"></a>

<li>

<p>
<span class="theoremheaderplain" >Example 5.2.7</span> <a id="autoid-109" ></a >In <span class="textup" >(<a
href="Hedging-in-one-period-model.html#eq:eu_call_op_contigent">5.5</a>)</span> we found the contingent claim of a European call option with strike price \(K\in (sd,su)\) to be \(\Phi (S_T)=\max
(S_T-K,0)\). By the first part of Proposition <a href="Hedging-in-one-period-model.html#prop:one_period_pricing">5.2.6</a>, to find a replicating portfolio \(h=(x,y)\) we must solve \(V^h_1=\Phi
(S_1)\), which is
</p>
<span class="hidden" > \(\seteqnumber{0}{5.}{9}\)</span>



<!--



                                                                                        (1 + r)x + suy = su − K

                                                                                         (1 + r)x + sdy = 0.



-->



<p>


\begin{align*}
(1+r)x+suy&amp;=su-K\\ (1+r)x+sdy&amp;=0.
\end{align*}
This has the solution (again, left for you to check) \(x=\frac {sd(K-su)}{(1+r)(su-sd)},y=\frac {su-K}{su-sd}\). By the second part of Proposition <a
href="Hedging-in-one-period-model.html#prop:one_period_pricing">5.2.6</a> the value of the European call option at time \(0\) is
</p>
<span class="hidden" > \(\seteqnumber{0}{5.}{9}\)</span>



<!--



                                                                                1                 1
                                                                                   EQ [Φ(S1 )] =     (qu (su − K) + qd (0))
                                                                               1+r               1+r
                                                                                                  1 (1 + r) − d
                                                                                               =                (su − K).
                                                                                                 1+r u−d



-->



<p>


\begin{align*}
\frac {1}{1+r}\E ^\Q \l [\Phi (S_1)\r ] &amp;=\frac {1}{1+r}\l (q_u(su-K)+q_d(0)\r )\\ &amp;=\frac {1}{1+r}\frac {(1+r)-d}{u-d}(su-K).
\end{align*}


</p>

<p>


</p>


</li>

</ul>

</div>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Types-financial-derivative.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Types of financial derivative</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-153"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-154"><span class="sectionnumber" >5.3&#x2003;</span>Types of financial derivative</h4>
<a id="notes_1-autopage-154"></a>
<a id="notes_1-autofile-23"></a> <a id="sec:options_1"></a>

<p>
A contract that specifies that buying/selling will occur, now or in the future, is known as a <b>financial derivative</b>, or simply derivative. Financial derivatives that give a choice between two options are often
known simply as <b>options</b>.
</p>

<p>
Here we collect together the three types of financial derivatives that we have mentioned in previous sections. As before, we use the term <b>strike price</b> to refer to a fixed price \(K\) that is agreed at time
\(0\) (and paid at time \(1\)).
</p>

<ul style="list-style-type:none">


<li>
<p>
• A <b>forward</b> or <b>forward contract</b> is the obligation to buy a single unit of stock at time \(1\) for a strike price \(K\).
</p>
</li>
<li>
<p>
• A <b>European call option</b> is the right, but not the obligation, to buy a single unit of stock at time \(1\) for a strike price \(K\).
</p>
</li>
<li>
<p>
• A <b>European put option</b> is the right, but not the obligation, to sell a single unit of stock at time \(1\) for a strike price \(K\).
</p>
<p>


</p>
</li>
</ul>

<p>
You are expected to remember these definitions! We will often use them in our examples.
</p>

<p>
There are many other types of financial derivative; we’ll look at more examples later in the course, in Section <a href="Further-extensions.html#sec:further_extensions">15.5</a>.
</p>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|The-binomial-model-definition.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — The binomial model (definition)</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-155"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-156"><span class="sectionnumber" >5.4&#x2003;</span>The binomial model</h4>
<a id="notes_1-autopage-156"></a>
<a id="notes_1-autofile-24"></a> <a id="sec:binom"></a>

<p>
Let us step back and examine our progress, for a moment. We now know about as much about one-period model as there is to know. It is time to move onto to a more complicated (and more realistic) model. The
one-period model is unsatisfactory in two main respects:
</p>
<ul style="list-style-type:none">


<li>
<p>
1. The one-period model has only a single step of time.
</p>


</li>
<li>
<p>
2. The stock price process \((S_t)\) is too simplistic.
</p>
</li>
</ul>

<p>
We’ll start to address the first of these points now. The second point waits until the second semester of the course.
</p>

<p>
Adding multiple time steps to our model will make use of the theory we developed in Chapters <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a> and <a
href="Conditional-expectation-martingales.html#chap:cond_exp">3</a>. It will also reveal a surprising connection between arbitrage and martingales.
</p>

<p>
The <b>binomial model</b> has time points \(t=0,1,2,\ldots ,T\). Inside each time step, we have a single step of the one-period model. This means that cash earns interest at rate \(r\):
</p>
<ul style="list-style-type:none">


<li>
<p>
• If we hold \(x\) units of cash at time \(t\), it will become worth \(x(1+r)\) (in cash) at time \(t+1\).
</p>
</li>
</ul>

<p>
For our stock, we’ll have to think a little harder. In a single time step, the value of our stock is multiplied by a random variable \(Z\) with distribution \(\P [Z=u]=p_u\), \(\P [Z=d]=p_d\). We now have several
time steps. For each time step we’ll use a new <i>independent</i> \(Z\). So, let \((Z_t)_{t=1}^{T}\) be a sequence of i.i.d.&nbsp;random variables each with the distribution of \(Z\).
</p>
<ul style="list-style-type:none">


<li>
<p>
• The value of a single unit of stock at time \(t\) is given by
</p>
<span class="hidden" > \(\seteqnumber{0}{5.}{9}\)</span>


<!--



                                                                                                      S0 = s,

                                                                                                      St = Zt St−1 .



-->


<p>


\begin{align*}
S_0&amp;=s,\\ S_{t}&amp;=Z_{t}S_{t-1}.
\end{align*}


</p>
</li>
</ul>

<p>
We can illustrate the process \((S_t)\) using a tree-like diagram:
</p>
<div class="center" >

<p>


<a href="sud.jpg" target="_blank" ><img
      src="sud.jpg"
      style="
      width:217pt;
      "
      class="inlineimage"
      alt="(image)"
></a>
</p>
</div>

<p>
Note that the tree is recombining, in the sense that a move up (by \(u\)) followed by a move down (by \(d\)) has the same outcome as a move down followed by a move up. It’s like a random walk, except we
multiply instead of add (recall exercise <a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#ps:rw_exponential"><b>4.1</b></a>).
</p>
<div class="theorembodyremark" >

<ul style="list-style-type:none">



<a id="autoid-110"></a>

<li>

<p>
<span class="theoremheaderplain" >Remark 5.4.1</span> <a id="autoid-111" ></a >The one-period model is simply the \(T=1\) case of the binomial model. Both models are summarized on the formula
sheet, see Appendix <a href="Formula-Sheet-part-one.html#sec:formula_sheet_1">B</a>.
</p>


</li>

</ul>

</div>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Portfolios-arbitrage-martingales.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Portfolios, arbitrage and martingales</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-159"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-160"><span class="sectionnumber" >5.5&#x2003;</span>Portfolios, arbitrage and martingales</h4>
<a id="notes_1-autopage-160"></a>
<a id="notes_1-autofile-25"></a>

<p>
Since we now have multiple time steps, we can exchange cash for stock (and vice versa) at all times \(t=0,1,\ldots ,T-1\). We need to expand our idea of a portfolio to allow for this.
</p>

<p>
The filtration corresponding to the information available to a buyer/seller in the binomial model is
</p>

<p>
\[\mc {F}_t=\sigma (Z_1,Z_2,\ldots , Z_{t}).\]
</p>

<p>
In words, the information in \(\mc {F}_t\) contains changes in the stock price up to and including at time \(t\). This means that, \(S_0,S_1,\ldots ,S_t\) are all \(\mc {F}_t\) measurable, but \(S_{t+1}\) is
not \(\mc {F}_t\) measurable.
</p>

<p>
When we choose how much stock/cash to buy/sell at time \(t-1\), we do so without knowing how the stock price will change during \(t-1\mapsto t\). So we must do so using information only from \(\mc
{F}_{t-1}\).
</p>

<p>
We now have enough terminology to define the strategies that are available to participants in the binomial market.
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-112"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 5.5.1</span> <a id="autoid-113" ></a >A <b>portfolio strategy</b> is a stochastic process
</p>

<p>
\[h_t=(x_t,y_t)\]
</p>

<p>
for \(t=1,2,\ldots ,T\), such that \(h_t\) is \(\mc {F}_{t-1}\) measurable.
</p>


</li>

</ul>

</div>

<p>
The interpretation is that \(x_t\) is the amount of cash, and \(y_t\) the amount of stock, that we hold during the time step \(t-1\mapsto t\). We make our choice of how much cash and stock to hold during
\(t-1\mapsto t\) based on knowing the value of \(S_0,S_1,\ldots ,S_{t-1}\), but <i>without</i> knowing \(S_{t}\). This is realistic.
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-114"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 5.5.2</span> <a id="autoid-115" ></a >The <b>value process</b> of the portfolio strategy \(h=(h_t)_{t=1}^T\) is the stochastic process \((V_t)\) given by
</p>
<span class="hidden" > \(\seteqnumber{0}{5.}{9}\)</span>



<!--



                                                                                                V0h = x1 + y1 S0 ,

                                                                                                Vth = xt (1 + r) + yt St ,



-->



<p>


\begin{align*}
V^h_0&amp;=x_1+y_1S_0,\\ V^h_t&amp;=x_t(1+r)+y_tS_t,
\end{align*}
for \(t=1,2,\ldots ,T\).
</p>


</li>

</ul>

</div>

<p>
At \(t=0\), \(V^h_0\) is the value of the portfolio \(h_1\). For \(t\geq 1\), \(V^h_t\) is the value of the portfolio \(h_t\) at time \(t\), after the change in value of cash/stock that occurs during \(t-1\mapsto
t\). The value process \(V^h_t\) is \(\mc {F}_t\) measurable but it is not \(\mc {F}_{t-1}\) measurable.
</p>

<p>
We will be especially interested in portfolio strategies that require an initial investment at time \(0\) but, at later times \(t\geq 1,2,\ldots ,T-1\), any changes in the amount of stock/cash held will pay for
itself. We capture such portfolio strategies in the following definition.
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-116"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 5.5.3</span> <a id="autoid-117" ></a >A portfolio strategy \(h_t=(x_t,y_t)\) is said to be <b>self-financing</b> if
</p>

<p>
\[V^h_{t}=x_{t+1}+y_{t+1}S_{t}.\]
</p>

<p>
for \(t=0,1,2,\ldots ,T\).
</p>


</li>

</ul>

</div>

<p>
This means that the value of the portfolio at time \(t\) is equal to the value (at time \(t\)) of the stock/cash that is held in between times \(t\mapsto t+1\). In other words, in a self-financing portfolio at the
times \(t=1,2,\ldots \) we can swap our stocks for cash (and vice versa) according to whatever the stock price turns out to be, but that is all we can do.
</p>

<p>
Lastly, our idea of arbitrage must also be upgraded to handle multiple time steps.
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-118"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 5.5.4</span> <a id="autoid-119" ></a >We say that a portfolio strategy \((h_t)\) is an <b>arbitrage possibility</b> if it is self-financing and satisfies
</p>
<span class="hidden" > \(\seteqnumber{0}{5.}{9}\)</span>



<!--



                                                                                                           V0h = 0

                                                                                                    P[VTh ≥ 0] = 1.

                                                                                                    P[VTh > 0] > 0.



-->



<p>


\begin{align*}
V^h_0&amp;=0\\ \P [V^h_T\geq 0]&amp;=1.\\ \P [V^h_T&gt;0]&amp;&gt;0.
\end{align*}


</p>


</li>

</ul>

</div>

<p>
In words, an arbitrage possibility requires that we invest nothing at times \(t=0,1,\ldots ,T-1\), but which gives us a positive probability of earning something at time \(T\), with no risk at all of actually losing
money.
</p>

<p>
It’s natural to ask when the binomial model is arbitrage free. Happily, the condition turns out to be the same as for the one-period model.
</p>
<div class="theorembodyprop" >

<ul style="list-style-type:none">



<a id="autoid-120"></a>

<li>

<p>
<span class="theoremheaderplain" >Proposition 5.5.5</span> <a id="autoid-121" ></a ><a id="prop:risk_free_bin"></a> The binomial model is arbitrage free if and only if \(d&lt;1+r&lt;u\).
</p>


</li>

</ul>

</div>

<p>
The proof is quite similar to the argument for the one-period model, but involves more technical calculations and (for this reason) we don’t include it as part of the course.
</p>

<p>
Recall the risk-neutral probabilities from <span class="textup" >(<a href="The-binomial-model.html#eq:q_probs">5.3</a>)</span>. In the one-period model, we use them to define the <b>risk-neutral</b>
world \(\Q \), in which on each time step the stock price moves up (by \(u\)) with probability \(q_u\), or down (by \(d\)) with probability \(q_d\). This provides a connection to martingales:
</p>
<div class="theorembodyprop" >

<ul style="list-style-type:none">



<a id="autoid-122"></a>

<li>

<p>
<span class="theoremheaderplain" >Proposition 5.5.6</span> <a id="autoid-123" ></a ><a id="prop:risk_free_martingale"></a> If \(d&lt;1+r&lt;u\), then under the probability measure \(\Q \),
the process
</p>

<p>
\[M_t=\frac {1}{(1+r)^t}S_t\]
</p>

<p>
is a martingale, with respect to the filtration \((\mc {F}_t)\).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc" >Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> We have commented above that \(S_t\in m\mc {F}_t\), and we also have \(d^tS_0\leq
S_t \leq u^tS_0\), so \(S_t\) is bounded and hence \(S_t\in L^1\). Hence also \(M_t\in m\mc {F}_t\) and \(M_t\in L^1\). It remains to show that
</p>
<span class="hidden" > \(\seteqnumber{0}{5.}{9}\)</span>



<!--



                                                                      EQ [Mt+1 | Ft ] = EQ Mt+1 1{Zt+1 =u} + Mt+1 1{Zt+1 =d} | Ft
                                                                                            h                                       i

                                                                                              uSt                        dSt
                                                                                                                                               
                                                                                    =E  Q
                                                                                                  t+1
                                                                                                      1{Zt+1 =u} +               1{Zt+1 =d} | Ft
                                                                                          (1 + r)                    (1 + r)t+1
                                                                                          St
                                                                                                          1                          1
                                                                                                       h                 i        h                 i
                                                                                                      Q                          Q
                                                                                    =              uE      {Zt+1 =u} | Ft   + dE      {Zt+1 =d} | Ft
                                                                                      (1 + r)t+1
                                                                                          St
                                                                                                          1                     1
                                                                                                       h            i         h            i
                                                                                                      Q                      Q
                                                                                    =              uE      {Z    =u}   +  dE     {Z     =d}
                                                                                      (1 + r)t+1             t+1                    t+1


                                                                                          St
                                                                                    =            (uQ[Zt+1 = u] + dQ [Zt+1 = d])
                                                                                      (1 + r)t+1
                                                                                          St
                                                                                    =            (uqu + dqd )
                                                                                      (1 + r)t+1
                                                                                          St
                                                                                    =            (1 + r)
                                                                                      (1 + r)t+1
                                                                                    = Mt .



-->



<p>


\begin{align*}
\E ^\Q [M_{t+1}\|\F _t] &amp;=\E ^\Q \l [M_{t+1}\1_{\{Z_{t+1}=u\}}+M_{t+1}\1_{\{Z_{t+1}=d\}}\|\mc {F}_t\r ]\\ &amp;=\E ^\Q \l [\frac {uS_t}{(1+r)^{t+1}}\1_{\{Z_{t+1}=u\}}+\frac
{dS_t}{(1+r)^{t+1}}\1_{\{Z_{t+1}=d\}}\|\mc {F}_t\r ]\\ &amp;=\frac {S_t}{(1+r)^{t+1}}\l (u\E ^\Q \l [\1_{\{Z_{t+1}=u\}}\|\mc {F}_t\r ]+d\E ^\Q \l [\1_{\{Z_{t+1}=d\}}\|\mc {F}_t\r
]\r )\\ &amp;=\frac {S_t}{(1+r)^{t+1}}\l (u\E ^\Q \l [\1_{\{Z_{t+1}=u\}}\r ]+d\E ^\Q \l [\1_{\{Z_{t+1}=d\}}\r ]\r )\\ &amp;=\frac {S_t}{(1+r)^{t+1}}\l (u\Q [Z_{t+1}=u]+d\Q \l
[Z_{t+1}=d\r ]\r )\\ &amp;=\frac {S_t}{(1+r)^{t+1}}(uq_u+dq_d)\\ &amp;=\frac {S_t}{(1+r)^{t+1}}(1+r)\\ &amp;=M_t.
\end{align*}
Here, from the second to third line we take out what is known, using that \(S_t\in m\mc {F}_t\). To deduce the third line we use linearity, and to deduce the fourth line we use that \(Z_{t+1}\) is independent of
\(\mc {F}_t\). Lastly, we recall from <span class="textup" >(<a href="The-binomial-model.html#eq:interest_convex">5.2</a>)</span> that \(uq_u+dq_d=1+r\). Hence, \((M_t)\) is a martingale with
respect to the filtration \(\mc {F}_t\), in the risk-neutral world \(\Q \). &#x2003;&#x2003;&#x220E;
</p>
<div class="theorembodyremark" >

<ul style="list-style-type:none">



<a id="autoid-124"></a>

<li>

<p>
<span class="theoremheaderplain" >Remark 5.5.7</span> <a id="autoid-125" ></a >Using Lemma <a href="Martingales.html#notmart">3.3.6</a> we have \(\E ^\Q [M_0]=\E ^\Q [M_1]\), which
states that \(S_0=\frac {1}{1+r}\E ^\Q [S_1]\). This is precisely <span class="textup" >(<a href="The-binomial-model.html#eq:risk_free_1">5.4</a>)</span>.
</p>


</li>

</ul>

</div>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Hedging.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Hedging</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-168"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-169"><span class="sectionnumber" >5.6&#x2003;</span>Hedging</h4>
<a id="notes_1-autopage-169"></a>
<a id="notes_1-autofile-26"></a> <a id="sec:binom_hedge"></a>

<p>
We can adapt the derivatives from Section <a href="Types-financial-derivative.html#sec:options_1">5.3</a> to the binomial model, by simply replacing time \(1\) with time \(T\). For example, in the
binomial model a forward contract is the obligation to buy a single unit of stock at time \(T\) for a strike price \(K\) that is agreed at time \(0\).
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-126"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 5.6.1</span> <a id="autoid-127" ></a >A <b>contingent claim</b> is a random variable of the form \(\Phi (S_T)\), where \(\Phi :\R \to \R \) is a
deterministic function.
</p>


</li>

</ul>

</div>

<p>
For a forward contract, the contingent claim would be \(\Phi (S_T)=S_T-K\).
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-128"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 5.6.2</span> <a id="autoid-129" ></a >We say that a portfolio strategy \(h=(h_t)_{t=1}^T\) is a <b>replicating portfolio</b> or <b>hedging
strategy</b> for the contingent claim \(\Phi (S_T)\) if \(V^h_T=\Phi (S_T)\).
</p>


</li>

</ul>

</div>

<p>
These match the definitions for the one-period model, except we now care about the value of the asset at time \(T\) (instead of time \(1\)). We will shortly look at how to find replicating portfolios.
</p>

<p>
As in the one-period model, the binomial model is said to be <b>complete</b> if every contingent claim can be replicated. Further, as in the one-period model, the binomial model is complete if and only if it is
free of arbitrage. With this in mind, for the rest of this section we assume that
</p>

<p>
\[d&lt;1+r&lt;u.\]
</p>

<p>
Lastly, as in the one-period model, our assumption that there is no arbitrage means that:
</p>
<div class="framed" >

<p>
If a contingent claim \(\Phi (S_T)\) has a replicating portfolio \(h=(h_t)_{t=1}^T\), then the price of the \(\Phi (S_T)\) at time \(0\) must be equal to the value of \(h_0\).
</p>
</div>

<p>
Now, let us end this chapter by showing how to compute prices and replicating portfolios in the binomial model. We already know how to do this in the one-period model, see Example <a
href="Hedging-in-one-period-model.html#ex:contingent_claim_1">5.2.4</a>. We could do it in full generality (as we did in <span class="textup" >(<a
href="Hedging-in-one-period-model.html#eq:prices">5.7</a>)</span> for the one-period model) but this would involve lots of indices and look rather messy. Instead, we’ll work through a practical example
that makes the general strategy clear.
</p>

<p>
Let us take \(T=3\) and set
</p>

<p>
\[S_0=80,\quad u=1.5,\quad d=0.5,\quad p_u=0.6,\quad p_d=0.4.\]
</p>

<p>
To make the calculations easier, we’ll also take our interest rate to be \(r=0\). We’ll price a European call option with strike price \(K=80\). The contingent claim for this option, which is
</p>

<span class="hidden" > \(\seteqnumber{0}{5.}{9}\)</span>

<!--



                                         Φ(ST ) = max(ST − K, 0).                                       (5.10)                                                                        --><a id="eq:eco_ex"></a><!--



-->

<p>


\begin{equation}
\label {eq:eco_ex} \Phi (S_T)=\max (S_T-K,0).
\end{equation}


</p>

<p>
<b>STEP 1</b> is to work our the risk-neutral probabilities. From <span class="textup" >(<a href="The-binomial-model.html#eq:q_probs">5.3</a>)</span>, these are \(q_u=\frac
{1+0-0.5}{1.5-0.5}=0.5\) and \(q_d=1-q_u=0.5\).
</p>

<p>
<b>STEP 2</b> is to write down the tree of possible values that the stock can take during time \(t=0,1,2,3\). This looks like
</p>
<div class="center" >

<p>


<a href="sud1.jpg" target="_blank" ><img
      src="sud1.jpg"
      style="
      width:217pt;
      "
      class="inlineimage"
      alt="(image)"
></a>
</p>
</div>

<p>
We then work out, at each of the nodes corresponding to time \(T=3\), what the value of our contingent claim <span class="textup" >(<a href="Hedging.html#eq:eco_ex">5.10</a>)</span> would be if this
node were reached. We write these values in square boxes:
</p>
<div class="center" >

<p>


<a href="sud2.jpg" target="_blank" ><img
      src="sud2.jpg"
      style="
      width:217pt;
      "
      class="inlineimage"
      alt="(image)"
></a>
</p>
</div>

<p>
We now come to <b>STEP 3</b>, the key idea. Suppose we are sitting in one of the nodes at time \(t=2\), which we think of as the ‘current’ node. For example suppose we are at the uppermost node (labelled
\(180\), the ‘current’ value of the stock). Looking forwards one step of time we can see that, if the stock price goes up our option is worth \(190\), whereas if the stock price goes down our option is worth \(10\).
What we are seeing here is (an instance of) the one-period model! With contingent claim
</p>

<p>
\[\wt \Phi (su)=190,\quad \wt \Phi (sd)=10.\]
</p>

<p>
So, using the one-period risk-neutral valuation formula from Proposition <a href="Hedging-in-one-period-model.html#prop:one_period_pricing">5.2.6</a> the value of our call option at our current node is
</p>

<p>
\[\frac {1}{1+0}(190\cdot 0.5+10\cdot 0.5)=100.\]
</p>

<p>
We could apply the same logic to any of the nodes corresponding to time \(t=2\), and compute the value of our call option at that node:
</p>
<div class="center" >

<p>


<a href="sud3.jpg" target="_blank" ><img
      src="sud3.jpg"
      style="
      width:238pt;
      "
      class="inlineimage"
      alt="(image)"
></a>
</p>
</div>

<p>
If we now imagine ourselves sitting in one of the nodes at time \(t=1\), and look forwards one step in time, we again find ourselves faced with an instance of the one-period model. This allows us to compute the
value of our call option at the \(t=1\) nodes; take for example the node labelled by \(40\) which, one step into the future, sees the contingent claim \(\wt \Phi (su)=5, \wt \Phi (sd)=0\) and using \(\eqref
{eq:risk_free}\) gives the value of the call option at this node as \(\frac {1}{1+0}(5\times 0.5+0\times 0.5)=2.5\). Repeating the procedure on the other \(t=1\) node, and then also on the single \(t=0\)
node gives us
</p>
<div class="center" >

<p>


<a href="sud4.jpg" target="_blank" ><img
      src="sud4.jpg"
      style="
      width:238pt;
      "
      class="inlineimage"
      alt="(image)"
></a>
</p>
</div>

<p>
Therefore, the value (i.e.&nbsp;the price) of our call option at time \(t=0\) is \(27.5\).
</p>

<p>
Although we have computed the price, we haven’t yet computed a replicating portfolio, which is <b>STEP 4</b>. We could do it by solving lots of linear equations for our one-period models, as in Example <a
href="Hedging-in-one-period-model.html#ex:contingent_claim_1">5.2.4</a>, but since we have several steps a quicker way is to apply Proposition <a
href="Hedging-in-one-period-model.html#prop:one_period_pricing">5.2.6</a> and use the general formula we found in <span class="textup" >(<a
href="Hedging-in-one-period-model.html#eq:hedge">5.8</a>)</span>.
</p>

<p>
Starting at time \(t=0\), to replicate the contingent claim \(\wt \Phi (su)=52.5\) and \(\wt \Phi (sd)=2.5\) at time \(t=1\), equation <span class="textup" >(<a
href="Hedging-in-one-period-model.html#eq:hedge">5.8</a>)</span> tells us that we want the portfolio
</p>

<p>
\[x_1=\frac {1}{1+0}\frac {1.5\cdot 2.5-0.5\cdot 52.5}{1.5-0.5}=-22.5,\quad y_1=\frac {1}{80}\frac {52.5-2.5}{1.5-0.5}=\frac {5}{8}.\]
</p>

<p>
The value of this portfolio at time \(0\) is
</p>

<p>
\[x_1+80y_1=-22.5+80\cdot \frac 58=27.5\]
</p>

<p>
which is equal to the initial value of our call option.
</p>

<p>
We can then carry on forwards. For example, if the stock went up in between \(t=0\) and \(t=1\), then at time \(t=1\) we would be sitting in the node for \(S_1=120\), labelled simply \(120\). Our portfolio
\((x_1,y_1)\) is now worth
</p>

<p>
\[x_1(1+0)+y_1\cdot 120=-22.5+120\cdot \frac 58=52.5,\]
</p>

<p>
equal to what is now the value of our call option. We use <span class="textup" >(<a href="Hedging-in-one-period-model.html#eq:hedge">5.8</a>)</span> again to calculate the portfolio we want to hold
during time \(1\mapsto 2\), this time with \(\wt \Phi (su)=100\) and \(\wt \Phi (sd)=5\), giving \(x_2=-42.5\) and \(y_2=\frac {95}{120}.\) You can check that the current value of the portfolio
\((x_2,y_2)\) is \(52.5\).
</p>

<p>
Next, suppose the stock price falls between \(t=1\) and \(t=2\), so our next node is \(S_2=60\). Our portfolio \((x_2,y_2)\) now becomes worth
</p>

<p>
\[x_2(1+0)+y_2\cdot 60 = -42.5+\frac {95}{120}\cdot 60 = 5,\]
</p>

<p>
again equal to the value our of call option. For the final step, we must replicate the contingent claim \(\wt \Phi (su)=10\), \(\wt \Phi (sd)=0\), which <span class="textup" >(<a
href="Hedging-in-one-period-model.html#eq:hedge">5.8</a>)</span> tells us is done using \(x_3=-5\) and \(y_3=\frac {1}{6}.\) Again, you can check that the current value of this portfolio is \(5\).
</p>

<p>
Lastly, the stock price rises again to \(S_3=90\). Our portfolio becomes worth
</p>

<p>
\[x_3(1+0)+y_3\cdot 90 = -5+\frac {1}{6}\cdot 90 = 10,\]
</p>

<p>
equal to the payoff from our call option.
</p>

<p>
To sum up, using <span class="textup" >(<a href="Hedging-in-one-period-model.html#eq:hedge">5.8</a>)</span> we can work out which portfolio we would want to hold, at each possible outcome of the
stock changing value. At all times we would be holding a portfolio with current value equal to the current value of the call option. Therefore, this gives a self-financing portfolio strategy that replicates \(\Phi
(S_T)\).
</p>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Exercises-on-Chapter-ref-chap-bin_model.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-177"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-178"><span class="sectionnumber" >5.7&#x2003;</span>Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></h4>
<a id="notes_1-autopage-178"></a>
<a id="notes_1-autofile-27"></a>

<p>
All questions use the notation \(u,d,p_u,p_d,s\) and \(r\), which has been used throughout this chapter. In all questions we assume that the models are arbitrage free and complete: \(d&lt;1+r&lt;u\).
</p>
<h5 id="autosec-179">On the one-period model</h5>
<a id="notes_1-autopage-179"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>5.1</b> <a id="ps:portfolio_recap"></a> Suppose that we hold the portfolio \((1,3)\) at time \(0\). What is the value of this portfolio at time \(1\)?
</p>
</li>
<li>
<p>
<b>5.2</b> <a id="ps:contingent_1"></a> Find portfolios that replicate the following contingent claims.
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> \(\Phi (S_1)=1\)
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> \(\Phi (S_1)=\begin {cases} 3 &amp; \text { if }S_1=su,\\ 1 &amp; \text { if }S_1=sd.
\end {cases}\).
</p>
</li>
</ul>
<p>
Hence, write down the values of these contingent claims at time \(0\).
</p>
</li>
<li>
<p>
<b>5.3</b> <a id="ps:contingent_2"></a> Find the contingent claims \(\Phi (S_1)\) for the following derivatives.
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> A contract in which the holder promises to buy two units of stock at time \(t=1\), each for strike price
\(K\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> A European put option with strike price \(K\in (sd,su)\) (see Section <a
href="Types-financial-derivative.html#sec:options_1">5.3</a>).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(c)</span></span></span> A contract in which we promise that, if \(S_1=su\), we will sell one unit of stock at time \(t=1\) for strike
price \(K\in (sd,su)\) (and otherwise, if \(S_1=sd\) we do nothing).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(d)</span></span></span> Holding both the contracts in (b) and (c) at once.
</p>
</li>
</ul>
</li>
<li>
<p>
<b>5.4</b> <a id="ps:put_call_parity"></a> Let \(\Pi ^{call}_t\) and \(\Pi ^{put}_t\) be the price of European call and put options, both with the same strike price \(K\in (sd,su)\), at times
\(t=0,1\).
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Write down formulae for \(\Pi ^{call}_0\) and \(\Pi ^{put}_0\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Show that \(\Pi ^{call}_0-\Pi ^{put}_0=s-\frac {K}{1+r}\).
</p>
</li>
</ul>
</li>
</ul>
<h5 id="autosec-180">On the binomial model</h5>
<a id="notes_1-autopage-180"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>5.5</b> <a id="ps:contingent_3"></a> Write down the contingent claim of a European call option (that matures at time \(T\)).
</p>
</li>
<li>
<p>
<b>5.6</b> <a id="ps:binomial_hedging"></a> Let \(T=2\) and let the initial value of a single unit of stock be \(S_0=100\). Suppose that \(p_u=0.25\) and \(p_d=0.75\), that \(u=2.0\) and \(d=0.5\), and
that \(r=0.25\). Draw out, in a tree-like diagram, the possible values of the stock price at times \(t=0,1,2\). Find the price, at time \(0\), of a European put option with strike price \(K=100\).
</p>
<p>
Suppose instead that \(p_u=0.1\) and \(p_d=0.9\). Does this change the value of our put option?
</p>
</li>
<li>
<p>
<b>5.7</b> <a id="ps:binomial_hedging_3"></a> Let \(T=2\) and let the initial value of a single unit of stock be \(S_0=120\). Suppose that \(p_u=0.5\) and \(p_d=0.5\), that \(u=1.5\) and \(d=0.5\), and
that \(r=0.0\). Draw out, in a tree-like diagram, the possible values of the stock price at times \(t=0,1,2\). Annotate your tree to show a hedging strategy for a European call option with strike price \(K=60\).
Hence, write down the value of this option at time \(0\).
</p>
</li>
<li>
<p>
<b>5.8</b> <a id="ps:binomial_hedging_2"></a> Let \(T=2\) and let the initial value of a single unit of stock be \(S_0=480\). Suppose that \(p_u=0.5\) and \(p_d=0.5\), that \(u=1.5\) and \(d=0.75\), and
that \(r=0\). Draw out, in a tree-like diagram, the possible values of the stock price at times \(t=0,1,2\). Annotate your tree to show a hedging strategy for a European call option with strike price \(K=60\).
Hence, write down the value of this option at time \(0\).
</p>
<p>
Comment on the values obtained for the hedging portfolios.
</p>
</li>
<li>
<p>
<b>5.9</b> <a id="ps:bin_mart_2"></a> Recall that \((S_t)_{t=1}^T\) is the price of a single unit of stock. Find a condition on \(p_u,p_d,u,d\) that is equivalent to saying that \(S_t\) is a martingale under
\(\P \).
</p>
<p>
When is \(M_t=\log S_t\) is a martingale under \(\P \)?
</p>
</li>
</ul>
<h5 id="autosec-181">Challenge questions</h5>
<a id="notes_1-autopage-181"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>5.10</b> <a id="ps:bin_compute"></a> Write a computer program (in a language of your choice) that carries out the pricing algorithm for the binomial model, for a general number \(n\) of time-steps.
</p>
</li>
</ul>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Convergence-random-variables.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Convergence of random variables</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-182"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h3 id="autosec-183">Chapter&nbsp;<span class="sectionnumber" >6&#x2003;</span>Convergence of random variables</h3>
<a id="notes_1-autopage-183"></a>
<a id="notes_1-autofile-28"></a>

<a id="chap:rv_conv"></a>

<p>
A real number is a simple object; it takes a single value. As such, if \(a_n\) is a sequence of real numbers, \(\lim _{n\to \infty }a_n=a\), means that the value of \(a_n\) converges to the value of \(a\).
</p>

<p>
Random variables are more complicated objects. They take many different values, with different probabilities. Consequently, if \(X_1,X_2,\ldots \) and \(X\) are random variables, there are many different ways
in which we can try to make sense of the idea that \(X_n\to X\). They are called <i>modes</i> of convergence, and are the focus of this chapter.
</p>

<p>
Convergence of random variables sits at the heart of all sophisticated stochastic modelling. Crucially, it provides a way to approximate one random variable with another (since if \(X_n\to X\) then we may hope
that \(X_n\approx X\) for large \(n\)), which is particularly helpful if it is possible to approximate a complex model \(X_n\) with a relatively simple random variable \(X\). We will explore this theme further in
later chapters.
</p>
<h4 id="autosec-184"><span class="sectionnumber" >6.1&#x2003;</span>Modes of convergence</h4>
<a id="notes_1-autopage-184"></a>



<p>
We say:
</p>

<ul style="list-style-type:none">


<li>
<p>
• \(X_n\stackrel {d}{\to } X\), known as convergence <b>in distribution</b>, if for every \(x\in \R \) at which \(\P [X=x]=0\),
</p>
<p>
\[\lim _{n\to \infty }\P [X_n\leq x]=\P [X\leq x].\]
</p>
</li>
<li>
<p>
• \(X_n\stackrel {\P }{\to } X\), known as convergence <b>in probability</b>, if given any \(a&gt;0\),
</p>
<p>
\[\lim _{n\to \infty }\P [|X_n-X|&gt;a]=0.\]
</p>
</li>
<li>
<p>
• \(X_n\stackrel {a.s.}{\to } X\), known as <b>almost sure</b> convergence, if
</p>
<p>
\[\P \l [X_n\to X\text { as }n\to \infty \r ]=1.\]
</p>
</li>
<li>
<p>
• \(X_n\stackrel {L^p}{\to } X\), known as <b>convergence in \(L^p\)</b>, if
</p>
<p>
\[\E \l [|X_n-X|^p\r ]\to 0\text { as }n\to \infty .\]
</p>
<p>


</p>
</li>
</ul>

<p>
Here, \(p\geq 1\) is a real number. We will be interested in the cases \(p=1\) and \(p=2\). The case \(p=2\) is sometimes known as convergence in mean square. Note that these four definitions also appear on the
formula sheet, in Appendix <a href="Formula-Sheet-part-one.html#sec:formula_sheet_1">B</a>.
</p>

<p>
It is common for random variables to converge in some modes but not others, as the following example shows.
</p>
<div class="theorembodyexample" >

<ul style="list-style-type:none">



<a id="autoid-130"></a>

<li>

<p>
<span class="theoremheaderplain" >Example 6.1.1</span> <a id="autoid-131" ></a ><a id="ex:rv_conv"></a> Let \(U\) be a uniform random variable on \([0,1]\) and set
</p>

<p>
\[X_n=n^2\1\{U&lt;1/n\}= \begin {cases} n^2 &amp; \text { if }U&lt;1/n,\\ 0 &amp; \text { otherwise.}\\ \end {cases} \]
</p>

<p>
Our candidate limit is \(X=0\), the random variable that takes the deterministic value \(0\). We’ll check each of the types of convergence in turn.
</p>
<ul style="list-style-type:none">


<li>
<p>
• For convergence in distribution, we note that \(\P [X\leq x]=\big \{\begin {smallmatrix}0&amp;\text { if }x&lt;0\\1&amp;\text { if }x\geq 0\end {smallmatrix}\). We consider these two cases:
</p>
<ul style="list-style-type:none">


<li>
<p>
1. Firstly, if \(x&lt;0\) then \(\P [X_n\leq x]=0\) so \(\P [X_n\leq x]\to 0\).
</p>


</li>
<li>
<p>
2. Secondly, consider \(x\geq 0\). By definition \(\P [X_n=0]=1-\frac {1}{n}\), so we have that \(1-\frac {1}{n}=\P [X_n=0]\leq \P [X\leq x]\leq 1\), and the sandwich rule tells us that \(\P
[X_n\leq x]\to 1\).
</p>
</li>
</ul>
<p>
Hence, \(\P [X_n\leq x]\to \P [X\leq x]\) in both cases, which means that \(X_n\stackrel {d}{\to } X\).
</p>


</li>
<li>
<p>
• For any \(0&lt;a\leq n^2\) we have \(\P [|X_n-0|&gt;a]=\P [X_n&gt;a]\leq \P [X_n=n^2]=\frac {1}{n}\), so as \(n\to \infty \) we have \(\P [|X_n-0|&gt;a]\to 0\), which means that we do have
\(X_n\stackrel {\P }{\to } 0\).
</p>


</li>
<li>
<p>
• If \(X_m=0\) for some \(m\in \N \) then \(X_n=0\) for all \(n\geq m\), which implies that \(X_n\to 0\) as \(n\to \infty \). So, we have
</p>
<p>
\[\P \l [\lim _{n\to \infty }X_n=0\r ]\geq \P [X_m=0]=1-\frac {1}{m}.\]
</p>
<p>
Since this is true for any \(m\in \N \), we have \(\P [\lim _{n\to \infty }X_n=0]=1\), that is \(X_n\stackrel {a.s.}{\to } 0\).
</p>


</li>
<li>
<p>
• Lastly, \(\E [|X_n-0|]=\E [X_n]=n^2\frac {1}{n}=n\), which does not tend to \(0\) as \(n\to \infty \). So \(X_n\) does not converge to \(0\) in \(L^1\).
</p>
</li>
</ul>


</li>

</ul>

</div>

<p>
As we might hope, there are relationships between the different modes of convergence, which are useful to remember.
</p>
<div class="theorembodylemma" >

<ul style="list-style-type:none">



<a id="autoid-132"></a>

<li>

<p>
<span class="theoremheaderplain" >Lemma 6.1.2</span> <a id="autoid-133" ></a ><a id="lem:conv_modes"></a> Let \(X_n,X\) be random variables.
</p>
<ul style="list-style-type:none">


<li>
<p>
1. If \(X_n\stackrel {\P }{\to } X\) then \(X_n\stackrel {d}{\to } X\).
</p>


</li>
<li>
<p>
2. If \(X_n\stackrel {a.s.}{\to } X\) then \(X_n\stackrel {\P }{\to } X\).
</p>


</li>
<li>
<p>
3. If \(X_n\stackrel {L^p}{\to } X\) then \(X_n\stackrel {\P }{\to } X\).
</p>


</li>
<li>
<p>
4. Let \(1\leq p&lt; q\). If \(X_n\stackrel {L^q}{\to } X\) then \(X_n\stackrel {L^p}{\to } X\).
</p>
</li>
</ul>

<p>
In all other cases (i.e.&nbsp;that are not automatically implied by the above), convergence in one mode does not imply convergence in another.
</p>


</li>

</ul>

</div>

<p>
The proofs are not part of our course (they are part of MAS350/451/6352). We can summarise Lemma <a href="Convergence-random-variables.html#lem:conv_modes">6.1.2</a> with a diagram:
</p>
<div class="center" >

<p>


<a href="conv.jpg" target="_blank" ><img
      src="conv.jpg"
      style="
      width:217pt;
      "
      class="inlineimage"
      alt="(image)"
></a>
</p>
</div>
<div class="theorembodyremark" >

<ul style="list-style-type:none">



<a id="autoid-134"></a>

<li>

<p>
<span class="theoremheaderplain" >Remark 6.1.3</span> <a id="autoid-135" ></a >For convergence of real numbers, it was shown in MAS221 that if \(a_n\to a\) and \(a_n\to b\) then \(a=b\), which
is known as uniqueness of limits. For random variables, the situation is a little more complicated: if \(X_n\stackrel {\P }{\to } X\) and \(X_n\stackrel {\P }{\to } Y\) then \(X=Y\) almost surely. By
Lemma <a href="Convergence-random-variables.html#lem:conv_modes">6.1.2</a>, this result also applies to \(\stackrel {L^p}{\to }\) and \(\stackrel {a.s.}{\to }\). However, if we have only
\(X_n\stackrel {d}{\to } X\) and \(X_n\stackrel {d}{\to } Y\) then we can only conclude that \(X\) and \(Y\) have the same distribution function. Proving these facts is one of the challenge exercises, <a
href="Exercises-on-Chapter-ref-chap-rv_conv.html#ps:unique_limit"><b>6.9</b></a>.
</p>


</li>

</ul>

</div>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|The-monotone-convergence-theorem.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — The monotone convergence theorem</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-189"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-190"><span class="sectionnumber" >6.2&#x2003;</span>The monotone convergence theorem</h4>
<a id="notes_1-autopage-190"></a>
<a id="notes_1-autofile-29"></a> <a id="sec:monotone_conv_thm"></a>

<p>
A natural question to ask is, when does \(\E [X_n]\to \E [X]\)? This is not a mode of convergence, but simply a practical question.
</p>

<p>
We are interested (for use later on in the course) to ask when almost sure convergence implies that \(\E [X_n]\to \E [X]\). As we can see from Example <a
href="Convergence-random-variables.html#ex:rv_conv">6.1.1</a>, in general it does not. We need some extra conditions:
</p>
<div class="theorembodytheorem" >

<ul style="list-style-type:none">



<a id="autoid-136"></a>

<li>

<p>
<span class="theoremheaderplain" >Theorem 6.2.1 (Monotone Convergence Theorem)</span> <a id="autoid-137" ></a ><a id="thm:monotone_conv_thm"></a> Let \((X_n)\) be a sequence of random
variables and suppose that:
</p>
<ul style="list-style-type:none">


<li>
<p>
1. \(X_{n+1}\geq X_n\), almost surely, for all \(n\).
</p>


</li>
<li>
<p>
2. \(X_n\geq 0\), almost surely, for all \(n\).
</p>
</li>
</ul>

<p>
Then, there exists a random variable \(X\) such that \(X_n\stackrel {a.s.}{\to }X\). Further, \(\E [X_n]\to \E [X]\).
</p>


</li>

</ul>

</div>

<p>
The first claim of the theorem, that the sequence \(X_n\) converges almost surely, is true because by property <i>1</i> the sequence \(X_n\) is increasing, almost surely, and increasing sequences of real numbers
converge<sup>1</sup>
</p>

<p>
Since limits preserve weak inequalities and \(X_n\geq 0\) we have \(X\geq 0\), almost surely. However, we should not forget that \(\E [X]\) might be equal to \(+\infty \).
</p>

<p>
You can think of Theorem <a href="The-monotone-convergence-theorem.html#thm:monotone_conv_thm">6.2.1</a> as a stochastic equivalent of the fact that increasing real valued sequences converge (in \(\R
\) if they are bounded, and to \(+\infty \) if they are not bounded). This is usually helpful when applying the theorem, such as in the following example.
</p>

<p>
Let \((X_n)\) be a sequence of independent random variables, with distribution given by
</p>

<p>
\[ X_i= \begin {cases} 2^{-n} &amp; \text { with probability }\frac {1}{2}\\ 0 &amp; \text { with probability }\frac {1}{2}.\\ \end {cases} \]
</p>

<p>
Let \(Y_n=\sum _{i=1}^n X_i\). Then \((Y_n)\) is an increasing sequence, almost surely, and hence converges almost surely to the limit \(Y=\sum _{i=1}^\infty X_i\).
</p>

<p>
Since also \(Y_n\geq 0\), we can apply the monotone convergence theorem to \((Y_n)\) and deduce that \(\E [Y_n]\to \E [Y]\). By linearity of \(\E \), and geometric summation, we have that
</p>

<p>
\[\E [Y_n]=\sum \limits _{i=1}^n \E [Y_i]=\sum \limits _{i=1}^n \frac {1}{2}\frac {1}{2^i}=\frac {1}{2}\frac {\frac 12-(\frac 12)^{n+1}}{1-\frac {1}{2}}\]
</p>

<p>
This converges to \(\frac 12\) as \(n\to \infty \), so we deduce that \(\E [Y]=\frac 12\). We’ll investigate this example further in exercise <a
href="Exercises-on-Chapter-ref-chap-rv_conv.html#ps:conv_simple_2"><b>6.5</b></a>. In fact, \(X_i\) corresponds to the \(i^{th}\) digit in the binary expansion of \(Y\).
</p>
<div class="theorembodyremark" >

<ul style="list-style-type:none">



<a id="autoid-138"></a>

<li>

<p>
<span class="theoremheaderplain" >Remark 6.2.2</span> <a id="autoid-139" ></a >(\(\Delta \)) Those of you taking the MAS452/6052 version of the course should now begin your independent reading,
starting in Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a>. It begins with a convergence theorem similar to Theorem <a
href="The-monotone-convergence-theorem.html#thm:monotone_conv_thm">6.2.1</a>, but which applies to non-monotone sequences.
</p>


</li>

</ul>

</div>
<div class="footnotes" >

<p>
<sup>1</sup>&nbsp;\((\star )\) More precisely: we have \(\P \l [\lim _{n\to \infty }X_n(\omega )\text { exists}\r ]=1\) and for \(\omega \) in this set we can define \(X(\omega )=\lim _{n\to
\infty }X_n(\omega )\). We don’t care about \(\omega \) for which the limit doesn’t exist, because this has probability zero! We could set \(X(\omega )=0\) in such cases, and it won’t affect any probabilities
involving \(X\). See MAS350/451/6352 for details.
</p>

</div>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Exercises-on-Chapter-ref-chap-rv_conv.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-194"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-195"><span class="sectionnumber" >6.3&#x2003;</span>Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></h4>
<a id="notes_1-autopage-195"></a>
<a id="notes_1-autofile-30"></a>
<h5 id="autosec-196">On convergence of random variables</h5>
<a id="notes_1-autopage-196"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>6.1</b> <a id="ps:conv_simple"></a> Let \((X_n)\) be a sequence of independent random variables such that
</p>
<p>
\[ X_n= \begin {cases} 2^{-n} &amp; \text { with probability }\frac {1}{2}\\ 0 &amp; \text { with probability }\frac {1}{2}.\\ \end {cases} \]
</p>
<p>
Show that \(X_n\to 0\) in \(L^1\) and almost surely. Deduce that also \(X_n\to 0\) in probability and in distribution.
</p>
</li>
<li>
<p>
<b>6.2</b> <a id="ps:conv_simple_3"></a> Let \(X_n,X\) be random variables.
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Suppose that \(X_n\stackrel {L^1}{\to } X\) as \(n\to \infty \). Show that \(\E [X_n]\to \E
[X]\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Give an example where \(\E [X_n]\to \E [X]\) but \(X_n\) does not converge to \(X\) in \(L^1\).
</p>
</li>
</ul>
</li>
<li>
<p>
<b>6.3</b> <a id="ps:conv_simple_4"></a> Let \(U\) be a random variable such that \(\P [U=0]=\P [U=1]=\P [U=2]=\frac 13\). Let \(X_n\) and \(X\) be given by
</p>
<p>
\[ X_n= \begin {cases} 1+\frac {1}{n} &amp; \text { if }U=0\\ 1-\frac {1}{n} &amp; \text { if }U=1\\ 0 &amp; \text { if }U=2, \end {cases} \quad \quad \quad \quad X= \begin
{cases} 1 &amp; \text { if }U\in \{0,1\}\\ 0 &amp; \text { if }U=2.             \end {cases} \]
</p>
<p>
Show that \(X_n\to X\) both almost surely and in \(L^1\). Deduce that also \(X_n\to X\) in probability and in distribution.
</p>
</li>
<li>
<p>
<b>6.4</b> <a id="ps:D_notP"></a> Let \(X_1\) be a random variable with distribution given by \(\P [X_1=1]=\P [X_1=0]=\frac 12\). Set \(X_n=X_1\) for all \(n\geq 2\). Set \(Y=1-X_1\). Show that
\(X_n\to Y\) in distribution, but not in probability.
</p>
</li>
<li>
<p>
<b>6.5</b> <a id="ps:conv_simple_2"></a> Let \((X_n)\) be the sequence of random variables from <a href="Exercises-on-Chapter-ref-chap-rv_conv.html#ps:conv_simple"><b>6.1</b></a>. Define
\(Y_n=X_1+X_2+\ldots +X_n\).
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Show that, for all \(\omega \in \Omega \), the sequence \(Y_n(\omega )\) is increasing and bounded.
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Deduce that there exists a random variable \(Y\) such that \(Y_n\stackrel {a.s.}{\to }Y\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(c)</span></span></span> Write down the distribution of \(Y_1,Y_2\) and \(Y_3\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(d)</span></span></span> Suggest why we might guess that \(Y\) has a uniform distribution on \([0,1]\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(e)</span></span></span> Prove that \(Y_n\) has a uniform distribution on \(\{k2^{-n}\-k=0,1,\ldots ,2^n-1\}\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(f)</span></span></span> Prove that \(Y\) has a uniform distribution on \([0,1]\).
</p>
</li>
</ul>
</li>
</ul>
<h5 id="autosec-197">On the monotone convergence theorem</h5>
<a id="notes_1-autopage-197"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>6.6</b> <a id="ps:mct_down"></a> Let \(Y_n\) be a sequence of random variables such that \(Y_{n+1}\leq Y_n\leq 0\), almost surely, for all \(n\). Show that there exists a random variable \(Y\) such
that \(Y_n\stackrel {a.s.}{\to }Y\) and \(\E [Y_n]\to \E [Y]\).
</p>
</li>
<li>
<p>
<b>6.7</b> <a id="ps:mct_reveal_tail"></a> Let \(X\) be a random variable such that \(X\geq 0\) and \(\P [X&lt;\infty ]=1\). Define
</p>
<p>
\[ X_n= \begin {cases} X &amp; \text { if }X\leq n\\ 0 &amp; \text {otherwise.} \end {cases} \]
</p>
<p>
Equivalently, \(X_n=X\1\{X\leq n\}\). Show that \(\E [X_n]\to \E [X]\) as \(n\to \infty \).
</p>
</li>
<li>
<p>
<b>6.8</b> <a id="ps:mct_fubini"></a> Let \((X_n)\) be a sequence of random variables.
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Explain briefly why \(\E \big [\sum _{i=1}^n X_i\big ]=\sum _{i=1}^n \E [X_i]\) follows from
the linearity of \(\E \), for \(n\in \N \). Explain briefly why linearity alone does not allow us to deduce the same equation with \(n=\infty \).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Suppose that \(X_n\geq 0\) almost surely, for all \(n\). Show that
</p>
<span class="hidden" > \(\seteqnumber{0}{6.}{0}\)</span>
<!--
                                         "∞     #     ∞
                                          X           X
                                     E         Xi =         E[Xi ].                              (6.1)                                                               --><a id="eq:mct_fubini"></a><!--
                                         i=1          i=1


-->
<p>


\begin{equation}
\label {eq:mct_fubini} \E \l [\sum _{i=1}^\infty X_i\r ]=\sum _{i=1}^\infty \E [X_i].
\end{equation}


</p>
</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(c)</span></span></span> Suppose, instead, that the \(X_i\) are independent and that \(\P [X_i=1]=\P [X_i=-1]=\frac 12\).
Explain briefly why <span class="textup" >(<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#eq:mct_fubini">6.1</a>)</span> fails to hold, in this case.
</p>
</li>
</ul>
</li>
</ul>
<h5 id="autosec-198">Challenge questions</h5>
<a id="notes_1-autopage-198"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>6.9</b> <a id="ps:unique_limit"></a> Let \((X_n)\) be a sequence of random variables, and let \(X\) and \(Y\) be random variables.
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Show that if \(X_n\stackrel {d}{\to }X\) and \(X_n\stackrel {d}{\to }Y\) then \(X\) and \(Y\)
have the same distribution.
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Show that if \(X_n\stackrel {\P }{\to }X\) and \(X_n\stackrel {\P }{\to }Y\) then \(X=Y\)
almost surely.
</p>
</li>
</ul>
</li>
<li>
<p>
<b>6.10</b> <a id="ps:not_conv"></a> Let \((X_n)\) be a sequence of independent random variables such that \(\P [X_n=1]=\P [X_n=0]=\frac 12\). Show that \((X_n)\) does not converge in probability
and deduce that \((X_n)\) also does not converge in \(L^1\), or almost surely. Does \(X_n\) converge in distribution?
</p>
<p>


</p>
</li>
</ul>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Stochastic-processes-martingale-theory.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Stochastic processes and martingale theory</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-199"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h3 id="autosec-200">Chapter&nbsp;<span class="sectionnumber" >7&#x2003;</span>Stochastic processes and martingale theory</h3>
<a id="notes_1-autopage-200"></a>
<a id="notes_1-autofile-31"></a>

<a id="chap:stoch_procs_1"></a>

<p>
In this section we introduce two important results from the theory of martingales, namely the ‘martingale transform’ and the ‘martingale convergence theorem’. We use these results to analyse the behaviour of
stochastic processes, including those from Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a> (random walks, urns, branching processes) and also the gambling game Roulette.
</p>

<p>
Despite having found a martingale connected to the binomial model, in Proposition <a href="Portfolios-arbitrage-martingales.html#prop:risk_free_martingale">5.5.6</a>, we won’t use martingales to
analyse our financial models – yet. That will come in Chapter <a href="The-Black-Scholes-model.html#chap:bs">14</a>, once we have moved into continuous time and introduced the Black-Scholes model.
</p>
<h4 id="autosec-201"><span class="sectionnumber" >7.1&#x2003;</span>The martingale transform</h4>
<a id="notes_1-autopage-201"></a>



<a id="sec:mart_transf"></a>

<p>
If \(M\) is a stochastic process and \(C\) is an adapted process, we define the <i>martingale transform</i> of \(C\) by \(M\)
</p>

<p>
\[(C\circ M)_n = \sum _{i=1}^n C_{i-1} (M_i-M_{i-1}).            \]
</p>

<p>
Here, by convention, we set \((C\circ M)_0=0\).
</p>

<p>
If \(M\) is a martingale, the process \((C\circ M)_n\) can be thought of as our winnings after \(n\) plays of a game. Here, at round \(i\), a bet of \(C_{i-1}\) is made, and the change to our resulting wealth is
\(C_{i-1}(M_i-M_{i-1})\). For example, if \(C_i\equiv 1\) and \(M_n\) is the simple random walk \(M_n=\sum _1^n X_i\) then \(M_i-M_{i-1}=X_{i}\), so we win/lose each round with even chances; we bet
\(1\) on each round, if we win we get our money back doubled, if we lose we get nothing back.
</p>

<p>
We place the bet \(C_{i-1}\in \mc {F}_{i-1}\) on play \(i\), meaning that we must place our \(i^{th}\) bet using only the information we gained during the first \(i-1\) plays. In particular, we don’t yet
know the result of the \(i^{th}\) play.
</p>
<div class="theorembodythm" >

<ul style="list-style-type:none">



<a id="autoid-140"></a>

<li>

<p>
<span class="theoremheaderplain" >Theorem 7.1.1</span> <a id="autoid-141" ></a ><a id="thm:mart_transf"></a> If \(M\) is a martingale and \(C\) is adapted and bounded, then \((C\circ M)_n\) is
also a martingale.
</p>

<p>
Similarly, if \(M\) is a supermartingale (resp.&nbsp;submartingale), and \(C\) is adapted, bounded and non-negative, then \((C\circ M)_n\) is also a supermartingale martingale (resp.&nbsp;submartingale).
</p>

<p>


</p>


</li>

</ul>

</div>

<p>
<span class="textsc" >Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> Let \(M\) be a martingale. Write \(Y=C\circ M\). We have \(C_n\in \mc {F}_{n}\) and
\(X_n\in \mc {F}_n\), so Proposition <a href="Random-variables.html#itsallmeas">2.2.6</a> implies that \(Y_n\in m\mc {F}_n\). Since \(|C|\le c\) for some \(c\), we have
</p>

<p>
\[ \E |Y_n| \le \sum _{k=1}^n \E |C_{k-1} (M_k-M_{k-1})| \le c \sum _{k=1}^n \E |M_k|+\E |M_{k-1}| &lt; \infty .                      \]
</p>

<p>
So \(Y_n\in L^1\). Since \(C_{n-1}\) is \(\F _{n-1}\)-measurable, by linearity of conditional expectation, the taking out what is known rule and the martingale property of \(M\), we have
</p>
<span class="hidden" > \(\seteqnumber{0}{7.}{0}\)</span>



<!--



                                                                                E[Yn | Fn−1 ] = E[Yn−1 + Cn−1 (Mn − Mn−1 ) | Fn−1 ]

                                                                                            = Yn−1 + Cn−1 E[Mn − Mn−1 | Fn−1 ]

                                                                                            = Yn−1 + Cn−1 (E[Mn |Fn−1 ] − Mn−1 )

                                                                                            = Yn−1 .



-->



<p>


\begin{align*}
\E [Y_n\|\F _{n-1}] &amp;= \E [Y_{n-1} + C_{n-1} (M_n-M_{n-1}) \| \F _{n-1}]\\ &amp;= Y_{n-1} + C_{n-1} \E [M_n-M_{n-1} \| \F _{n-1}]\\ &amp;= Y_{n-1} + C_{n-1} (\E [M_n|\mc
{F}_{n-1}]-M_{n-1})\\ &amp;= Y_{n-1}.
\end{align*}
Hence \(Y\) is a martingale.
</p>

<p>
The argument is easily adapted to prove the second statement, e.g.&nbsp;for a supermartingale \(M\), \(\E [M_n-M_{n-1} \| \F _{n-1}] \le 0\). Note that in these cases it is important that \(C\) is
non-negative. &#x2003;&#x2003;&#x220E;
</p>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Roulette.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Roulette</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-203"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-204"><span class="sectionnumber" >7.2&#x2003;</span>Roulette</h4>
<a id="notes_1-autopage-204"></a>
<a id="notes_1-autofile-32"></a> <a id="sec:roulette"></a>

<p>
The martingale transform is a useful theoretical tool (see e.g.&nbsp;Sections <a href="The-martingale-convergence-theorem.html#sec:martconv">7.3</a>, <a
href="The-optional-stopping-theorem.html#sec:op_stop">8.2</a> and <a href="Stochastic-integration.html#sec:stoch_int_intro">11.1</a>), but it also provides a framework to model casino games.
We illustrate this with Roulette.
</p>

<p>
In roulette, a metal ball lies inside of a spinning wheel. The wheel is divided into 37 segments, of which 18 are black, 18 are red, and 1 is green. The wheel is spun, and the ball spins with it, eventually coming to
rest in one of the 37 segments. If the roulette wheel is manufactured properly, the ball lands in each segment with probability \(\frac {1}{37}\) and the result of each spin is independent.
</p>
<div class="center" >

<p>


<a href="roulette_wheel.jpg" target="_blank" ><img
      src="roulette_wheel.jpg"
      style="
      width:217pt;
      "
      class="inlineimage"
      alt="(image)"
></a>
</p>
</div>

<p>
On each spin, a player can bet an amount of money \(C\). The player chooses either red or black. If the ball lands on the colour of their choice, they get their bet of \(C\) returned and win an additional \(C\).
Otherwise, the casino takes the money and the player gets nothing.
</p>

<p>
The key point is that players can only bet on red or black. If the ball lands on green, the casino takes <i>everyones</i> money.
</p>
<div class="theorembodyremark" >

<ul style="list-style-type:none">



<a id="autoid-142"></a>

<li>

<p>
<span class="theoremheaderplain" >Remark 7.2.1</span> <a id="autoid-143" ></a ><a id="rem:house"></a> Thinking more generally, most casino games fit into this mould – there is a very small bias
towards the casino earning money. This bias is known as the ‘house advantage’.
</p>


</li>

</ul>

</div>

<p>
In each round of roulette, a players probability of winning is \(\frac {18}{37}\) (it does not matter which colour they pick). Let \((X_n)\) be a sequence of i.i.d.&nbsp;random variables such that
</p>

<p>
\[ X_n= \begin {cases} 1 &amp; \text { with probability }\frac {18}{37}\\ -1 &amp; \text { with probability }\frac {19}{37}\\ \end {cases} \]
</p>

<p>
Naturally, the first case corresponds to the player winning game \(n\) and the second to losing. We define
</p>

<p>
\[M_n=\sum \limits _{i=1}^n X_n.\]
</p>

<p>
Then, the value of \(M_n-M_{n-1}=X_n\) is \(1\) if the player wins game \(n\) and \(-1\) if they lose. We take our filtration to be generated by \((M_n)\), so \(\mc {F}_n=\sigma (M_i\-i\leq n)\).
</p>

<p>
A player cannot see into the future. So the bet they place on game \(n\) must be chosen before the game is played, at time \(n-1\) – we write this bet as \(C_{n-1}\), and require that it is \(\mc {F}_{n-1}\)
measurable. Hence, \(C\) is adapted. The total profit/loss of the player over time is the martingale transform
</p>

<p>
\[(C\circ M)_n=\sum \limits _{i=1}^n C_{i-1}(M_i-M_{i-1}).\]
</p>

<p>
We’ll now show that \((M_n)\) is a supermartingale. We have \(M_n\in m\mc {F}_n\) and since \(|M_n|\leq n\) we also have \(M_n\in L^1\). Lastly,
</p>
<span class="hidden" > \(\seteqnumber{0}{7.}{0}\)</span>



<!--



                                                                                          E[Mn+1 |Fn ] = E [Xn+1 + Mn | Fn ]

                                                                                                      = E[Xn+1 |Fn ] + Mn

                                                                                                      = E[Xn+1 ] + Mn

                                                                                                      ≤ Mn .



-->



<p>


\begin{align*}
\E [M_{n+1}|\mc {F}_n] &amp;=\E \l [X_{n+1}+M_n\|\mc {F}_n\r ]\\ &amp;=\E [X_{n+1}|\mc {F}_n]+M_n\\ &amp;=\E [X_{n+1}]+M_n\\ &amp;\leq M_n.
\end{align*}
Here, the second line follows by linearity and the taking out what is known rule. The third line follows because \(X_{n+1}\) is independent of \(\mc {F}_n\), and the last line follows because \(\E
[X_{n+1}]=\frac {-1}{37}&lt;0\).
</p>

<p>
So, \((M_n)\) is a supermartingale and \((C_n)\) is adapted. Theorem <a href="Stochastic-processes-martingale-theory.html#thm:mart_transf">7.1.1</a> applies and tells us that \((C\circ M)_n\) is a
supermartingale. We’ll continue this story in Section <a href="Long-term-behaviour-stochastic-processes.html#sec:roulette_long_term">7.4</a>.
</p>
<div class="theorembodyremark" >

<ul style="list-style-type:none">



<a id="autoid-144"></a>

<li>

<p>
<span class="theoremheaderplain" >Remark 7.2.2</span> <a id="autoid-145" ></a >There have been ingenious attempts to win money at Roulette, often through hidden technology or by exploiting
mechanical flaws (which can slightly bias the odds), mixed with probability theory.
</p>

<p>
In 1961, Edward O.&nbsp;Thorp (a professor of mathematics) and Claude Shannon (a professor of electrical engineering) created the worlds first wearable computer, which timed the movements of the ball and wheel,
and used this information to try and predict roughly where the ball would land. Here’s the machine itself:
</p>
<div class="center" >

<p>


<a href="thorp_roulette_computer.jpg" target="_blank" ><img
      src="thorp_roulette_computer.jpg"
      style="
      width:217pt;
      "
      class="inlineimage"
      alt="(image)"
></a>
</p>
</div>

<p>
Information was input to the computer by its wearer, who silently tapped their foot as the Roulette wheel spun. By combining this information with elements of probability theory, they believed they could consistently
‘beat the casino’. They were very successful, and obtained a return of \(144\%\) on their bets. Their method is now illegal; at the time it was not, because no-one had even thought it might be possible.
</p>

<p>
Of course, most gamblers are not so fortunate.
</p>


</li>

</ul>

</div>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|The-martingale-convergence-theorem.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — The martingale convergence theorem</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-209"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-210"><span class="sectionnumber" >7.3&#x2003;</span>The martingale convergence theorem</h4>
<a id="notes_1-autopage-210"></a>
<a id="notes_1-autofile-33"></a> <a id="sec:martconv"></a>

<p>
In this section, we are concerned with almost sure convergence of supermartingales \((M_n)\) as \(n\to \infty \). Naturally, martingales are a special case and submartingales can be handled through multiplying
by \(-1\). We’ll need the following definition:
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-146"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 7.3.1</span> <a id="autoid-147" ></a >Let \(p\in [1,\infty )\). We say that a stochastic process \((X_n)\) is bounded in \(L^p\) if there exists some
\(M&lt;\infty \) such that, for all \(n\),
</p>

<p>
\[\E \l [|X_n|^p\r ]\leq M.\]
</p>

<p>


</p>


</li>

</ul>

</div>

<p>
As usual, we’ll mostly only be concerned with the cases \(p=1,2\).
</p>

<p>
Let \((M_n)\) be a stochastic process and fix \(a&lt;b\). We define \(U_N[a,b]\) to be the number of <i>upcrossings</i> made in the interval \([a,b]\) by \(M_1,\dots ,M_N\). That is, \(U_n[a,b]\) is the
largest \(k\) such there exists
</p>

<p>
\[ 0\leq s_1 &lt; t_2 &lt; \ldots &lt; s_k &lt; t_k \leq N \hspace {1pc}\text { such that }\hspace {1pc} M_{s_i}\leq a, M_{t_i}&gt; b\;\text { for all }i=1,\ldots ,k.                          \]
</p>

<p>
This definition is best understood through a picture:
</p>
<div class="center" >

<p>


<a href="upcrossing.jpg" target="_blank" ><img
      src="upcrossing.jpg"
      style="
      width:304pt;
      "
      class="inlineimage"
      alt="(image)"
></a>
</p>
</div>

<p>
Note that, for convenience, we draw \(M_n\) as a continuous (green line) although in fact it only changing value at discrete times.
</p>

<p>
Studying upcrossings is key to establishing almost sure convergence of supermartingales. To see why upcrossings are important, note that if \((c_n)\sw \R \) is a (deterministic) sequence and \(c_n\to c\), for
some \(c\in \R \), then there is no interval \([a,b]\) \(a&lt;b\) such that \((c_n)_{n=1}^\infty \) makes infinitely many upcrossings of \([a,b]\); if there was then \((c_n)\) would oscillate and couldn’t
converge.
</p>

<p>
Note that \(U_N[a,b]\) is an increasing function of \(N\), and define \(U_\infty [a,b]\) by
</p>

<span class="hidden" > \(\seteqnumber{0}{7.}{0}\)</span>

<!--



                                                         U∞ [a, b](ω) = lim UN [a, b](ω).                                                       (7.1)                                  --><a id="eq:UNU"></a><!--
                                                                       N ↑∞




-->

<p>


\begin{equation}
\label {eq:UNU} U_\infty [a,b](\omega )=\lim _{N\uparrow \infty } U_N[a,b](\omega ).
\end{equation}


</p>

<p>
This is an almost surely limit, since it holds for each \(\omega \in \Omega \). With this definition, \(U_\infty [a,b]\) could potentially be infinite, but we can prove that it is not.
</p>
<div class="theorembodylemma" >

<ul style="list-style-type:none">



<a id="autoid-148"></a>

<li>

<p>
<span class="theoremheaderplain" >Lemma 7.3.2</span> <a id="autoid-149" ></a ><a id="lem:Doobup"></a> Let \(M\) be a supermartingale. Then
</p>

<p>
\[(b-a) \E [U_N[a,b]]\le \E [|M_N-a|].           \]
</p>

<p>


</p>


</li>

</ul>

</div>

<p>
<span class="textsc" >Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> Let \(C_1=\1\{M_0&lt;a\}\) and recursively define
</p>

<p>
\[ C_n=\1\{C_{n-1}=1,M_{n}\leq b\}+\1\{C_{n-1}=0,M_{n}\leq a\}.               \]
</p>

<p>
The behaviour of \(C_n\) is that, when \(X\) enters the region below \(a\), \(C_n\) starts taking the value \(1\). It will continue to take the value \(1\) until \(M\) enters the region above \(b\), at which point
\(C_n\) will start taking the value \(0\). It will continue to take the value \(0\) until \(M\) enters the region below \(a\), and so on. Hence,
</p>

<p>
\[ (C\circ M)_N=\sum _{k=1}^N C_{k-1}(M_{k}-M_{k-1}) \ge (b-a)U_N[a,b]-|M_N-a|.                   \]
</p>

<p>
That is, each upcrossing of \([a,b]\) by \(M\) picks up at least \((b-a)\); the final term corresponds to an upcrossing that \(M\) might have started but not finished.
</p>

<p>
Note that \(C_n\) is adapted, bounded and non-negative. Hence, by Theorem <a href="Stochastic-processes-martingale-theory.html#thm:mart_transf">7.1.1</a> we have that \(C\circ X\) is a
supermartingale. Thus \(\E [(C\circ M)_N]\le 0\), which proves the given result. &#x2003;&#x2003;&#x220E;
</p>
<div class="theorembodylemma" >

<ul style="list-style-type:none">



<a id="autoid-150"></a>

<li>

<p>
<span class="theoremheaderplain" >Lemma 7.3.3</span> <a id="autoid-151" ></a ><a id="lem:Doobup2"></a> Suppose \(M\) is a supermartingale and bounded in \(L^1\). Then \(P[U_\infty
[a,b]=\infty ]=0.\)
</p>


</li>

</ul>

</div>

<p>
<span class="textsc" >Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> From Lemma <a
href="The-martingale-convergence-theorem.html#lem:Doobup">7.3.2</a> we have
</p>

<span class="hidden" > \(\seteqnumber{0}{7.}{1}\)</span>

<!--



                                                 (b − a)E[UN [a, b]] ≤ |a| + sup E|Mn |.                                             (7.2)                                --><a id="eq:UNbound"></a><!--
                                                                            n∈N




-->

<p>


\begin{equation}
\label {eq:UNbound} (b-a) \E [U_N[a,b]]\leq |a|+\sup _{n\in \N }\E |M_n|.
\end{equation}


</p>

<p>
We have that \(U_N[a,b]\) is increasing, as \(N\) increases, and the definition of \(U_\infty [a,b]\) in <span class="textup" >(<a
href="The-martingale-convergence-theorem.html#eq:UNU">7.1</a>)</span> gives that that \(U_N[a,n]\to U_\infty [a,b]\) almost surely as \(N\to \infty \). Hence, by the monotone convergence
theorem, \(\E [U_N[a,b]]\to \E [U_\infty [a,b]]\), and so by letting \(N\to \infty \) in <span class="textup" >(<a
href="The-martingale-convergence-theorem.html#eq:UNbound">7.2</a>)</span> we have
</p>

<p>
\[(b-a)\E [U_\infty [a,b]]\leq |a|+\sup _{n\in \N }\E |M_n|&lt;\infty ,\]
</p>

<p>
which implies that \(\P [U_\infty [a,b]&lt;\infty ]=1\). &#x2003;&#x2003;&#x220E;
</p>

<p>
Essentially, Lemma <a href="The-martingale-convergence-theorem.html#lem:Doobup2">7.3.3</a> says that the paths of \(M\) cannot oscillate indefinitely. This is the crucial ingredient of the martingale
convergence theorem.
</p>
<div class="theorembodythm" >

<ul style="list-style-type:none">



<a id="autoid-152"></a>

<li>

<p>
<span class="theoremheaderplain" >Theorem 7.3.4 (Martingale Convergence Theorem I)</span> <a id="autoid-153" ></a ><a id="thm:mart_conv"></a> Suppose \(M\) is a supermartingale bounded in
\(L^1\). Then the limit \(M_n\stackrel {a.s.}{\to }M_\infty \) exists and \(\P [|M_\infty |&lt;\infty ]=1\).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc" >Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> Define
</p>

<p>
\[\Lambda _{a,b}=\{\om :\text { for infinitely many }n, M_n(\omega )&lt;a\}\cap \{\om :\text { for infinitely many }n, M_n(\omega )&gt;b\}.\]
</p>

<p>
We observe that \(\Lambda _{a,b}\subset \{U_\infty [a,b]=\infty \}\), which has probability 0 by Lemma <a href="The-martingale-convergence-theorem.html#lem:Doobup2">7.3.3</a>. But since
</p>

<p>
\[ \{\om :     M_n(\om ) \mbox { does not converge to a limit in } [-\infty ,\infty ]\} = \bigcup _{a,b\in \mathbb {Q}} \Lambda _{a,b}, \]
</p>

<p>
we have that
</p>

<p>
\[ \P [M_n \mbox { converges to some } M_\infty \in [-\infty ,+\infty ]]=1\]
</p>

<p>
which proves the first part of the theorem.
</p>

<p>
To prove the second part we will use an inequality that holds for any convergent sequence \(M_n\stackrel {a.s.}{\to } M_\infty \) of random variables:
</p>

<span class="hidden" > \(\seteqnumber{0}{7.}{2}\)</span>

<!--



                                                      E[|M∞ |] ≤ sup E[|Mn |].                                                    (7.3)                                --><a id="eq:fatou_subst"></a><!--
                                                                 n∈N




-->

<p>


\begin{equation}
\label {eq:fatou_subst} \E [|M_\infty |]\leq \sup _{n\in \N }\E [|M_n|].
\end{equation}


</p>

<p>
This inequality can be proved using the monotone convergence theorem and some careful analysis, see exercise <a
href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:fatou_subst"><b>7.12</b></a>. Since we assumed that \((M_n)\) is bounded in \(L^1\), <span class="textup" >(<a
href="The-martingale-convergence-theorem.html#eq:fatou_subst">7.3</a>)</span> gives us that \(\E [|M_\infty |]&lt;\infty \). Hence, \(\P [|M_\infty |=\infty ]=0\) (or else the expected value
would be infinite). &#x2003;&#x2003;&#x220E;
</p>

<p>
One useful note is that if \(M_n\) is a non-negative supermartingale then we have \(\E [|M_n|]=\E [M_n]\le \E [M_0]\), so in this case \(M\) is automatically bounded in \(L^1\).
</p>

<p>
Theorem <a href="The-martingale-convergence-theorem.html#thm:mart_conv">7.3.4</a> has one big disadvantage: it cannot tell us anything about the limit \(M_\infty \), except that it is finite. To gain
more information about \(M_\infty \), we need an extra condition.
</p>
<div class="theorembodycor" >

<ul style="list-style-type:none">



<a id="autoid-154"></a>

<li>

<p>
<span class="theoremheaderplain" >Corollary 7.3.5 (Martingale Convergence Theorem II)</span> <a id="autoid-155" ></a ><a id="thm:mart_conv2"></a> In the setting of Theorem <a
href="The-martingale-convergence-theorem.html#thm:mart_conv">7.3.4</a>, suppose additionally that \((M_n)\) is bounded in \(L^2\). Then \(M_n\to M_\infty \) in both \(L^1\) and \(L^2\), and
</p>

<p>
\[\lim \limits _{n\to \infty }\E [M_n]=\E [M_\infty ],\hspace {2pc}\lim \limits _{n\to \infty }\var (M_n)\to \var (M_\infty ).\]
</p>

<p>


</p>


</li>

</ul>

</div>

<p>
The proof of Corollary <a href="The-martingale-convergence-theorem.html#thm:mart_conv2">7.3.5</a> is outside of the scope of our course.
</p>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Long-term-behaviour-stochastic-processes.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Long term behaviour of stochastic processes</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-217"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-218"><span class="sectionnumber" >7.4&#x2003;</span>Long term behaviour of stochastic processes</h4>
<a id="notes_1-autopage-218"></a>
<a id="notes_1-autofile-34"></a>

<p>
Our next step is to use the martingale convergence theorem to look at the behaviour as \(t\to \infty \) of various stochastic processes. We will begin with Roulette, from Section <a
href="Roulette.html#sec:roulette">7.2</a>, and then move on to the trio of stochastic processes (random walks, urns, branching processes) that we introduced in Chapter <a
href="Stochastic-processes.html#chap:stoch_procs">4</a>.
</p>

<p>
One fact, from real analysis, that we will find useful is the following:
</p>
<div class="theorembodylemma" >

<ul style="list-style-type:none">



<a id="autoid-156"></a>

<li>

<p>
<span class="theoremheaderplain" >Lemma 7.4.1</span> <a id="autoid-157" ></a ><a id="lem:Z_ev_const"></a> Let \((a_n)\) be an integer valued sequence, and suppose that \(a_n\to a\) as \(n\to
\infty \). Then \((a_n)\) is eventually equal to a constant: there exists \(N\in \N \) such that \(a_n=a\) for all \(n\geq N\).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc" >Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> Put \(\epsilon =\frac 13\) into the definition of a convergent real sequence, and we
obtain that there exists \(N\in \N \) such that \(|a_n-a|\leq \frac 13\) for all \(n\geq N\). Hence, for \(n\geq N\) we have
</p>
<span class="hidden" > \(\seteqnumber{0}{7.}{3}\)</span>



<!--



                                                                            |an − an+1 | = |an − a + a − an+1 | ≤ |an − a| + |a − an+1 |
                                                                                                                   1       1
                                                                                                               ≤   3   +   3

                                                                                                               = 23 .



-->



<p>


\begin{align*}
|a_n-a_{n+1}|=|a_n-a+a-a_{n+1}| &amp;\leq |a_n-a|+|a-a_{n+1}|\\ &amp;\leq \tfrac 13+\tfrac 13\\ &amp;=\tfrac 23.
\end{align*}
Since \(\frac 23&lt;1\), and \(a_n\) takes only integer values, this means that \(a_n=a_{n+1}\). Since this holds for all \(n\geq N\), we must have \(a_N=a_{N+1}=a_{N+2}=\ldots \), which means that
\(a_n\to a_N\) as \(N\to \infty \) (and hence \(a=a_N\)). &#x2003;&#x2003;&#x220E;
</p>
<h5 id="autosec-220">Long term behaviour of Roulette</h5>
<a id="notes_1-autopage-220"></a>



<a id="sec:roulette_long_term"></a>

<p>
Let us think about what happens to our Roulette player, from Section <a href="Roulette.html#sec:roulette">7.2</a>.
</p>

<p>
Recall that our gambler bets an amount \(C_{n-1}\in \mc {F}_{n-1}\) on play \(n\). On each play, our gambler increases his wealth, by \(C_{n-1}\), with probability \(\frac {18}{37}\), or decreases his
wealth, by \(C_{n-1}\), with probability \(\frac {19}{37}\). We showed in Section <a href="Roulette.html#sec:roulette">7.2</a> that his profit/loss after \(n\) plays was a supermartingale, \((C\circ
M)_n.\) Thus, if our gambler starts with an amount of money \(K\in \N \) at time \(0\), then at time \(n\) they have an amount of money given by
</p>

<p>
\[W_n=K+(C\circ M)_n.\]
</p>

<p>
We’ll assume that our gambler never stops playing, unless they run out of money, so we have \(C_n\geq 1\) and \(W_n\geq 0\) for all \(n\). Since money is a discrete quantity, we can assume that \(K\) and
\(C_n\) are integers, hence \(W_n\) is also always an integer.
</p>

<p>
From Section <a href="Roulette.html#sec:roulette">7.2</a> we know that \((C\circ M)_n\) is a supermartingale, hence \(W_n\) is also a supermartingale. Since \(W_n\geq 0\) we have \(\E [|W_n|]=\E
[W_n]\leq \E [W_0]\) so \((W_n)\) is bounded in \(L^1\). Hence, by the martingale convergence theorem, \(W_n\) is almost surely convergent.
</p>

<p>
By Lemma <a href="Long-term-behaviour-stochastic-processes.html#lem:Z_ev_const">7.4.1</a>, the only way that \(W_n\) can converge is if it becomes constant, eventually. Since each play results in a
win (an increase) or a loss (a decrease) the only way \(W_n\) can become eventually constant is if our gambler has lost all his money i.e.&nbsp;for some (random) \(N\in \N \), for all \(n\geq N\), we have
\(W_n=0\). Thus:
</p>
<div class="theorembodylemma" >

<ul style="list-style-type:none">



<a id="autoid-158"></a>

<li>

<p>
<span class="theoremheaderplain" >Lemma 7.4.2</span> <a id="autoid-159" ></a >Almost surely, a roulette player will eventually lose all their money.
</p>


</li>

</ul>

</div>
<h5 id="autosec-222">Long term behaviour of urn processes</h5>
<a id="notes_1-autopage-222"></a>



<a id="sec:urn_long_term"></a>

<p>
We will look at the Po&#x0301;lya urn process introduced in Section <a href="Urn-processes.html#sec:urn">4.2</a>. Recall that we start our urn with \(2\) balls, one red and one black. Then, at each time
\(n=1,2,\ldots ,\) we draw a ball, uniformly at random, from the urn, and replace it alongside an additional ball of the same colour. Thus, at time \(n\) (which means: after the \(n^{th}\) draw is completed)
the urn contains \(n+2\) balls.
</p>

<p>
Recall also that we write \(B_n\) for the number of red balls in the urn at time \(n\), and
</p>

<span class="hidden" > \(\seteqnumber{0}{7.}{3}\)</span>

<!--


                                                            Bn
                                                    Mn =                                                         (7.4)                                                       --><a id="eq:urn_Mn2"></a><!--
                                                           n+2


-->

<p>


\begin{equation}
\label {eq:urn_Mn2} M_n=\frac {B_n}{n+2}
\end{equation}


</p>

<p>
for the fraction of red balls in the urn at time \(n\). We have shown in Section <a href="Urn-processes.html#sec:urn">4.2</a> that \(M_n\) is a martingale. Since \(M_n\in [0,1]\), we have \(\E
[|M_n|]\leq 1\), hence \((M_n)\) is bounded in \(L^1\) and the martingale convergence theorem applies. Therefore, there exists a random variable \(M_\infty \) such that \(M_n\stackrel {a.s.}{\to
}M_\infty \). We will show that:
</p>
<div class="theorembodyprop" >

<ul style="list-style-type:none">



<a id="autoid-160"></a>

<li>

<p>
<span class="theoremheaderplain" >Proposition 7.4.3</span> <a id="autoid-161" ></a ><a id="prop:urn_limit"></a> \(M_\infty \) has the uniform distribution on \([0,1]\).
</p>


</li>

</ul>

</div>
<div class="theorembodyremark" >

<ul style="list-style-type:none">



<a id="autoid-162"></a>

<li>

<p>
<span class="theoremheaderplain" >Remark 7.4.4</span> <a id="autoid-163" ></a >Results like Proposition <a href="Long-term-behaviour-stochastic-processes.html#prop:urn_limit">7.4.3</a>
are extremely useful, in stochastic modelling. It provides us with the following ‘rule of thumb’: if \(n\) is large, then the fraction of red balls in our urn is approximately a uniform distribution on \([0,1]\).
Therefore, we can approximate a complicated object (our urn) with a much simpler object (a uniform random variable).
</p>


</li>

</ul>

</div>

<p>
We now aim to prove Proposition <a href="Long-term-behaviour-stochastic-processes.html#prop:urn_limit">7.4.3</a>, which means we must find out the distribution of \(M_\infty \). In order to do so,
we will use Lemma <a href="Convergence-random-variables.html#lem:conv_modes">6.1.2</a>, which tells us that \(M_n\stackrel {d}{\to }M_\infty \), that is
</p>
<span class="hidden" > \(\seteqnumber{0}{7.}{4}\)</span>



<!--



                                                                                                 P[Mn ≤ x] → P[M∞ ≤ x]                              (7.5)                          --><a id="eq:urn_Mconvd"></a><!--



-->



<p>


\begin{align}
\label {eq:urn_Mconvd} \P [M_n\leq x]\to \P [M_\infty \leq x]
\end{align}
for all \(x\). We will begin with a surprising lemma that tells us the distribution of \(B_n\). Then, using <span class="textup" >(<a
href="Long-term-behaviour-stochastic-processes.html#eq:urn_Mn2">7.4</a>)</span>, we will be able to find the distribution of \(M_n\), from which <span class="textup" >(<a
href="Long-term-behaviour-stochastic-processes.html#eq:urn_Mconvd">7.5</a>)</span> will then tell us the distribution of \(M_\infty \).
</p>
<div class="theorembodylemma" >

<ul style="list-style-type:none">



<a id="autoid-164"></a>

<li>

<p>
<span class="theoremheaderplain" >Lemma 7.4.5</span> <a id="autoid-165" ></a ><a id="lem:urn_Bn_unif"></a> For all \(k=1,\ldots ,n+1\), it holds that \(\P [B_n=k]=\frac {1}{n+1}\).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc" >Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> Let \(A\) be the event that the first \(k\) balls drawn are red, and the next \(j\) balls
drawn are black. Then,
</p>

<span class="hidden" > \(\seteqnumber{0}{7.}{5}\)</span>

<!--


                                                          12      k  1  2        j
                                                 P[A] =      ...           ...       .                                                          (7.6)                         --><a id="eq:urn_rb_draws"></a><!--
                                                          23     k+1k+2k+2     j+k+1


-->

<p>


\begin{equation}
\label {eq:urn_rb_draws} \P [A]=\frac {1}{2}\frac {2}{3}\ldots \frac {k}{k+1}\frac {1}{k+2}\frac {2}{k+2}\ldots \frac {j}{j+k+1}.
\end{equation}


</p>

<p>
Here, each fraction corresponds (in order) to the probability of getting a red/black ball (as appropriate) on the corresponding draw, given the results of previous draws. For example, \(\frac 12\) is the probability
that the first draw results in a red ball, after which the urn contains \(2\) red balls and \(1\) black ball, so \(\frac 23\) is the probability that the second draw results in a red ball, and so on. From <span
class="textup" >(<a href="Long-term-behaviour-stochastic-processes.html#eq:urn_rb_draws">7.6</a>)</span> we have \(\P [A]=\frac {j!k!}{(j+k+1)!}\).
</p>

<p>
Here is the clever part: we note that drawing \(k\) red balls and \(j\) black balls, in the first \(j+k\) draws but in a different order, would have the <i>same</i> probability. We would simply obtain the
numerators in <span class="textup" >(<a href="Long-term-behaviour-stochastic-processes.html#eq:urn_rb_draws">7.6</a>)</span> in a different order. There are \(\binom {j+k}{k}\) possible
different orders (i.e.&nbsp;we must choose \(k\) time-points from \(j+k\) times at which to pick the red balls). Hence, the probability that we draw \(k\) red and \(j\) black in the first \(j+k\) draws is
</p>

<p>
\[\binom {j+k}{k}\frac {j!k!}{(j+k+1)!}=\frac {(j+k)!}{k!(j+k-k)!}\frac {j!k!}{(j+k+1)!}=\frac {1}{j+k+1}.\]
</p>

<p>
We set \(j=n-k\), to obtain the probability of drawing (and thus adding) \(k\) red balls within the first \(j+k=n\) draws. This gives \(\P [B_n=k+1]=\frac {1}{n+1}\) for all \(k=0,1,\ldots ,n\). Hence \(\P
[B_n=k]=\frac {1}{n+1}\) for all \(k=1,1,\ldots ,n+1\). &#x2003;&#x2003;&#x220E;
</p>

<p>
<span class="textsc" >Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span>[Of Proposition <a
href="Long-term-behaviour-stochastic-processes.html#prop:urn_limit">7.4.3</a>.] Now that we know the distribution of \(B_n\), we can use <span class="textup" >(<a
href="Long-term-behaviour-stochastic-processes.html#eq:urn_Mn2">7.4</a>)</span> to find out the distribution of \(M_n\). Lemma <a
href="Long-term-behaviour-stochastic-processes.html#lem:urn_Bn_unif">7.4.5</a> tells us that \(B_n\) is uniformly distribution on the set \(\{1,\ldots ,n+1\}\). Hence \(M_n\) is uniform on
\(\{\frac {1}{n+2},\frac {2}{n+2},\ldots ,\frac {n+1}{n+2}\}\). This gives us that, for \(x\in (0,1)\),
</p>
<span class="hidden" > \(\seteqnumber{0}{7.}{6}\)</span>



<!--



                                                                                                          1
                                                                                           P[Mn ≤ x] =       × bx(n + 2)c.
                                                                                                         n+1



-->



<p>


\begin{align*}
\P [M_n\leq x]=\frac {1}{n+1} \times \lfloor x(n+2) \rfloor .
\end{align*}
Here, \(\lfloor x(n+2) \rfloor \), which denotes the integer part of \(x(n+2)\), is equal to the number of elements of \(\{\frac {1}{n+2},\frac {2}{n+2},\ldots ,\frac {n+1}{n+2}\}\) that are \(\leq
x\). Since \(x(n+2)-1\leq \lfloor x(n+2)\rfloor \leq x(n+2)\) we obtain that
</p>

<p>
\[\frac {x(n+2)-1}{n+1}\leq \P [M_n\leq x]\leq \frac {x(n+2)}{n+1}\]
</p>

<p>
and the sandwich rule tells us that \(\lim _{n\to \infty }\P [M_n\leq x]=x\). By <span class="textup" >(<a
href="Long-term-behaviour-stochastic-processes.html#eq:urn_Mconvd">7.5</a>)</span>, this means that
</p>

<p>
\[\P [M_\infty \leq x]=x\quad \text { for all }x\in (0,1).\]
</p>

<p>
Therefore, \(M_\infty \) has a uniform distribution on \((0,1)\). This proves Proposition <a href="Long-term-behaviour-stochastic-processes.html#prop:urn_limit">7.4.3</a>.
&#x2003;&#x2003;&#x220E;
</p>
<h6 id="autosec-226">Extensions and applications of urn processes</h6>
<a id="notes_1-autopage-226"></a>



<p>
We could change the rules of our urn process, to create a new kind of urn – for example whenever we draw a red ball we could add two new red balls, rather than just one. Urn processes are typically very ‘sensitive’,
meaning that a small change in the process, or its initial conditions, can have a big effect on the long term behaviour. You can investigate some examples of this in exercises <a
href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:urn_mean_revert"><b>7.7</b></a>, <a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:urn_moran"><b>7.8</b></a>
and <a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:urn_initial_conds"><b>7.9</b></a>.
</p>

<p>
Urn processes are often used in models in which the ‘next step’ of the process depends on sampling from its current state. Recall that in random walks we have \(S_{n+1}=S_n+X_{n+1}\), where \(X_{n+1}\) is
independent of \(S_n\); so for random walks the next step of the process is independent of its current state. By contrast, in Po&#x0301;lya’s urn, whether the next ball we add is red (or black) depends on the
current state of the urn; it depends on which colour ball we draw.
</p>

<p>
For example, we might look at people choosing which restaurant they have dinner at. Consider two restaurants, say <i>Cafe&#x0301; Rouge</i> (which is red) and <i>Le Chat Noir</i> (which is black). We think
of customers in Cafe&#x0301; Rouge as red balls, and customers in Le Chat Noir as black balls. A newly arriving customer (i.e.&nbsp;a new ball that we add to the urn) choosing which restaurant to visit is more
likely, but not certain, to choose the restaurant which currently has the most customers.
</p>

<p>
Other examples include the growth of social networks (people tend to befriend people who already have many friends), machine learning (used in techniques for becoming successively more confident about partially
learned information), and maximal safe dosage estimation in clinical trials (complicated reasons). Exercise <a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:urn_moran"><b>7.8</b></a>
features an example of an urn process that is the basis for modern models of evolution (successful organisms tend to have more descendants, who are themselves more likely to inherit genes that will make them
successful).
</p>
<h5 id="autosec-227">Long term behaviour of Galton-Watson processes</h5>
<a id="notes_1-autopage-227"></a>



<a id="sec:gw_long_term"></a>

<p>
The martingale convergence theorem can tell us about the long term behaviour of stochastic processes. In this section we focus on the Galton-Watson process, which we introduced in Section <a
href="A-branching-process.html#sec:gw">4.3</a>.
</p>

<p>
Let us recall the notation from Section <a href="A-branching-process.html#sec:gw">4.3</a>. Let \(X^n_i\), where \(n,i\ge 1\), be i.i.d.&nbsp;nonnegative integer-valued random variables with common
distribution \(G\). Define a sequence \((Z_n)\) by \(Z_0=1\) and
</p>

<span class="hidden" > \(\seteqnumber{0}{7.}{6}\)</span>

<!--

                                                
                                                 X n+1 + . . . + X n+1 ,   if \(Z_n&gt;0\)
                                                     1             Zn
                                       Zn+1   =                                                                                    (7.7)                                  --><a id="eq:gw_iterative_defn"></a><!--
                                                 0,                        if \(Z_n=0\)


-->

<p>


\begin{equation}
\label {eq:gw_iterative_defn} Z_{n+1} = \left \{ \begin{array}{ll} X^{n+1}_1 + \ldots + X^{n+1}_{Z_n}, &amp; \mbox { if $Z_n&gt;0$} \\ 0, &amp; \mbox { if $Z_n=0$} \end {array}
\right .
\end{equation}


</p>

<p>
Then \((Z_n)\) is the Galton-Watson process. In Section <a href="A-branching-process.html#sec:gw">4.3</a> we showed that, writing \(\mu =\E [G]\),
</p>

<p>
\[M_n=\frac {Z_n}{\mu ^n}\]
</p>

<p>
was a martingale with mean \(\E [M_n]=1\).
</p>

<p>
We now look to describe the long term behaviour of the process \(Z_n\), meaning that we want to know how \(Z_n\) behaves as \(n\to \infty \). We’ll consider three cases: \(\mu &lt;1\), \(\mu =1\), and
\(\mu &gt;1\). Before we start, its important to note that, if \(Z_N=0\) for any \(N\in \N \), then \(Z_n=0\) for all \(n\geq N\). When this happens, it is said that the process <i>dies out</i>.
</p>

<p>
We’ll need the martingale convergence theorem. We have that \(M_n\) is a martingale, with expected value \(1\), and since \(M_n\geq 0\) we have \(\E [|M_n|]=1\). Hence, \((M_n)\) is bounded in \(L^1\) and
by the martingale convergence theorem (Theorem <a href="The-martingale-convergence-theorem.html#thm:mart_conv">7.3.4</a>) we have that the almost sure limit
</p>

<p>
\[\lim \limits _{n\to \infty }M_n=M_\infty \]
</p>

<p>
exists. Since \(M_n\geq 0\), we have \(M_\infty \in [0,\infty )\).
</p>

<p>
For the rest of this section, we’ll assume that the offspring distribution \(G\) is not deterministic. Obviously, if \(G\) was deterministic and equal to say, \(c\), then we would simply have \(Z_n=c^n\) for all \(n\).
</p>
<div class="theorembodylemma" >

<ul style="list-style-type:none">



<a id="autoid-166"></a>

<li>

<p>
<span class="theoremheaderplain" >Lemma 7.4.6</span> <a id="autoid-167" ></a ><a id="lem:gw_crit"></a> Suppose that \(\mu =1\). Then \(\P [Z_n\text { dies out}]=1\).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc" >Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> In this case \(M_n=Z_n\). So, we have \(Z_n\to M_\infty \) almost surely. The offspring
distribution is not deterministic, so for as long as \(Z_n\neq 0\) the value of \(Z_n\) will continue to change over time. Each such change in value is of magnitude at least \(1\), hence by Lemma <a
href="Long-term-behaviour-stochastic-processes.html#lem:Z_ev_const">7.4.1</a> the only way \(Z_n\) can converge is if \(Z_n\) is eventually zero. Therefore, since \(Z_n\) does converge, in this case we
must have \(\P [Z_n\text { dies out}]=1\) (and \(M_\infty =0\)). &#x2003;&#x2003;&#x220E;
</p>
<div class="theorembodylemma" >

<ul style="list-style-type:none">



<a id="autoid-168"></a>

<li>

<p>
<span class="theoremheaderplain" >Lemma 7.4.7</span> <a id="autoid-169" ></a ><a id="lem:gw_subcrit"></a> Suppose that \(\mu &lt;1\). Then \(\P [Z_n\text { dies out}]=1\).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc" >Sketch of Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> Recall our graphical representation of the Galton-Watson process in Section <a
href="A-branching-process.html#sec:gw">4.3</a>. Here’s the key idea: when \(\mu &lt;1\), on average we expect each individual to have less children than when \(\mu =1\). Therefore, if the Galton-Watson
process dies out when \(\mu =1\) (as is the case, from Lemma <a href="Long-term-behaviour-stochastic-processes.html#lem:gw_crit">7.4.6</a>), it should also die out when \(\mu &lt;1\).
</p>

<p>
Our idea is not quite a proof, because the size of the Galton-Watson process \(Z_n\) is random, and not necessarily equal to its expected size \(\E [Z_n]=\mu ^n\). To make the idea into a proof we will need to
find two Galton-Watson processes, \(Z_n\) and \(\wt {Z}_n\), such that \(0\leq Z_n\leq \wt {Z}_n\), with \(\mu &lt;1\) in \(Z_n\) and \(\mu =1\) in \(\wt {Z}_n\). Then, when \(\wt {Z}_n\) becomes
extinct, so does \(Z_n\). This type of argument is known as a <i>coupling</i>, meaning that we use one stochastic process to control another. See exercise <a
href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:gw_subcrit"><b>7.13</b></a> for how to do it. &#x2003;&#x2003;&#x220E;
</p>
<div class="theorembodylemma" >

<ul style="list-style-type:none">



<a id="autoid-170"></a>

<li>

<p>
<span class="theoremheaderplain" >Lemma 7.4.8</span> <a id="autoid-171" ></a ><a id="lem:gw_supercrit"></a> Suppose that \(\mu &gt;1\) and \(\sigma ^2&lt;\infty \). Then \(\P [Z_n\to
\infty ]&gt;0\).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc" >Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> The first step of the argument is to show that, for all \(n\in \N \),
</p>

<span class="hidden" > \(\seteqnumber{0}{7.}{7}\)</span>

<!--


                                                       2                    σ2
                                                    E[Mn+1 ] = E[Mn2 ] +        .                                                 (7.8)                                --><a id="eq:gw_2nd_iterate"></a><!--
                                                                           µn+2


-->

<p>


\begin{equation}
\label {eq:gw_2nd_iterate} \E [M_{n+1}^2]=\E [M_n^2]+\frac {\sigma ^2}{\mu ^{n+2}}.
\end{equation}


</p>

<p>
You can find this calculation as exercise <a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:gw_var"><b>7.11</b></a>. It is similar to the calculation that we did to find \(\E [M_n]\) in
Section <a href="A-branching-process.html#sec:gw">4.3</a>, but a bit harder because of the square.
</p>

<p>
By iterating <span class="textup" >(<a href="Long-term-behaviour-stochastic-processes.html#eq:gw_2nd_iterate">7.8</a>)</span> and noting that \(\E [M_0]=1\), we obtain that
</p>

<p>
\[\E [M_{n+1}^2]=1+\sum _{i=1}^n\frac {\sigma ^2}{\mu ^{i+2}}.\]
</p>

<p>
Hence,
</p>

<p>
\[\E [M_{n+1}^2]\leq 1+\frac {\sigma ^2}{\mu ^2}\sum _{i=1}^\infty \frac {1}{\mu ^i},\]
</p>

<p>
which is finite because \(\mu &gt;1\). Therefore, \((M_n)\) is bounded in \(L^2\), and the second martingale convergence theorem applies. In particular, this gives us that
</p>

<p>
\[\E [M_n]\to \E [M_\infty ].\]
</p>

<p>
Noting that \(\E [M_n]=1\) for all \(n\), we obtain that \(\E [M_\infty ]=1\). Hence, \(\P [M_\infty &gt;0]&gt;0\). On the event that \(M_\infty &gt;0\), we have \(M_n=\frac {Z_n}{\mu ^n}\to
M_\infty &gt;0\). Since \(\mu ^n\to \infty \), this means that when \(M_\infty &gt;0\) we must also have \(Z_n\to \infty \). Hence, \(\P [Z_n\to \infty ]&gt;0\). &#x2003;&#x2003;&#x220E;
</p>

<p>
The behaviour \(Z_n\to \infty \) is often called ‘explosion’, reflecting the fact that (when it happens) each generation tends to contain more and more individuals than the previous one. The case of \(\mu
&gt;1\) and \(\sigma ^2=\infty \) behaves in the same way as Lemma <a href="Long-term-behaviour-stochastic-processes.html#lem:gw_supercrit">7.4.8</a>, but the proof is more difficult and we
don’t study it in this course.
</p>
<h6 id="autosec-231">Extensions and applications of the Galton-Watson process</h6>
<a id="notes_1-autopage-231"></a>



<p>
The Galton-Watson process can be extended in many ways. For example, we might vary the offspring distribution used in each generation, or add a mechanism that allows individuals to produce their children
gradually across multiple time steps. The general term for such processes is ‘branching processes’. Most branching processes display the same type of long-term behaviour as we have uncovered in this section: if the
offspring production is too low (on average) then they are sure to die out, but, if the offspring production is high enough that dying out is not a certainty then (instead) there is a chance of explosion to \(\infty \).
</p>

<p>
Branching processes are the basis of stochastic models in which existing objects reproduce, or break up, into several new objects. Examples are the spread of contagious disease, crushing rocks, nuclear fission,
tumour growth, and so on. In Chapter <a href="Financial-networks.html#chap:fin_net">17</a> (which is part of MAS452/6052 only) we will use branching processes to model contagion of unpaid debts in
banking networks.
</p>

<p>
Branching processes are used by biologists to model population growth, and they are good models for populations that are rapidly increasing in size. (For populations that have reached a roughly constant size,
models based on urn processes, such as that of exercise <a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:urn_moran"><b>7.8</b></a>, are more effective.)
</p>
<h5 id="autosec-232">Long term behaviour of random walks \((\star )\)</h5>
<a id="notes_1-autopage-232"></a>



<a id="sec:rw_long_term"></a>

<p>
We now consider the long term behaviour of random walks. This section is marked with a \((\star )\) and is off syllabus, because we won’t prove any of it. However, it will be covered in lectures, since it does
contain interesting information that provides intuition for (on-syllabus) results in future chapters.
</p>

<p>
Firstly, take \(S_n\) to be the simple symmetric random walk. It turns out that \(S_n\) will oscillate as \(n\to \infty \), and that the magnitude of the largest oscillations will tend to infinity as \(n\to \infty
\) (almost surely). So, our picture of the long-term behaviour of the symmetric random walk looks like:
</p>
<div class="center" >

<p>


<a href="long_term_ssrw.jpg" target="_blank" ><img
      src="long_term_ssrw.jpg"
      style="
      width:304pt;
      "
      class="inlineimage"
      alt="(image)"
></a>
</p>
</div>

<p>
Note that we draw the picture as continuous line, for convenience, but in fact the random walk is jumping between integer values.
</p>

<p>
Next, let \(S_n\) be the asymmetric random walk, with \(p&gt;q\), so the walk drifts upwards. The asymmetric random walk also experiences oscillations growing larger and larger, but the drift upwards is strong
enough that, in fact \(S_n\stackrel {a.s.}{\to }\infty \) as \(n\to \infty \). So, our picture of the long-term behaviour of the asymmetric random walk looks like:
</p>
<div class="center" >

<p>


<a href="long_term_asrw.jpg" target="_blank" ><img
      src="long_term_asrw.jpg"
      style="
      width:304pt;
      "
      class="inlineimage"
      alt="(image)"
></a>
</p>
</div>

<p>
Of course, if \(q&lt;p\) then \(S_n\) would drift downwards, and then \(S_n\stackrel {a.s.}{\to }-\infty \)
</p>

<p>
In both cases, it is possible to show that \(S_n\) is not bounded in \(L^1\) (even if we compensate for drift) and the martingale convergence theorem does not apply. Different techniques, which we won’t study, are
needed here.
</p>
<h6 id="autosec-235">Extensions and applications of random walks</h6>
<a id="notes_1-autopage-235"></a>



<p>
Random walks can be extended in many ways, such as by adding an environment that influences the behaviour of the walk (e.g.&nbsp;reflection upwards from the origin as in exercise <a
href="Exercises-on-Chapter-ref-chap-stoch_procs.html#ps:rw_local_time_mart"><b>4.4</b></a>, slower movements when above \(0\), etc), or by having random walkers that walk around a graph (\(\Z
\), in our case above). More complex extensions involve random walks that are influenced by their own history, for example by having a preference to move into sites that they have not yet visited. In addition, many
physical systems can be modelled by systems of several random walks, that interact with each other, for example a setup with multiple random walks happening at the same time (but started from different points in
space) in which, whenever random walkers meet, both of them suddenly vanish.
</p>

<p>
Random walks are the basis of essentially all stochastic modelling that involves particles moving around randomly in space. For example, atoms in gases and liquids, animal movement, heat diffusion, conduction of
electricity, transportation networks, internet traffic, and so on.
</p>

<p>
In Chapters <a href="The-Black-Scholes-model.html#chap:bs">14</a> and <a href="Application-extension-Black-Scholes-model.html#chap:bs_extensions">15</a> we will use stock price models
that are based on ‘Brownian motion’, which is itself introduced in Chapter <a href="Brownian-motion.html#chap:bm">10</a> and is the continuous analogue of the symmetric random walk (i.e.&nbsp;no
discontinuities). We’ll come back to the idea of atoms in gases and liquids in Section <a href="Brownian-motion.html#sec:bm_limit">10.1</a>, and we’ll also briefly look at heat diffusion in Section <a
href="Brownian-motion-heat-equation.html#sec:heat">10.3</a>.
</p>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Exercises-on-Chapter-ref-chap-stoch_procs_1.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-236"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-237"><span class="sectionnumber" >7.5&#x2003;</span>Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></h4>
<a id="notes_1-autopage-237"></a>
<a id="notes_1-autofile-35"></a>
<h5 id="autosec-238">On the martingale transform</h5>
<a id="notes_1-autopage-238"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>7.1</b> <a id="ps:mart_tranfs_calcs"></a> Let \(S_n=\sum _{i=1}^n X_i\) be the symmetric random walk, from Section <a
href="Long-term-behaviour-stochastic-processes.html#sec:rw_long_term">7.4</a>. In each of the following cases, establish the given formula for \((C\circ S)_n\).
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> If \(C_n=0\), show that \((C\circ S)_n=0\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> If \(C_n=1\), show that \((C\circ S)_n=S_n\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(c)</span></span></span> If \(C_n=S_n\), show that \((C\circ S)_n=\frac {S_n^2}{2}-\frac {n}{2}\)
</p>
</li>
</ul>
</li>
<li>
<p>
<b>7.2</b> <a id="ps:mart_tranfs_linear"></a> Let \(M_n\) be a stochastic process. Let \(\alpha ,\beta \in \R \) and let \(C_n\) and \(D_n\) be adapted stochastic processes. Let \(X_n=\alpha
C_n+\beta D_n\). Show that
</p>
<p>
\[(X \circ M)_n=\alpha (C\circ M)_n+\beta (D\circ M)_n\]
</p>
<p>
for all \(n\).
</p>
<p>


</p>
</li>
</ul>
<h5 id="autosec-239">On long-term behaviour of stochastic processes</h5>
<a id="notes_1-autopage-239"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>7.3</b> <a id="ps:rw_converge"></a> Let \((X_n)\) be a sequence of independent identically distribution random variables, with distribution \(\P [X_n=1]=\P [X_n=-1]=\frac 12\). Define
</p>
<p>
\[S_n=\sum \limits _{i=1}^n\frac {X_i}{i^2}.\]
</p>
<p>
where we take \(S_0=0\). Show that \(S_n\) is a martingale, and deduce that there exists a real-valued random variable \(S_\infty \) such that \(S_n\stackrel {a.s.}{\to }S_\infty \) as \(n\to \infty \).
</p>
</li>
<li>
<p>
<b>7.4</b> <a id="ps:rw_simulate"></a> Write simulations of the symmetric &amp; asymmetric random walks (in a language of your choice). Add functionality to draw the random walk as a graph, with time
on the horizontal axis and the value of the walk on the vertical axis.
</p>
<p>
Look at several samples from your simulations, with e.g.&nbsp;\(1000\) steps of time, and check that they support the claims made in Section <a
href="Long-term-behaviour-stochastic-processes.html#sec:rw_long_term">7.4</a>, about the long-term behaviour of random walks.
</p>
<p>
Modify your simulation to sample the random walk in exercise <a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:rw_converge"><b>7.3</b></a>. Check that your graphs support the result
that, in this case, \(S_n\stackrel {a.s.}{\to }S_\infty \).
</p>
</li>
<li>
<p>
<b>7.5</b> <a id="ps:rw_to_zero"></a> Let \(S_n\) denote the symmetric random walk, from Section <a href="Long-term-behaviour-stochastic-processes.html#sec:rw_long_term">7.4</a>. Recall
that \(S_0=0\).
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Show that \(S_n\) is even when \(n\) is even, and odd when \(n\) is odd.
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Define \(p_{n}=\P [S_{n}=0]\). Show that \(p_{2n}=\binom {2n}{n}2^{-2n}\) and \(p_{2n+1}=0\).
</p>
<p>
<i>(Hint: Count the number of ways to return to zero after precisely \(2n\) steps.)</i>
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(c)</span></span></span> Show that \(p_{2(n+1)}=\big (1-\frac {1}{2(n+1)}\big )p_{2n}\) for all \(n\), and hence show
that \(p_{2n}\to 0\) as \(n\to \infty \).
</p>
<p>
<i>(Hint: Use the inequality \(1-x\leq e^{-x}\), which holds for all \(x\geq 0\).)</i>
</p>
</li>
</ul>
</li>
<li>
<p>
<b>7.6</b> <a id="ps:gw_when_dies_out"></a> Recall the Galton-Watson process \((Z_n)\) from Section <a href="Long-term-behaviour-stochastic-processes.html#sec:gw_long_term">7.4</a>, and
recall that it is parametrized by its offspring distribution \(G\).
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Give an example of an offspring distribution \(G\) for which \(\P [Z_n\text { dies out}]=1\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Give an example of an offspring distribution \(G\) for which \(\P [Z_n\text { dies out}]=0\).
</p>
</li>
</ul>
</li>
<li>
<p>
<b>7.7</b> <a id="ps:urn_mean_revert"></a> Consider the following modification of the Po&#x0301;lya urn process. At time \(n=0\), the urn contains one red ball and one black ball. Then, at each time
\(n=1,2,\ldots \), we draw a ball from the urn. We place this ball back into the urn, and add one ball of the <i>opposite</i> colour to the urn; so if we drew a red ball, we would add a black ball, and vice versa.
</p>
<p>
Therefore, at time \(n\) (which means: after the \(n^{th}\) draw is complete) the urn contains \(n+2\) balls. Let \(B_n\) denote the number of red balls in the urn at time \(n\), and let \(M_n=\frac
{B_n}{n+2}\) denote the fraction of red balls in the urn at time \(n\).
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Calculate \(\E [M_{n+1}\|\mc {F}_n]\) and hence show that \(M_n\) is not a martingale, with respect
to the filtration \(\mc {F}_n=\sigma (B_1,\ldots ,B_n)\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Write a simulation of the urn (in a language of your choice) and use your simulation to make a conjecture
about the value of the almost sure limit of \(M_n\) as \(n\to \infty \). Does this limit depend on the initial state of the urn?
</p>
</li>
</ul>
</li>
<li>
<p>
<b>7.8</b> <a id="ps:urn_moran"></a> Consider an urn that, at time \(n=0\), contains \(K\geq 1\) balls, each of which is either black or red. At each time \(n=1,2,\ldots \), we do the following, in order:
</p>
<ul style="list-style-type:none">


<li>
<p>
1. Draw a ball \(X_1\) from the urn, and record its colour. Place \(X_1\) back into the urn.
</p>


</li>
<li>
<p>
2. Draw a ball \(X_2\) from the urn, and discard it.
</p>


</li>
<li>
<p>
3. Place a new ball, with the same colour as \(X_1\), into the urn.
</p>
</li>
</ul>
<p>
Thus, for all time, the urn contains exactly \(K\) balls. We write \(M_n\) for the fraction of red balls in the urn, after the \(n^{th}\) iteration of the above steps is complete.
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Show that \(M_n\) is a martingale.
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Show that there exists a random variable \(M_\infty \) such that \(M_n\stackrel {a.s.}{\to
}M_\infty \) as \(n\to \infty \), and deduce that \(\P [M_\infty =0\text { or }M_\infty =1]=1\).
</p>
</li>
</ul>
</li>
<li>
<p>
<b>7.9</b> <a id="ps:urn_initial_conds"></a> Consider the Po&#x0301;lya urn process from Section <a href="Long-term-behaviour-stochastic-processes.html#sec:urn_long_term">7.4</a>. Suppose
that we begin our urn, at time \(n=0\), with two red balls and one black ball. Let \(M_n\) denote the resulting fraction of red balls in the urn at time \(n\).
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Show that \(M_n\) does not converge almost surely to \(0\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Write a simulation of the Po&#x0301;lya urn process (in a language of your choice) and compare the
effect of different initial conditions on \(M_\infty \).
</p>
</li>
</ul>
</li>
<li>
<p>
<b>7.10</b> <a id="ps:rw_sign"></a> Let \(S_n\) denote the symmetric random walk, from Section <a href="Long-term-behaviour-stochastic-processes.html#sec:rw_long_term">7.4</a>. Let \(f:\N
\to \N \) be a deterministic function.
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Show that if \(\frac {S_n}{f(n)}\) is a martingale (for \(n\geq 1\)), then \(f\) is constant.
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Show that if \(\frac {S_n}{f(n)}\) is a supermartingale (for \(n\geq 1\)), then \(f\) is constant.
</p>
</li>
</ul>
</li>
</ul>
<h5 id="autosec-240">Challenge questions</h5>
<a id="notes_1-autopage-240"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>7.11</b> <a id="ps:gw_var"></a> <i>In this question we establish the formula <span class="textup" >(<a
href="Long-term-behaviour-stochastic-processes.html#eq:gw_2nd_iterate">7.8</a>)</span>, which we used in the proof of Lemma <a
href="Long-term-behaviour-stochastic-processes.html#lem:gw_supercrit">7.4.8</a>.</i>
</p>
<p>
Let \((Z_n)\) be the Galton-Watson process, with the offspring distribution \(G\). Suppose that \(\E [G]=\mu \) and \(\var (G)=\sigma ^2&lt;\infty \). Set \(M_n=\frac {Z_n}{\mu ^n}\).
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Show that
</p>
<p>
\[\E [(M_{n+1}-M_n)^2\|\mc {F}_n]=\frac {Z_n\sigma ^2}{\mu ^{2(n+1)}},\]
</p>
</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Deduce from part (a) and exercise <a
href="Exercises-on-Chapter-ref-chap-cond_exp.html#ps:doob_pre"><b>3.6</b></a> that \(\E [M_{n+1}^2]=\E [M_n^2]+\frac {\sigma ^2}{\mu ^{n+2}}.\)
</p>
</li>
</ul>
</li>
<li>
<p>
<b>7.12</b> <a id="ps:fatou_subst"></a> <i>In this question we prove the inequality <span class="textup" >(<a href="The-martingale-convergence-theorem.html#eq:fatou_subst">7.3</a>)</span>,
which we used in the proof of the martingale convergence theorem.</i>
</p>
<p>
Let \(M_n\) be a sequence of random variables such that \(M_n\stackrel {a.s.}{\to }M_\infty \). Define
</p>
<p>
\[X_n=\inf _{k\geq n} |M_k|.\]
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Explain why \((X_n)\) is an increasing sequence and, hence, why there is a random variable \(X_\infty
\) such that \(X_n\stackrel {a.s.}{\to }X_\infty \).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Show that, for all \(\epsilon &gt;0\) and all \(n\in \N \) there exists some \(n’\geq n\) such that
</p>
<p>
\[|M_{n’}|-\epsilon \leq X_n\leq |M_n|.\]
</p>
</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(c)</span></span></span> Deduce that \(X_\infty =|M_\infty |\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(d)</span></span></span> Check that the monotone convergence theorem applies to \((X_n)\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(e)</span></span></span> Deduce that \(\E [|M_\infty |]\leq \sup _{n\in \N }\E [|M_n|]\).
</p>
</li>
</ul>
</li>
<li>
<p>
<b>7.13</b> <a id="ps:gw_subcrit"></a> <i>In this question we give a rigorous proof of Lemma <a href="Long-term-behaviour-stochastic-processes.html#lem:gw_subcrit">7.4.7</a>.</i>
</p>
<p>
Let \(Z_n\) and \(X^{n+1}_i\) be as in <span class="textup" >(<a href="Long-term-behaviour-stochastic-processes.html#eq:gw_iterative_defn">7.7</a>)</span> (i.e.&nbsp;\(Z_n\) is a
Galton-Watson process) and suppose that \(\E [X^{n+1}_i]=\mu &lt;1\).
</p>
<p>
Let \(\alpha \in [0,1]\). For each \(i,n\) we define an independent random variable \(C^{n+1}_i\), with the same distribution as \(C\) where \(\P \l [C=1\r ]=\alpha \) and \(\P \l [C=0\r ]=1-\alpha
\). We define
</p>
<span class="hidden" > \(\seteqnumber{0}{7.}{8}\)</span>
<!--

                                                     
                                                     
                                                     
                                                     
                                                      0      if Xin+1 = 0 and Cin+1 = 0
                                                     
                                                     
                                           e n+1 =
                                           X i        1      if Xin+1 = 0 and Cin+1 = 1                                     (7.9)                              --><a id="eq:gw_coupling"></a><!--
                                                     
                                                     
                                                     
                                                      Xin+1   if Xin+1 ≥ 1.
                                                     
                                                     


-->
<p>


\begin{equation}
\label {eq:gw_coupling} \wt {X}^{n+1}_i= \begin{cases} 0 &amp; \text { if }X^{n+1}_i=0\text { and }C^{n+1}_i=0\\ 1 &amp; \text { if }X^{n+1}_i=0\text { and }C^{n+1}_i=1\\
X^{n+1}_i &amp; \text { if }X^{n+1}_i\geq 1.          \end {cases}
\end{equation}


</p>
<p>
Define \(\wt {Z}_n\) by setting \(\wt {Z}_0=1\), and then using <span class="textup" >(<a href="Long-term-behaviour-stochastic-processes.html#eq:gw_iterative_defn">7.7</a>)</span> with
\(\wt {Z}_n\) in place of \(Z_n\) and \(\wt {X}^{n+1}_i\) in place of \(X^{n+1}_i\). Define \(f:[0,1]\to \R \) by \(f(\alpha )=\E [X^{n+1}_i]\).
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Convince yourself that \(\wt {Z}_n\) is a Galton-Watson process, with offspring distribution given by
<span class="textup" >(<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#eq:gw_coupling">7.9</a>)</span>.
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Explain briefly why \(0\leq Z_n\leq \wt {Z}_n\) for all \(n\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(c)</span></span></span> Show that \(f(0)&lt;1\) and \(f(1)\geq 1\). Deduce that there exists a value \(\alpha \in [0,1]\)
such that \(f(\alpha )=1\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(d)</span></span></span> Show that \(\P [Z_n\text { dies out}]=1\).
</p>
</li>
</ul>
</li>
</ul>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Further-theory-stochastic-processes.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Further theory of stochastic processes </title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-241"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h3 id="autosec-242">Chapter&nbsp;<span class="sectionnumber" >8&#x2003;</span>Further theory of stochastic processes \((\Delta )\)</h3>
<a id="notes_1-autopage-242"></a>
<a id="notes_1-autofile-36"></a>

<a id="chap:stoch_procs_2"></a>

<p>
In this chapter we develop two further tools for analysing stochastic processes: the dominated convergence theorem and the optional stopping theorem. We will also study hitting times and hitting probabilities of
random walks.
</p>

<p>
In this chapter we will write
</p>

<p>
\[ \min (s,t)=s\wedge t,\hspace {2pc} \max (s,t)=s\vee t.            \]
</p>

<p>
This is common notation in the field of stochastic processes.
</p>

<p>
Note that this whole chapter is marked with a \((\Delta )\) – it is for independent study in MAS452/6052 but it is not part of MAS352.
</p>
<h4 id="autosec-243"><span class="sectionnumber" >8.1&#x2003;</span>The dominated convergence theorem (\(\Delta \))</h4>
<a id="notes_1-autopage-243"></a>



<p>
The monotone convergence theorem, from Section <a href="The-monotone-convergence-theorem.html#sec:monotone_conv_thm">6.2</a>, applies to sequences of increasing random variables. However, most
sequences are not so well behaved, and in these cases we need a more powerful theorem. Note that this section is marked with (\(\Delta \)), meaning that it is for independent study in MAS452/6052, but it is not
included in MAS352.
</p>
<div class="theorembodythm" >

<ul style="list-style-type:none">



<a id="autoid-172"></a>

<li>

<p>
<span class="theoremheaderplain" >Theorem 8.1.1 (Dominated Convergence Theorem)</span> <a id="autoid-173" ></a >Let \(X_n,X\) be random variables such that:
</p>
<ul style="list-style-type:none">


<li>
<p>
1. \(X_n\stackrel {\P }{\to } X\).
</p>


</li>
<li>
<p>
2. There exists a random variable \(Y\in L^1\) such that, for all \(n\), \(|X_n|\leq |Y|\) almost surely.
</p>
</li>
</ul>

<p>
Then \(\E [X_n]\to \E [X]\).
</p>


</li>

</ul>

</div>

<p>
The random variable \(Y\) is often known as the <i>dominating function</i> or <i>dominating random variable</i>. You can find a proof of the theorem in MAS350/451/6352.
</p>
<div class="theorembodyexample" >

<ul style="list-style-type:none">



<a id="autoid-174"></a>

<li>

<p>
<span class="theoremheaderplain" >Example 8.1.2</span> <a id="autoid-175" ></a >Let \(Z\sim N(\mu ,\sigma ^2)\). Let \(X\in L^1\) be any random variable and let
</p>

<p>
\[X_n=X+\frac {Z}{n}.\]
</p>

<p>
We can think of \(X_n\) as a noisy measurement of the random variable \(X\), where the noise term \(\frac {Z}{n}\) becomes smaller as \(n\to \infty \).
</p>

<p>
Let us check the first condition of the theorem. Note that \(|X_n-X|=\frac {|Z|}{n}\), which tends to zero as \(n\to \infty \) because \(|Z|&lt;\infty \). Hence \(X_n\stackrel {a.s.}{\to } X\) as
\(n\to \infty \), which by Lemma <a href="Convergence-random-variables.html#lem:conv_modes">6.1.2</a> implies \(X_n\stackrel {\P }{\to }X\).
</p>

<p>
Let us now check the second condition, with \(Y=|X|+|Z|\). Then \(\E [Y]=\E [|X|]+\E [|Z|]\), which is finite since \(X\in L^1\) and \(Z\in L^1\). Hence, \(Y\in L^1\). We have \(|X_n|\leq |X|+\frac
{1}{n}|Z|\leq Y\).
</p>

<p>
Therefore, we can apply the dominated convergence theorem and deduce that \(\E [X_n]\to \E [X]\) as \(n\to \infty \). Of course, we can also calculate \(\E [X_n]=\E [X]+\frac {1}{n}\mu \), and check
that the result really is true.
</p>


</li>

</ul>

</div>

<p>
In the above example, we could calculate \(\E [X_n]=\E [X]+\frac {\mu }{n}\) and notice that \(\E [X_n]\to \E [X]\), without using any theorems at all. The real power of the dominated convergence
theorem is in situations where we don’t specify, or can’t easily calculate, the means of \(X_n\) or \(X\). See, for example, exercises <a
href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#ps:dct"><b>8.1</b></a> and <a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#ps:dct_L1"><b>8.2</b></a>, or the
applications to stochastic processes that are to come in Sections <a href="The-optional-stopping-theorem.html#sec:op_stop">8.2</a> and <a
href="Hitting-probabilities-random-walks.html#sec:rw_hit">8.3</a>.
</p>

<p>
If our sequence of random variables \((X_n)\) has \(|X_n|\leq c\) for some deterministic constant \(c\), then the dominating function can be taken to be (the deterministic random variable) \(c\). This case is
the a very common application, see e.g.&nbsp;exercise <a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#ps:dct"><b>8.1</b></a>.
</p>
<div class="theorembodyremark" >

<ul style="list-style-type:none">



<a id="autoid-176"></a>

<li>

<p>
<span class="theoremheaderplain" >Remark 8.1.3</span> <a id="autoid-177" ></a >\((\star )\) The dominated convergence theorem holds for conditional expectation too; that is with \(\E [\cdot ]\)
replaced by \(\E [\cdot \|\mc {G}]\). We won’t need this result as part of our course.
</p>


</li>

</ul>

</div>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|The-optional-stopping-theorem.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — The optional stopping theorem </title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-247"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-248"><span class="sectionnumber" >8.2&#x2003;</span>The optional stopping theorem \((\Delta )\)</h4>
<a id="notes_1-autopage-248"></a>
<a id="notes_1-autofile-37"></a> <a id="sec:op_stop"></a>

<p>
Adaptedness, from Definition <a href="Martingales.html#def:adapted">3.3.2</a>, captures the idea that we cannot see into the future. This leaves us with the question, as time passes, in what circumstances
can we tell if an event has already occurred?
</p>
<div class="theorembodydefn" >

<ul style="list-style-type:none">



<a id="autoid-178"></a>

<li>

<p>
<span class="theoremheaderplain" >Definition 8.2.1</span> <a id="autoid-179" ></a >A map \(T:\Om \to \{0,1,2,\ldots ,\infty \}\) is called a \((\mc {F}_n)\) stopping time if, for all \(n\), the
event \(\{T\leq n\}\) is \(\F _n\) measurable.
</p>


</li>

</ul>

</div>

<p>
A stopping time is a random time with the property that, if we have only information from \(\mc {F}_n\) accessible to us at time \(n\), we are able to decide at any \(n\) whether or not \(T\) has already
happened.
</p>
<div class="theorembodyexample" >

<ul style="list-style-type:none">



<a id="autoid-180"></a>

<li>

<p>
<span class="theoremheaderplain" >Example 8.2.2</span> <a id="autoid-181" ></a ><a id="walkhitting"></a> Let \(S_n=\sum _{i=1}^nX_i\) be the simple symmetric random walk, with \(\P
[X_i=1]=\P [X_i=-1]=\frac {1}{2}\). Let \(\mc {F}_n=\sigma (X_1,\ldots ,X_n)\). Then, for any \(a\in \N \), the time
</p>

<p>
\[T=\inf \{n\geq 0\-S_n=a\},\]
</p>

<p>
which is the first time \(S_n\) takes the value \(a\), is a stopping time. It is commonly called the ‘hitting time’ of \(a\). To see that \(T\) is a stopping time we note that
</p>
<span class="hidden" > \(\seteqnumber{0}{8.}{0}\)</span>



<!--


                                                                                                                        n                  n
                                                                                                                                                 Si−1 (a)
                                                                                                                        [                  [
                                                                        {T ≤ n} = {for some i ≤ n we have Si = a} =           {Si = a} =
                                                                                                                        i=0                i=0




-->



<p>


\begin{align*}
\{T\leq n\} =\{\text {for some }i\leq n\text { we have }S_i=a\} =\bigcup _{i=0}^n\{S_i=a\} =\bigcup _{i=0}^nS_i^{-1}(a)
\end{align*}
Since \(S_i\) is \(\mc {F}_n\) measurable for all \(i\leq n\), the above equation shows that \(\{T\leq n\}\in \mc {F}_n\).
</p>


</li>

</ul>

</div>

<p>
You will have seen hitting times before – for most of you, in MAS275 in the context of Markov chains. You might also recall that the random walk \(S_n\) can be represented as Markov chains on \(\Z \). You will
probably have looked at a method for calculating expected hitting times by solving systems of linear equations. This approach is feasible if the state space of a Markov chain is finite; however \(\Z \) is infinite. In
this section we look at an alternative method, based on martingales.
</p>

<p>
Recall the notation \(\wedge \) and \(\vee \) that we introduced at the start of this chapter. That is, \(\min (s,t)=s\wedge t\) and \(\max (s,t)=s\vee t\).
</p>
<div class="theorembodylemma" >

<ul style="list-style-type:none">



<a id="autoid-182"></a>

<li>

<p>
<span class="theoremheaderplain" >Lemma 8.2.3</span> <a id="autoid-183" ></a ><a id="minstoptimes"></a> Let \(S\) and \(T\) be stopping times with respect to the filtration \((\mc {F}_n)\).
Then \(S\wedge T\) is also a \((\mc {F}_n)\) stopping time.
</p>


</li>

</ul>

</div>

<p>
<span class="textsc" >Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> Note that
</p>

<p>
\[\{S\wedge T\leq n\}=\{S\leq n\}\cup \{T\leq n\}.\]
</p>

<p>
Since \(S\) and \(T\) are stopping times, both the sets on the right hand side of the above are events in the \(\sigma \)-field \(\mc {F}_n\). Hence, the event on the left hand side is also in \(\mc {F}_n\).
&#x2003;&#x2003;&#x220E;
</p>

<p>
If \(T\) is a stopping time and \(M\) is a stochastic process, we define \(M^T\) to be the process
</p>

<p>
\[M^T_n=M_{n\wedge T}.\]
</p>

<p>
Here \(a\wedge b\) denotes the minimum of \(a\) and \(b\). To be precise, this means that \(M^T_n(\omega )=M_{n\wedge T(\omega )}(\omega )\) for all \(\omega \in \Omega \). In Example <a
href="The-optional-stopping-theorem.html#walkhitting">8.2.2</a>, \(S^T\) would be the random walk \(S\) which is stopped (i.e.&nbsp;never moves again) when (if!) it reaches state \(a\).
</p>
<div class="theorembodylemma" >

<ul style="list-style-type:none">



<a id="autoid-184"></a>

<li>

<p>
<span class="theoremheaderplain" >Lemma 8.2.4</span> <a id="autoid-185" ></a ><a id="stoppedmart"></a> Let \(M_n\) be a martingale (resp.&nbsp;supmartingale, supermartingale) and let \(T\) be a
stopping time. Then \(M^T\) is also a martingale (resp.&nbsp;supmartingale, supermartingale).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc" >Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> Let \(C_n:=\1\{T\ge n\}\). Note that \(\{T\ge n\}=\Omega \sc \{T\le n-1\}\), so
\(\{T\ge n\}\in \mc {F}_{n-1}\). By Lemma <a href="Expectation.html#lem:indicator_meas">2.4.2</a> \(C_n\in m\mc {F}_{n-1}\). That is, \((C_n)\) is a previsible process. Moreover,
</p>

<p>
\[ (C\circ M)_n = \sum _{k=1}^n \1_{k\le T} (M_k-M_{k-1}) = \sum _{k=1}^{n\wedge T} (M_k-M_{k-1}) = M_{T\wedge n}-M_{0}.                   \]
</p>

<p>
The last equality holds because the sum is telescoping (i.e.&nbsp;the middle terms all cancel each other out). Hence, by Theorem&nbsp;<a
href="Stochastic-processes-martingale-theory.html#thm:mart_transf">7.1.1</a>, if \(M\) is a martingale (resp.&nbsp;submartingale, supermartingale), \(C\circ M\) is also a martingale
(resp.&nbsp;submartingale, supermartingale). &#x2003;&#x2003;&#x220E;
</p>
<div class="theorembodythm" >

<ul style="list-style-type:none">



<a id="autoid-186"></a>

<li>

<p>
<span class="theoremheaderplain" >Theorem 8.2.5 (Doob’s Optional Stopping Theorem)</span> <a id="autoid-187" ></a >Let \(M\) be martingale (resp.&nbsp;submartingale, supermartingale) and let \(T\)
be a stopping time. Then
</p>

<p>
\[\E [M_T]=\E [M_0]\]
</p>

<p>
(resp.&nbsp;\(\geq \), \(\leq \)) if any one of the following conditions hold:
</p>
<ul style="list-style-type:none">


<li>
<p>
(a) \(T\) is bounded.
</p>


</li>
<li>
<p>
(b) \(M\) is bounded and \(\P [T&lt;\infty ]=1\).
</p>


</li>
<li>
<p>
(c) \(\E [T]&lt;\infty \) and there exists \(c\in \R \) such that \(|M_n-M_{n-1}|\leq c\) for all \(n\).
</p>
</li>
</ul>


</li>

</ul>

</div>

<p>
<span class="textsc" >Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> We’ll prove this for the supermartingale case. The submartingale case then follows by
considering \(-M\), and the martingale case follows since martingales are both supermartingales and submartingales.
</p>

<p>
Note that
</p>

<span class="hidden" > \(\seteqnumber{0}{8.}{0}\)</span>

<!--



                                     E[Mn∧T − M0 ] ≤ 0,                                       (8.1)                                                             --><a id="eq:opt_stop_pre"></a><!--



-->

<p>


\begin{equation}
\label {eq:opt_stop_pre} \E [M_{n\wedge T}-M_0]\le 0,
\end{equation}


</p>

<p>
because \(M^T\) is a supermartingale, by Lemma <a href="The-optional-stopping-theorem.html#stoppedmart">8.2.4</a>. For (a), we take \(n=\sup _\omega T(\omega )\) and the conclusion follows.
</p>

<p>
For (b), we use the dominated convergence theorem to let \(n\to \infty \) in <span class="textup" >(<a href="The-optional-stopping-theorem.html#eq:opt_stop_pre">8.1</a>)</span>. As \(n\to
\infty \), almost surely \(n\wedge T(\omega )\) is eventually equal to \(T(\omega )\) (because \(\P [T&lt;\infty ]=1\)), so \(M_{n\wedge T}\to M_T\) almost surely. Since \(M\) is bounded, \(M_{n\wedge
T}\) and \(M_T\) are also bounded. So \(\E [M_{n\wedge T}]\to \E [M_T]\) and taking limits in <span class="textup" >(<a
href="The-optional-stopping-theorem.html#eq:opt_stop_pre">8.1</a>)</span> obtains \(\E [M_T-M_0]\leq 0\), which in turn implies that \(\E [M_T]\leq \E [M_0]\).
</p>

<p>
For (c), we will also use the dominated convergence theorem to let \(n\to \infty \) in <span class="textup" >(<a href="The-optional-stopping-theorem.html#eq:opt_stop_pre">8.1</a>)</span>, but
now we need a different way to check its conditions. We observe that
</p>

<p>
\[ |M_{n\wedge T}-M_0| =\left |\sum _{k=1}^{n\wedge T} (M_k-M_{k-1}) \right | \le T\;\sup _{n\in \N } |M_n-M_{n-1}|.               \]
</p>

<p>
Since \(\E [T(\sup _n |M_n-M_{n-1}|)]\leq c\E [T]&lt;\infty \), we can use the Dominated Convergence Theorem to let \(n\to \infty \), and the results follows as in (b). &#x2003;&#x2003;&#x220E;
</p>

<p>
These three sets of conditions for the optional stopping theorem are listed on the formula sheet, in Appendix <a href="Formula-Sheet-part-one.html#sec:formula_sheet_1">B</a>.
</p>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Hitting-probabilities-random-walks.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Hitting probabilities of random walks </title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-254"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-255"><span class="sectionnumber" >8.3&#x2003;</span>Hitting probabilities of random walks \((\Delta )\)</h4>
<a id="notes_1-autopage-255"></a>
<a id="notes_1-autofile-38"></a> <a id="sec:rw_hit"></a>

<p>
We can now use the optional stopping theorem to tell us about hitting probabilities and expected hitting times of various stochastic processes. In this section we focus on random walks. Some further examples with
urn processes can be found in the exercises.
</p>
<h5 id="autosec-256">Asymmetric random walk \((\Delta )\)</h5>
<a id="notes_1-autopage-256"></a>



<a id="sec:asrw_hit"></a>

<p>
We recall the asymmetric random walk from Section <a href="Stochastic-processes.html#sec:asrw">4.1</a>. Let \((X_i)_{i=1}^\infty \) be a sequence of i.i.d.&nbsp;random variables. Let \(p+q=1\) with
\(p,q\in [0,1]\), \(p\neq q\) and suppose that
</p>

<p>
\[\P [X_i=1]=p,\hspace {1pc}\P [X_i=-1]=q.\]
</p>

<p>
The asymmetric random walk is the stochastic process
</p>

<p>
\[S_n=\sum \limits _{i=1}^n X_i.\]
</p>

<p>
Set \(\mc {F}_n=\sigma (X_1,\ldots ,X_n)\) and note that \((\mc {F}_n)\) is the natural filtration of \(S_n\). Recall that we showed in Section <a href="Stochastic-processes.html#sec:asrw">4.1</a>
that the stochastic process \(S_n-n(p-q)\) was a martingale.
</p>

<p>
There is another martingale associated to the asymmetric random walk. Define
</p>

<p>
\[M_n = (q/p)^{S_n}.\]
</p>

<p>
We will now show that \(M_n\) is a martingale.
</p>

<p>
Since \(X_i\in m\mc {F}_n\) for all \(i\leq n\), by Proposition <a href="Random-variables.html#itsallmeas">2.2.6</a> we have both \(S_N\in m\mc {F}_n\) and \(M_n\in m\mc {F}_n\). We have
\(|X_i|\leq 1\) so \(|S_n|\leq n\) and \(|M_n|\leq \max \{(q/p)^n, (q/p)^{-n}\}\), which implies that \(S_n\in L^1\) for all \(n\). Moreover,
</p>
<span class="hidden" > \(\seteqnumber{0}{8.}{1}\)</span>



<!--



                                                                                       E[Mn+1 |Fn ] = (q/p)Sn E[(q/p)Xn+1 |Fn ]

                                                                                                    = (q/p)Sn E[(q/p)Xn+1 ]

                                                                                                    = (q/p)Sn = Mn .



-->



<p>


\begin{align*}
\E [M_{n+1}|\mc {F}_n]&amp;=(q/p)^{S_n}\E [(q/p)^{X_{n+1}}|\mc {F}_n]\\ &amp;=(q/p)^{S_n}\E [(q/p)^{X_{n+1}}]\\ &amp;=(q/p)^{S_n}=M_n.
\end{align*}
Here we use the taking out what is known rule, followed by the fact that \(X_{n+1}\) is independent of \(\mc {F}_{n}\) and the relationship between conditional expectation and independence. To deduce the final
step we use that \(\E [(q/p)^{X_{n+1}}]=p(q/p)^1+q(q/p)^{-1}=p+q=1\).
</p>

<p>
Our next plan is to use the optional stopping theorem, applied to the martingale \(M_n\), to obtain information about the hitting times of the asymmetric random walk. Let \(T_a=\inf \{n:   S_n=a\}\) and
\(T=T_a \wedge T_b\) for integer \(a&lt;0&lt;b\). We aim to calculate \(\P [T=T_a]\) and \(\P [T=T_b]\). We can show that \(T_a\) is a stopping time by noting that
</p>

<p>
\[\{T_a\leq n\}=\bigcup _{i=0}^n \{S_i\leq a\}.\]
</p>

<p>
Similarly, \(T_b\) is a stopping time and it follows from Lemma <a href="The-optional-stopping-theorem.html#minstoptimes">8.2.3</a> that \(T\) is also a stopping time.
</p>

<p>
We now look to apply the optional stopping theorem, using the (b) conditions. For this, we’ll need the following lemma.
</p>
<div class="theorembodylemma" >

<ul style="list-style-type:none">



<a id="autoid-188"></a>

<li>

<p>
<span class="theoremheaderplain" >Lemma 8.3.1</span> <a id="autoid-189" ></a ><a id="lem:E_T_biased"></a> It holds that \(\E [T]&lt;\infty \).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc" >Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> Let \(m=b-a\). Divide up the random variables \((X_n)\) into sets \(A_1,A_2,\ldots \)
as follows:
</p>

<span class="hidden" > \(\seteqnumber{0}{8.}{1}\)</span>

<!--


                                                                          A1                          A2                            A3                      ...
                                                                z         }|          { z             }|            { z             }|             { z      }|    {
                                                                X1 , X2 , X3 , . . . , Xm , Xm+1 , Xm+2 , . . . , X2m , X2m+1 , X2m+2 , . . . , X3m , X3m+1 , . . . .                                    (8.2)



-->

<p>


\begin{equation}
\overbrace {X_1,X_2,X_3,\ldots ,X_m}^{A_1},\,\overbrace {X_{m+1},X_{m+2},\ldots ,X_{2m}}^{A_2},\,\overbrace {X_{2m+1},X_{2m+2},\ldots ,X_{3m}}^{A_3},\,\overbrace {X_{3m+1},\ldots
}^{\ldots }.
\end{equation}


</p>

<p>
So as each \(A_k\) contains precisely \(m\) of the \(X_i\)s.
</p>

<p>
Let \(E_k=\{\text {for all }X\in A_k,\,X=1\}\) be the event that all random variables in \(A_k\) are equal to one. Note that if the event \(E_k\) occurs then our random walk moves up by \(m\) steps, during
time \((k-1)m,\ldots ,km\).
</p>

<p>
If \(T\) has not happened before time \((k-1)m\) then \(a&lt;S_{(k-1)m}&lt;b\). Then, if the event \(E_k\) then occurs, we will have \(S_{km}\geq a\) and hence \(T\leq km\). This is best illustrated with a
picture:
</p>
<div class="center" >

<p>


<a href="step_up.jpg" target="_blank" ><img
      src="step_up.jpg"
      style="
      width:217pt;
      "
      class="inlineimage"
      alt="(image)"
></a>
</p>
</div>

<p>
We can think of the sequence of events \(E_1,E_2,\ldots \) as one chance after another that our random walker has to exit \([a,b]\).
</p>

<p>
By independence, \(\P [E_k]=p^m\). Hence, the random variable
</p>

<p>
\[K=\inf \{k\in \N \-E_k\text { occurs}\}\]
</p>

<p>
is a geometric random variable with success parameter \(p^m\). This means that \(K&lt;\infty \) almost surely and that \(\E [K]=p^{-m}&lt;\infty \). By definition of \(K\), the event \(E_K\) occurs so
\(T\leq Km\) and by monotonicity of \(\E \) we have \(\E [T]\leq m\E [K]&lt;\infty \). &#x2003;&#x2003;&#x220E;
</p>

<p>
From above, we have that \(M\) is a martingale. Hence by Lemma <a href="The-optional-stopping-theorem.html#stoppedmart">8.2.4</a>, \(M^T\) is also a martingale. By definition of \(T\),
</p>

<p>
\[(q/p)^a\leq M^T_n\leq (q/p)^b\]
</p>

<p>
for all \(n\), hence \(M^T\) is a bounded martingale. Lemma <a href="Hitting-probabilities-random-walks.html#lem:E_T_biased">8.3.1</a> implies that \(\P [T&lt;\infty ]=1\), so we have that
condition (b) of the optional stopping theorem holds for the martingale \(M^T\) and the stopping time \(T\). Therefore,
</p>

<p>
\[\E [M^T_T]=\E [M^T_0]\]
</p>

<p>
but \(M^T_T=M_{T\wedge T}=M_T\) and \(M^T_0=M_{0\wedge T}=M_0=1\). So we have
</p>

<p>
\[\E [M_T]=1.\]
</p>

<p>
Our next aim is to calculate the probabilities \(\P [T=T_a]\) and \(\P [T=T_b]\). That is, we want to know which of the two boundaries \(a\) and \(b\) we actually hit at time \(T\) (for example,
\(\{T=T_a\}=\{S_T=a\}\) is the event that we hit \(a\) at time \(T\)).
</p>

<p>
Since \(\P [T&lt;\infty ]=1\), we must hit one or other boundary, so we have that
</p>

<p>
\[\P [T=T_a]+\P [T=T_b]=1.\]
</p>

<p>
By partitioning the expectation \(\E [M_T]\) on whether or not \(\{T=T_a\}\), we have
</p>
<span class="hidden" > \(\seteqnumber{0}{8.}{2}\)</span>



<!--



                                                                                 1 = E[MT ]

                                                                                   = E[MT 1{T = Ta }] + E[MT 1{T = Tb }]
                                                                                         a                    "                       #
                                                                                                                      b
                                                                                          q                           q
                                                                                                          
                                                                                   =E           1{T = Ta } + E                1{T = Tb }
                                                                                          p                           p
                                                                                                 a                   b
                                                                                                q                         q
                                                                                   = P[T = Ta ]        + P[T = Tb ]            .
                                                                                                p                         p



-->



<p>


\begin{align*}
1&amp;=\E [M_T]\\ &amp;= \E [M_T\1\{T=T_a\}]+\E [M_T\1\{T=T_b\}]\\ &amp;= \E \l [\l (\frac {q}{p}\r )^a\1\{T=T_a\}\r ]+\E \l [\l (\frac {q}{p}\r )^b\1\{T=T_b\}\r ]\\ &amp;= \P
[T=T_a] \l (\frac {q}{p}\r )^a + \P [T=T_b] \l (\frac {q}{p}\r )^b.
\end{align*}
Solving these two linear equations (recall that \(p\neq q\)) gives that
</p>

<span class="hidden" > \(\seteqnumber{0}{8.}{2}\)</span>

<!--


                                                            (q/p)b − 1
                                           P[T = Ta ] =                   .                                       (8.3)                                             --><a id="eq:asym_rw_stopped"></a><!--
                                                          (q/p)b − (q/p)a


-->

<p>


\begin{equation}
\label {eq:asym_rw_stopped} \P [T=T_a]=\frac {(q/p)^b-1}{(q/p)^b-(q/p)^a}.
\end{equation}


</p>

<p>
and therefore also
</p>

<p>
\[\P [T_b=T]=1-\P [T=T_a]=\frac {1-(q/p)^a}{(q/p)^b-(q/p)^a}.\]
</p>
<h5 id="autosec-259">Symmetric random walk \((\Delta )\)</h5>
<a id="notes_1-autopage-259"></a>



<a id="sec:ssrw_hit"></a>

<p>
We now recall the symmetric random walk from Section <a href="Stochastic-processes.html#sec:ssrw">4.1</a>. Our plan is much the same; we aim to use martingales and optional stopping to investigate the
hitting times of the symmetric random walk. This case is harder than the asymmetric one.
</p>

<p>
Let \((X_i)_{i=1}^\infty \) be a sequence of i.i.d.&nbsp;random variables where
</p>

<p>
\[\P [X_i=1]=\P [X_i=-1]=\frac {1}{2}.\]
</p>

<p>
The symmetric random walk is the stochastic process
</p>

<p>
\[S_n=\sum \limits _{i=1}^n X_i.\]
</p>

<p>
Set \(\mc {F}_n=\sigma (X_1,\ldots ,X_n)\) and note that \((\mc {F}_n)\) is a filtration. We have already seen that \(S_n\) is a martingale.
</p>

<p>
Like the asymmetric case, there is another martingale associated to \(S_n\). In fact, there is a whole family of them. Let \(\theta \in \R \) and define
</p>

<p>
\[ M^{(\theta )}_n = \frac {e^{\theta S_n}}{(\cosh \theta )^n}.\]
</p>

<p>
Note that \(M^{(\theta )}_n = \prod _{i=1}^n (e^{\theta X_i}/\cosh \theta )\). Since \(X_i\in m\mc {F}_n\) for all \(i\leq n\), \(S_n\in m\mc {F}_n\) for all \(n\) by Proposition <a
href="Random-variables.html#itsallmeas">2.2.6</a>. Since \(|S_n|\leq n\) we have \(|M_n|\leq \frac {e^{\theta n}}{(\cosh \theta )^n}&lt;\infty \), hence \(M_n\in L^1\). We have also that
</p>
<span class="hidden" > \(\seteqnumber{0}{8.}{3}\)</span>



<!--


                                                                                                     n
                                                                                                                    !       "         #
                                                                                                     Y eθXi               eθXn+1
                                                                                    E[Mn+1 |Fn ] =                      E        Fn
                                                                                                     i=1
                                                                                                           cosh θ         cosh θ
                                                                                                           "            #
                                                                                                       eθXn+1
                                                                                                = Mn E
                                                                                                       cosh θ

                                                                                                = Mn .



-->



<p>


\begin{align*}
\E [M_{n+1}|\mc {F}_n]&amp;=\l (\prod _{i=1}^n \frac {e^{\theta X_i}}{\cosh \theta }\r )\E \l [\frac {e^{\theta X_{n+1}}}{\cosh \theta }\Big {|}\mc {F}_n\r ]\\ &amp;=M_n\E \l
[\frac {e^{\theta X_{n+1}}}{\cosh \theta }\r ]\\ &amp;=M_n.
\end{align*}
Here we use the taking out what is known rule, the fact that \(X_{n+1}\) is independent of \(\mc {F}_n\) and the relationship between conditional expectation and independence. To deduce the final line we note
that \(\E [e^{\theta X_i}/\cosh \theta ] = \frac 1 2 (e^{\theta }+e^{-\theta })/\cosh \theta = 1\).
</p>

<p>
Let
</p>

<p>
\[T=\inf \{n\-S_n=1\},\]
</p>

<p>
which we have seen is a stopping time in Example <a href="The-optional-stopping-theorem.html#walkhitting">8.2.2</a>. It is not obvious whether \(\P [T=\infty ]\) is equal to or greater than zero, but
with the help of \(M_n\) and the optional stopping theorem we can show:
</p>
<div class="theorembodylemma" >

<ul style="list-style-type:none">



<a id="autoid-190"></a>

<li>

<p>
<span class="theoremheaderplain" >Lemma 8.3.2</span> <a id="autoid-191" ></a ><a id="ssrwwillhit"></a> It holds that \(\P [T&lt;\infty ]=1\).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc" >Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> Let us consider \(\theta &gt;0\). By Lemma <a
href="The-optional-stopping-theorem.html#minstoptimes">8.2.3</a>, \(T\wedge n\) is a stopping time, and since \(T\wedge n \leq n\) it is a bounded stopping time. We therefore have condition (a) of
the optional stopping theorem and can apply it to deduce that
</p>

<p>
\[ \E [M_0] = 1 = \E \l [M^{(\theta )}_{T\wedge n}\r ].           \]
</p>

<p>
We now apply the dominated convergence theorem to let \(n\to \infty \) in the rightmost term. To do so we make two observations: (1) \(M_{T\wedge n}=e^{\theta S_{T\wedge n}}/(\cosh \theta )^n\) is
bounded above by \(e^\theta \) since \(\cosh \theta \geq 1\) and \(S_{T\wedge n}\in (-\infty ,1]\); (2) as \(n\to \infty \), \(M^{(\theta )}_{T\wedge n} \to M^{(\theta )}_T\), where the latter
is defined to be 0 if \(T=\infty \). Note that (2) uses that \(\theta &gt;0\). So the dominated convergence theorem gives us
</p>

<p>
\[ 1 = \E \l [M^{(\theta )}_{T}\r ].        \]
</p>

<p>
Noting that \(M_T^{(\theta )}=e^{\theta S_T}/(\cosh \theta )^T\) and \(S_T=1\) when \(T&lt;\infty \), we thus have
</p>

<span class="hidden" > \(\seteqnumber{0}{8.}{3}\)</span>

<!--

                                                        "              #
                                                            eθ
                                                      E                    =1                                                    (8.4)                                          --><a id="coshthetaT"></a><!--
                                                        (cosh θ)−T


-->

<p>


\begin{equation}
\label {coshthetaT} \E \l [\frac {e^\theta }{(\cosh \theta )^{-T}}\r ] = 1
\end{equation}


</p>

<p>
for \(\theta &gt;0\) (where we allow \(\frac {e^\theta }{\infty }=0\) for the case \(T=\infty \)).
</p>

<p>
If \(T=\infty \), then \((\cosh \theta )^{-T}=0\) for all \(\theta \neq 0\). If \(T&lt;\infty \), then \((\cosh \theta )^{-T} \to 1\) as \(\theta \to 0\). Noting that \(0\leq (\cosh \theta
)^{-T} \leq 1\), we can apply the dominated convergence theorem and let \(\theta \to 0\), with the result that
</p>

<p>
\[ \E [\1\{T&lt;\infty \}] = 1.       \]
</p>

<p>
Hence \(\P [T&lt;\infty ]=1\). &#x2003;&#x2003;&#x220E;
</p>

<p>
Even though we now know that \(\P [T&lt;\infty ]=1\), we are not able to apply optional stopping to \((S_n)\) and \(T\); because \((S_n)\) is unbounded and we do not know if \(\E [T]&lt;\infty \). In
fact, in this case \(\E [T]=\infty \) and the optional stopping theorem does not apply. Instead, we can use the optional stopping theorem to <i>deduce</i> that \(\E [T]=\infty \), as follows.
</p>

<p>
Suppose, for a contradiction, that \(\E [T]&lt;\infty \). Then we could apply the optional stopping theorem to \((S_n)\) and \(T\) using the condition (c). Hence \(\E [S_0]=0=\E [S_T]\). But, \(\P
[T&lt;\infty ]=1\) which means, by definition of \(T\), that \(S_T=1\) almost surely. This is a contradiction so we must have \(\E [T]=\infty \).
</p>

<p>
More generally, we have to be very careful about using the optional stopping theorem. The conditions (a)-(c) fail in many situations, and there are many examples of stopping times \(T\) and martingales \(M\) for
which \(\E [M_T]\neq \E [M_0]\).
</p>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Exercises-on-Chapter-ref-chap-stoch_procs_2.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> </title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-261"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h4 id="autosec-262"><span class="sectionnumber" >8.4&#x2003;</span>Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta
)\)</h4>
<a id="notes_1-autopage-262"></a>
<a id="notes_1-autofile-39"></a>
<h5 id="autosec-263">On the dominated convergence theorem</h5>
<a id="notes_1-autopage-263"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>8.1</b> <a id="ps:dct"></a> Let \(U\) be a random variable that takes values in \((1,\infty )\). Define \(X_n=U^{-n}\). Show that \(\E [X_n]\to 0\).
</p>
</li>
<li>
<p>
<b>8.2</b> <a id="ps:dct_L1"></a> Let \(X\) be a random variable in \(L^1\) and set
</p>
<p>
\[X_n=X\1_{\{|X|\leq n\}}= \begin {cases} X &amp; \text { if }|X|\leq n, \\ 0 &amp; \text { otherwise.} \end {cases} \]
</p>
<p>
Show that \(\E [X_n]\to \E [X]\).
</p>
</li>
<li>
<p>
<b>8.3</b> <a id="ps:dct_necsuff"></a> Let \(Z\) be a random variable taking values in \([1,\infty )\) and for \(n\in \N \) define
</p>
<span class="hidden" > \(\seteqnumber{0}{8.}{4}\)</span>
<!--
                                                                  
                                                                  
                                                                  Z
                                                                      if Z ∈ [n, n + 1)
                                          Xn = Z 1{Z∈[n,n+1)} =                                                               (8.5)                                     --><a id="eq:Xn"></a><!--
                                                                  
                                                                  0
                                                                      otherwise.

-->
<p>


\begin{equation}
\label {eq:Xn} X_n=Z\1_{\{Z\in [n,n+1)\}}= \begin{cases} Z &amp; \text { if }Z\in [n,n+1)\\ 0 &amp; \text { otherwise.} \end {cases}
\end{equation}


</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Suppose that \(Z\in L^1\). Use the dominated convergence theorem to show that \(\E [X_n]\to 0\) as
\(n\to \infty \).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Suppose, instead, that \(Z\) is a continuous random variable with probability density function
</p>
<p>
\[f(x)=\begin {cases} x^{-2} &amp; \text { if }x\geq 1,\\ 0 &amp; \text { otherwise}.          \end {cases} \]
</p>
<p>
and define \(X_n\) using <span class="textup" >(<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#eq:Xn">8.5</a>)</span>. Show that \(Z\) is not in \(L^1\), but that \(\E [X_n]\to 0\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(c)</span></span></span> Comment on what part (b) tells us about the dominated convergence theorem.
</p>
</li>
</ul>
</li>
</ul>
<h5 id="autosec-264">On stopping times and optional stopping</h5>
<a id="notes_1-autopage-264"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>8.4</b> <a id="ps:biased_walk"></a> Let \((S_n)\) be the asymmetric random walk, started from \(S_0=0\). Let \(a&lt;0&lt;b\) be natural numbers and define the stopping times \(T_a=\inf
\{n\-S_n=a\}\), \(T_b=\inf \{n\-S_n=b\}\) and \(T=T_a\wedge T_b\).
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Show that \(\E [S_T]=(p-q)\E [T]\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Calculate \(\E [S_T]\) directly using equation <span class="textup" >(<a
href="Hitting-probabilities-random-walks.html#eq:asym_rw_stopped">8.3</a>)</span> and hence calculate \(\E [T]\).
</p>
</li>
</ul>
</li>
<li>
<p>
<b>8.5</b> <a id="ps:urn_sec"></a> Recall the Po&#x0301;lya urn process from Section <a href="Urn-processes.html#sec:urn">4.2</a>. Recall that \(B_n\) is the number of black balls in the urn at time
\(n\), and that \(M_n=\frac {B_n}{n+2}\) is the fraction of black balls in the urn at time \(n\). Let \(T\) be the first time at which a black ball is drawn from the urn.
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Show that \(\P [T\geq n]=\frac {1}{n}\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Use the optional stopping theorem to show that \(\E [M_T]=\frac 12\) and \(\E [\frac
{1}{T+2}]=\frac 14\).
</p>
</li>
</ul>
</li>
<li>
<p>
<b>8.6</b> <a id="ps:urn_moran_fixation"></a> <i>This question is a continuation of exercise <a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:urn_moran"><b>7.8</b></a> – recall
the urn process from that exercise.</i>
</p>
<p>
Let \(T\) be the first time at which the urn contains only balls of one colour, and suppose that initially the urn contains \(r\) red balls and \(b\) black balls. Recall that \(M_n\) denotes the fraction of red balls in
the urn at time \(n\).
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Deduce that \(\P [T&lt;\infty ]=1\), and that \(\P [M_T=0\text { or }M_T=1]=1\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Show that \(\E [M_T]=\frac {r}{r+b}\) and hence deduce that \(\P [M_T=1]=\frac {r}{r+b}\).
</p>
<p>


</p>
</li>
</ul>
</li>
<li>
<p>
<b>8.7</b> <a id="ps:urn_remove"></a> Let \(m\in \N \) and \(m\geq 2\). At time \(n=0\), an urn contains \(2m\) balls, of which \(m\) are red and \(m\) are blue. At each time \(n=1,\ldots ,2m\) we draw
a single ball from the urn; we discard this ball and do not replace it. Therefore, at time \(n\) the urn contains \(2m-n\) balls.
</p>
<p>
Let \(N_n\) denote the number of red balls remaining in the urn at time \(n\). For \(n=0,\ldots ,2m-1\) let
</p>
<p>
\[P_n=\frac {N_n}{2m-n}\]
</p>
<p>
be the fraction of red balls remaining after time \(n\).
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Show that \(P_n\) is a martingale, with respect to a natural filtration that you should specify.
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> <b>[Challenge question]</b> Let \(T\) be the first time at which we draw a red ball. Note that
\(T&lt;2m\), because the urn initially contains at least \(2\) red balls. Show that the probability that the \((T+1)^{st}\) ball is red is \(\frac {1}{2}\).
</p>
</li>
</ul>
</li>
</ul>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Solutions-exercises.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Solutions to exercises</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-265"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h3 id="autosec-266">Chapter&nbsp;<span class="sectionnumber" >A&#x2003;</span>Solutions to exercises</h3>
<a id="notes_1-autopage-266"></a>
<a id="notes_1-autofile-40"></a>
<h5 id="autosec-267">Chapter <a href="Expectation-Arbitrage.html#chap:pricing">1</a></h5>
<a id="notes_1-autopage-267"></a>



<ul style="list-style-type:none">


<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#ps:portfolio"><b>1.1</b></a> At time \(1\) we would have \(10(1+r)\) in cash and \(5\) units of stock. This gives the value of our assets at time
\(1\) as \(10(1+r)+5S_1\).
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#ps:portfolio_2"><b>1.2</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Assuming we don’t buy or sell anything at time \(0\), the value of our portfolio at time \(1\) will be
\(x(1+r)+yS_1\), where \(S_1\) is as in the solution to <a href="Exercises-on-Chapter-ref-chap-pricing.html#ps:portfolio"><b>1.1</b></a>. Since we need to be certain of paying off our debt, we should
assume a worst case scenario for \(S_1\), that is \(S_1=d\). So, we are certain to pay off our debt if and only if
</p>
<p>
\[x(1+r)+ysd&gt;K.\]
</p>
</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Since certainty requires that we cover the worst case scenario of our stock performance, and
\(d&lt;1+r\), our best strategy is to exchange all our assets for cash at time \(t=0\). This gives us
</p>
<p>
\[x+ys\]
</p>
<p>
in cash at time \(0\). At time \(1\) we would then have \((1+r)(x+ys)\) in cash at time \(0\) and could pay our debt providing that
</p>
<p>
\[(1+r)(x+ys)\geq K.\]
</p>
<p>


</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#ps:simple_arbitrage"><b>1.3</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> We borrow \(s\) cash at time \(t=0\) and use it to buy one stock. Then wait until time \(t=1\), at
which point we will a stock worth \(S_1\), where \(S_1\) is as in <a href="Exercises-on-Chapter-ref-chap-pricing.html#ps:portfolio"><b>1.1</b></a>. We sell our stock, which gives us \(S_1\) in cash.
Since \(S_1\geq sd&gt;s(1+r)\), we repay or debt (plus interest) which costs us \(s(1+r)\). We then have
</p>
<p>
\[S_1-s(1+r)&gt;0\]
</p>
<p>
in cash. This is an arbitrage.
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> We perform the same strategy as in (a), but with the roles of cash an stock swapped: We borrow \(1\)
stock at time \(t=0\) and then sell it for \(s\) in cash. Then wait until time \(t=1\), at which point we will have \(s(1+r)\) in cash. Since the price of a stock is now \(S_1\), where \(S_1\) is as in <a
href="Exercises-on-Chapter-ref-chap-pricing.html#ps:portfolio"><b>1.1</b></a>, and \(S_1\leq us&lt;(1+r)s\), we now buy one stock costing \(S_1\) and repay the stockbroker, leaving us with
</p>
<p>
\[s(1+r)-S_1&gt;0\]
</p>
<p>
in cash. This is an arbitrage.
</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#ps:exp"><b>1.4</b></a> We can calculate, using integration by parts, that
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{0}\)</span>


<!--

                                                                                              Z   ∞                        Z    ∞                       1
                                                                                     E[X] =           xfX (x) dx =                  xλe−λx dx =           .
                                                                                               −∞                           0                           λ


-->


<p>


\begin{align*}
\E [X]=\int _{-\infty }^\infty x f_X(x)\,dx=\int _0^\infty x\lambda e^{-\lambda x}\,dx=\frac {1}{\lambda }.
\end{align*}
Similarly, we can calculate that
</p>
<p>
\[ \E [X^2]=\int _{-\infty }^\infty x^2 f_X(x)\,dx=\int _0^\infty x^2\lambda e^{-\lambda x}\,dx=\frac {2}{\lambda ^2} \]
</p>
<p>
This gives that
</p>
<p>
\[\var (X)=\E [X^2]-\E [X]^2=\frac {1}{\lambda ^2}.\]
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#ps:conv_P_intro"><b>1.5</b></a> We can calculate
</p>
<p>
\[\E [X_n]=0\cdot \P [X_n=0]+n^2\P [X_n=n^2]=\frac {n^2}{n}=n\to \infty \]
</p>
<p>
as \(n\to \infty \). Also,
</p>
<p>
\[\P [|X_n|&gt;0]=\P [X_n=n^2]=\frac {1}{n}\to 0\]
</p>
<p>
as \(n\to \infty \).
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#ps:normal_standardization"><b>1.6</b></a> We have
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{0}\)</span>


<!--


                                                                                                      X −µ
                                                                                                                                   
                                                                                         P[Y ≤ y] = P      ≤y
                                                                                                        σ
                                                                                                      = P[X ≤ µ + yσ]
                                                                                                          Z   µ+yσ         1             (x−µ)2
                                                                                                      =                √            e−     2σ 2   dx.
                                                                                                          −∞               2πσ 2


-->


<p>


\begin{align*}
\P [Y\leq y] &amp;=\P \l [\frac {X-\mu }{\sigma }\leq y\r ]\\ &amp;=\P [X\leq \mu +y\sigma ]\\ &amp;=\int _{-\infty }^{\mu +y\sigma }\frac {1}{\sqrt {2\pi \sigma ^2}}e^{-\frac
{(x-\mu )^2}{2\sigma ^2}}\,dx.
\end{align*}
We want to turn the above integral into the distribution function of the standard normal. To do so, substitute \(z=\frac {x-\mu }{\sigma }\), and we obtain
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{0}\)</span>


<!--

                                                                                                              Z   y       1      z2
                                                                                            P[Y ≤ y] =                 √      e− 2 σ dz
                                                                                                                  −∞    2πσ 2
                                                                                                              Z    y    1     z2
                                                                                                          =            √ e− 2 dz.
                                                                                                                  −∞    2π


-->


<p>


\begin{align*}
\P [Y\leq y]&amp;=\int _{-\infty }^y\frac {1}{\sqrt {2\pi \sigma ^2}}e^{-\frac {z^2}{2}}\sigma \,dz\\ &amp;=\int _{-\infty }^y \frac {1}{\sqrt {2\pi }}e^{-\frac {z^2}{2}}\,dz.
\end{align*}
Hence, \(Y\) has the distribution function of \(N(0,1)\), which means \(Y\sim N(0,1)\).
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#ps:tail_p"><b>1.7</b></a> For \(p\neq 1\),
</p>
<p>
\[\int _1^\infty x^{-p}\,dx = \l [\frac {x^{-p+1}}{-p+1}\r ]_{x=1}^\infty \]
</p>
<p>
and we obtain a finite answer only if \(-p+1&lt;0\). When \(p=-1\), we have
</p>
<p>
\[\int _1^\infty x^{-1}\,dx = \l [\log x\r ]_{x=1}^\infty =\infty ,\]
</p>
<p>
so we conclude that \(\int _1^\infty x^{-p}\,dx\) is finite if and only if \(p&gt;1\).
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#ps:seqs"><b>1.8</b></a> As \(n\to \infty \),
</p>
<ul style="list-style-type:none">


<li>
<p>
• \(e^{-n}\to 0\) because \(e&gt;1\).
</p>


</li>
<li>
<p>
• \(\sin \l (\frac {n\pi }{2}\r )\) oscillates through \(0,1,0,-1\) and does not converge.
</p>


</li>
<li>
<p>
• \(\frac {\cos (n\pi )}{n}\) converges to zero by the sandwich rule since \(|\frac {\cos (n\pi )}{n}|\leq \frac {1}{n}\to 0\).
</p>


</li>
<li>
<p>
• \(\sum \limits _{i=1}^n 2^{-i}=1-2^{-n}\) is a geometric series, and \(1-2^{-n}\to 1-0=1\).
</p>


</li>
<li>
<p>
• \(\sum \limits _{i=1}^n\frac {1}{i}\) tends to infinity, because
</p>
<p>
\[\overbrace {\frac 12}+\overbrace {\frac 13+\frac 14}+\overbrace {\frac 15+\frac 16+\frac 17+\frac 18}+\overbrace {\frac 19+\frac {1}{10}++\frac {1}{11}+\frac {1}{12}+\frac
{1}{13}+\frac {1}{14}+\frac {1}{15}+\frac {1}{16}}+\ldots .\]
</p>
<p>
each term contained in a \(\overbrace {\cdot }\) is greater than or equal to \(\frac 12\).
</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#ps:subseq"><b>1.9</b></a> From the previous question we have \(\sum _{n=1}^\infty n^{-2}&lt;\infty \). Define \(n_1=1\) and then
</p>
<p>
\[n_{r+1}=\inf \{k\-n&gt;n_r\text { and }|x_k|&lt;(r+1)^{-2}\}.\]
</p>
<p>
Then for all \(r\) we have \(|x_{n_r}|\leq r^{-2}\). Hence,
</p>
<p>
\[\sum \limits _{r=1}^\infty \l |x_{n_r}\r |\leq \sum \limits _{r=1}^\infty r^{-2}&lt;\infty .\]
</p>
<p>


</p>
</li>
</ul>
<h5 id="autosec-268">Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></h5>
<a id="notes_1-autopage-268"></a>



<ul style="list-style-type:none">


<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#ps:two_dice_sample"><b>2.1</b></a> The result of rolling a pair of dice can be written \(\omega =(\omega _1,\omega _2)\) where \(\omega
_1,\omega _2\in \{1,2,3,4,5,6\}\). So a suitable \(\Omega \) would be
</p>
<p>
\[\Omega =\Big \{(\omega _1,\omega _2)\-\omega _1,\omega _2\in \{1,2,3,4,5,6\}\Big \}.\]
</p>
<p>
Of course other choices are possible too. Since our choice of \(\Omega \) is finite, a suitable \(\sigma \)-field is \(\mc {F}=\mc {P}(\Omega )\).
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#ps:sigma_meas"><b>2.2</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Consider the case of \(\mc {F}\). We need to check the three properties in the definition of a \(\sigma
\)-field.
</p>
<ul style="list-style-type:none">


<li>
<p>
1. We have \(\emptyset \in \mc {F}\) so the first property holds automatically.
</p>


</li>
<li>
<p>
2. For the second we check compliments: \(\Omega \sc \Omega =\emptyset \), \(\Omega \sc \{1\}=\{2,3\}\), \(\Omega \sc \{2,3\}=\{1\}\) and \(\Omega \sc \Omega =\emptyset \); in all cases we
obtain an element of \(\mc {F}\).
</p>


</li>
<li>
<p>
3. For the third, we check unions. We have \(\{1\}\cup \{2,3\}=\Omega \). Including \(\emptyset \) into a union doesn’t change anything; including \(\Omega \) into a union results in \(\Omega \). This
covers all possible cases, in each case resulting in an element of \(\mc {F}\).
</p>
</li>
</ul>
<p>
So, \(\mc {F}\) is a \(\sigma \)-field. Since \(\mc {F}’\) is just \(\mc {F}\) with the roles of \(1\) and \(2\) swapped, by symmetry \(\mc {F}’\) is also a \(\sigma \)-field.
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> We have \(\{1\}\in \mc {F}\cup \mc {F}’\) and \(\{2\}\in \mc {F}\cup \mc {F}’\), but
\(\{1\}\cup \{2\}=\{1,2\}\) and \(\{1,2\}\notin \mc {F}\cup \mc {F}’\). Hence \(\mc {F}\cup \mc {F}’\) is not closed under unions; it fails property 3 of the definition of a \(\sigma \)-field.
</p>
<p>
However, \(\mc {F}\cap \mc {F}’\) is the intersection of two \(\sigma \)-fields, so is automatically itself a \(\sigma \)-field. (Alternatively, note that \(\mc {F}\cap \mc {F}’=\{\emptyset ,\Omega \}\),
and check the definition.)
</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#ps:inf_Om"><b>2.3</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Let \(A_m\) be the event that the sequence \((X_n)\) contains precisely \(m\) heads. Let \(A_{m,k}\) be
the event that we see precisely \(m\) heads during the first \(k\) tosses and, from then on, only tails. Then,
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{0}\)</span>


<!--



                                                                           P[Am,k ] = P[m heads in X1 , . . . , Xk , no heads in Xk+1 , Xk+2 , . . .]

                                                                                    = P[m heads in X1 , . . . , Xk , ] P[ no heads in Xk+1 , Xk+2 , . . .]

                                                                                    = P[m heads in X1 , . . . , Xk , ] × 0

                                                                                    = 0.



-->


<p>


\begin{align*}
\P [A_{m,k}] &amp;=\P [m\text { heads in }X_1,\ldots ,X_k,\text { no heads in }X_{k+1},X_{k+2},\ldots ]\\ &amp;=\P [m\text { heads in }X_1,\ldots ,X_k,]\,\P [\text { no heads in
}X_{k+1},X_{k+2},\ldots ]\\ &amp;=\P [m\text { heads in }X_1,\ldots ,X_k,]\times 0\\ &amp;=0.
\end{align*}
If \(A_m\) occurs then precisely one of \(A_{m,1},A_{m,2},\ldots \) occurs. Hence,
</p>
<p>
\[\P [A_m]=\sum \limits _{k=0}^\infty \P [A_{m,k}]=0\]
</p>
<p>
.
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Let \(A\) be the event that the sequence \((X_n)\) contains finitely many heads. Then, if \(A\) occurs,
precisely one of \(A_1,A_2,\ldots \) occurs. Hence,
</p>
<p>
\[\P [A]=\sum \limits _{m=0}^\infty \P [A_m]=0.\]
</p>
<p>
That is, the probability of having only finite many heads is zero. Hence, almost surely, the sequence \((X_n)\) contains infinitely many heads.
</p>
<p>
By symmetry (exchange the roles of heads and tails) almost surely the sequence \((X_n)\) also contains infinitely many tails.
</p>
</li>
</ul>
</li>
</ul>

<ul style="list-style-type:none">


<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#ps:rv_meas_1"><b>2.4</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> \(\F _1\) contains the information of whether a \(6\) was rolled.
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> \(\F _2\) gives the information of which value was rolled if a \(1\), \(2\) or \(3\) was rolled, but if the
roll was in \(\{4,5,6\}\) then \(\F _1\) cannot tell the difference between these values.
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(c)</span></span></span> \(\F _3\) contains the information of which of the sets \(\{1,2\}\), \(\{3,4\}\) and \(\{5,6\}\)
contains the value rolled, but gives no more information than that.
</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#ps:rv_meas_2"><b>2.5</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> The values taken by \(X_1\) are
</p>
<p>
\[X_1(\omega )= \begin {cases} 0 &amp; \text { if }\omega =3,\\ 1 &amp; \text { if }\omega =2,4,\\ 4 &amp; \text { if }\omega =1,5.\\ \end {cases} \]
</p>
<p>
Hence, the pre-images are \(X_1^{-1}(0)=\{3\}\), \(X_1^{-1}(1)=\{2,4\}\) and \(X_1^{-1}(4)=\{1,5\}\). These are all elements of \(\G _1\), so \(X_1\in m\G _1\). However, they are not all elements of
\(\G _2\) (in fact, none of them are!) so \(X_1\notin m\G _2\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Define
</p>
<p>
\[X_2(\omega )= \begin {cases} 0 &amp; \text { if }\omega =1,2,\\ 1 &amp; \text { otherwise}.                               \end {cases} \]
</p>
<p>
Then the pre-images are \(X_2^{-1}(0)=\{1,2\}\) and \(X_2^{-1}(1)=\{3,4,5\}\). Hence \(X_2\in m\G _2\).
</p>
<p>
It isn’t possible to use unions/intersections/complements to make the set \(\{3,4,5\}\) out of \(\{1,5\},\{2,4\},\{3\}\) (one way to see this is note that as soon as we tried to include \(5\) we would also have
to include \(1\), meaning that we can’t make \(\{3,4,5\}\)). Hence \(X_2\notin m\G _1\).
</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#ps:two_coin_toss_sigma"><b>2.6</b></a> We have \(X(TT)=0\), \(X(HT)=X(TH)=1\) and \(X(HH)=2\). This gives
</p>
<p>
\[\sigma (X)=\Big \{\emptyset , \{TT\}, \{TH, HT\}, \{HH\}, \{TT, TH, HT\}, \{TT, HH\}, \{TH, HT, HH\}, \Omega \Big \}.\]
</p>
<p>
To work this out, you could note that \(X^{-1}(i)\) must be in \(\sigma (X)\) for \(i=0,1,2\), then also include \(\emptyset \) and \(\Omega \), then keep adding unions and complements of the events until
find you have added them all. (Of course, this only works because \(\sigma (X)\) is finite!)
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#ps:rv_gen"><b>2.7</b></a> Since sums, divisions and products of random variables are random variables, \(X^2+1\) is a random variable. Since
\(X^2+1\) is non-zero, we have that \(\frac {1}{X^2+1}\) is a random variable, and using products again, \(\frac {X}{X^2+1}\) is a random variable.
</p>
<p>
For \(\sin (X)\), recall that for any \(x\in \R \) we have
</p>
<p>
\[\sin (x)=\sum _{n=0}^\infty \frac {(-1)^n}{(2n+1)!}x^{2n+1}.\]
</p>
<p>
Since \(X\) is a random variable so is \(\frac {(-1)^n}{(2n+1)!}X^{2n+1}\). Since limits of random variables are also random variables, so is
</p>
<p>
\[\sin X=\lim \limits _{N\to \infty }\sum _{n=0}^N\frac {(-1)^n}{(2n+1)!}X^{2n+1}.\]
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#ps:not_int_rv"><b>2.8</b></a> Since \(X\geq 0\) we have \(\E [X^p]=\E [|X|^p]\) for all \(p\).
</p>
<p>
\[\E [X]=\int _1^\infty x^12x^{-3}\,dx=2\int _1^\infty x^{-2}\,dx=2\l [\frac {x^{-1}}{-1}\r ]_1^\infty =2&lt;\infty \]
</p>
<p>
so \(X\in L^1\), but
</p>
<p>
\[\E [X^2]=\int _1^\infty x^22x^{-3}\,dx=2\int _1^\infty x^{-1}\,dx=2\l [\log x\r ]_1^\infty =\infty \]
</p>
<p>
so \(X\notin L^2\).
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#ps:Lpq"><b>2.9</b></a> Let \(1\leq p\leq q&lt;\infty \) and \(X\in L^q\). Our plan is to generalize the argument that we used to prove
<span class="textup" >(<a href="Expectation.html#eq:L1L2">2.7</a>)</span>.
</p>
<p>
First, we condition to see that
</p>
<p>
\[|X|^p=|X|^p\1\{|X|\leq 1\}+|X|^p\1\{|X|&gt;1\}.\]
</p>
<p>
Hence,
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{0}\)</span>


<!--



                                                                                      E[|X|p ] = E [|X|p 1{|X| ≤ 1} + |X|p 1{|X| > 1}]

                                                                                               ≤ E [1 + |X|q ]

                                                                                               = 1 + E|X|q ] < ∞



-->


<p>


\begin{align*}
\E [|X|^p] &amp;=\E \l [|X|^p\1\{|X|\leq 1\}+|X|^p\1\{|X|&gt;1\}\r ]\\ &amp;\leq \E \l [1+|X|^q\r ]\\ &amp;=1+\E |X|^q]&lt;\infty
\end{align*}
Here we use that, if \(|X|\leq 1\) then \(|X|^p\leq 1\), and if \(|X|&gt;1\) then since \(p\leq q\) we have \(|X|^p&lt;|X|^q\). So \(X\in L^p\).
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#ps:markovs_ineq"><b>2.10</b></a> First, we condition to see that
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{0}\)</span>
<!--


                                                X = X 1{X<a} + X 1{X≥a} .                                                                (A.1)                            --><a id="eq:markovs_pre"></a><!--


-->
<p>


\begin{equation}
\label {eq:markovs_pre} X=X\1_{\{X&lt; a\}}+X\1_{\{X\geq a\}}.
\end{equation}


</p>
<p>
From <span class="textup" >(<a href="Solutions-exercises.html#eq:markovs_pre">A.1</a>)</span> we have
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{1}\)</span>


<!--



                                                                                                        X ≥ X 1{X≥a}

                                                                                                           ≥ a1{X ≥ a}.



-->


<p>


\begin{align*}
X &amp;\geq X\1_{\{X\geq a\}}\\ &amp;\geq a\1\{X\geq a\}.
\end{align*}
This second inequality follows by looking at two cases: if \(X&lt;a\) then both sides are zero, but if \(X\geq a\) then we can use that \(X\geq a\). Using monotonicity of \(\E \), we then have
</p>
<p>
\[\E [X]\geq \E [a\1_{\{X\geq a\}}]=a\E [1_{\{X\geq a\}}]=a\P [X\geq a].\]
</p>
<p>
Dividing through by \(a\) finishes the proof.
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#ps:exp_zero"><b>2.11</b></a> Since \(X\geq 0\), Markov’s inequality gives us that
</p>
<p>
\[\P [X\geq a]\leq \frac {1}{a}\E [X]=0\]
</p>
<p>
for any \(a&gt;0\). Hence,
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{1}\)</span>


<!--



                                                                                      P[X > 0] = P[X > 1] + P[1 ≥ X > 0]
                                                                                                                        ∞ n
                                                                                                                    "                                        #
                                                                                                                        [                                   o
                                                                                                                                    1               1
                                                                                                 = P[X > 1] + P                     n   ≥X>        n+1
                                                                                                                     n=1
                                                                                                                  ∞
                                                                                                                  X         h                           i
                                                                                                                                1                  1
                                                                                                 = P[X > 1] +           P       n   ≥X>           n+1
                                                                                                                 n=1
                                                                                                                 X∞         h                 i
                                                                                                                                         1
                                                                                                 ≤ P[X ≥ 1] +           P X>            n+1
                                                                                                                  n=1

                                                                                                 = 0.



-->


<p>


\begin{align*}
\P [X&gt;0]&amp;=\P [X&gt;1]+\P [1\geq X&gt;0]\\ &amp;=\P [X&gt;1]+\P \l [\bigcup \limits _{n=1}^\infty \l \{\tfrac {1}{n}\geq X&gt;\tfrac {1}{n+1}\r \}\r ]\\ &amp;=\P
[X&gt;1]+\sum \limits _{n=1}^\infty \P \l [\tfrac {1}{n}\geq X&gt;\tfrac {1}{n+1}\r ]\\ &amp;\leq \P [X\geq 1]+\sum \limits _{n=1}^\infty \P \l [X&gt;\tfrac {1}{n+1}\r ]\\
&amp;=0.
\end{align*}


</p>
</li>
</ul>
<h5 id="autosec-269">Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></h5>
<a id="notes_1-autopage-269"></a>



<ul style="list-style-type:none">


<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#ps:cond_exp_calc"><b>3.1</b></a> We have \(S_2=X_1+X_2\) so
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{1}\)</span>


<!--



                                                                                             E[S2 | σ(X1 )] = E[X1 | σ(X1 )] + E[X2 | σ(X1 )]

                                                                                                             = X1 + E[X2 ]

                                                                                                             = X1 .



-->


<p>


\begin{align*}
\E [S_2\|\sigma (X_1)] &amp;=\E [X_1\|\sigma (X_1)]+\E [X_2\|\sigma (X_1)]\\ &amp;=X_1+\E [X_2]\\ &amp;=X_1.
\end{align*}
Here, we use the linearity of conditional expectation, followed by the fact that \(X_1\) is \(\sigma (X_1)\) measurable and \(X_2\) is independent of \(\sigma (X_1)\) with \(\E [X_2]=0\).
</p>
<p>
Secondly, \(S_2^2=X_1^2+2X_1X_2+X_2^2\) so
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{1}\)</span>


<!--



                                                                                  E[S22 ] = E[X12 | σ(X1 )] + 2E[X1 X2 | σ(X1 )] + E[X22 | σ(X1 )]

                                                                                             = X12 + 2X1 E[X2 | σ(X1 )] + E[X22 ]

                                                                                             = X12 + 1



-->


<p>


\begin{align*}
\E [S_2^2] &amp;=\E [X_1^2\|\sigma (X_1)]+2\E [X_1X_2\|\sigma (X_1)]+\E [X_2^2\|\sigma (X_1)]\\ &amp;=X_1^2+2X_1\E [X_2\|\sigma (X_1)]+\E [X_2^2]\\ &amp;=X_1^2+1
\end{align*}
Here, we again use linearity of conditional expectation to deduce the first line. To deduce the second line, we use that \(X_1^2\) and \(X_1\) are \(\sigma (X_1)\) measurable (using the taking out what is known
rule for the middle term), whereas \(X_2\) is independent of \(\sigma (X_1)\). The final line comes from \(\E [X_2\|\sigma (X_1)]=0\) (which we already knew from above) and that \(\E [X_2^2]=1\).
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#ps:biased_walk_mart"><b>3.2</b></a> For \(i\leq n\), we have \(X_i\in m\mc {F}_n\), so \(S_n=X_1+X_2+\ldots +X_n\) is also \(\mc
{F}_n\) measurable. For each \(i\) we have \(|X_i|\leq 2\) so \(|S_n|\leq 2n\), hence \(S_n\in L^1\). Lastly,
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{1}\)</span>


<!--



                                                                                       E[Sn+1 | Fn ] = E[X1 + . . . + Xn | Fn ] + E[Xn+1 | Fn ]

                                                                                                         = (X1 + . . . + Xn ) + E[Xn+1 ]

                                                                                                         = Sn .



-->


<p>


\begin{align*}
\E [S_{n+1}\|\mc {F}_n] &amp;=\E [X_1+\ldots +X_n\|\mc {F}_n]+\E [X_{n+1}\|\mc {F}_n]\\ &amp;=(X_1+\ldots +X_n) + \E [X_{n+1}]\\ &amp;=S_n.
\end{align*}
Here, we use linearity of conditional expectation in the first line. To deduce the second, we use that \(X_i\in m\mc {F}_n\) for \(i\leq n\) and that \(X_{n+1}\) is independent of \(\mc {F_n}\) in the second.
For the final line we note that \(\E [X_{n+1}]=\frac 132+\frac 23(-1)=0\).
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#ps:mart_exs"><b>3.3</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Since \(X_i\in m\mc {F}_n\) for all \(i\leq n\), we have \(M_n=X_1X_2\ldots X_n\in m\mc {F}_n\).
Since \(|X_i|\leq c\) for all \(i\), we have \(|M_n|\leq c^n&lt;\infty \), so \(M_n\) is bounded and hence \(M_n\in L^1\) for all \(n\). Lastly,
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{1}\)</span>


<!--



                                                                                               E[Mn+1 | Fn ] = E[X1 X2 . . . Xn Xn+1 | Fn ]

                                                                                                                  = X1 . . . Xn E[Xn+1 | Fn ]

                                                                                                                  = X1 . . . Xn E[Xn+1 ]

                                                                                                                  = X1 . . . Xn

                                                                                                                  = Mn .



-->


<p>


\begin{align*}
\E [M_{n+1}\|\mc {F}_n] &amp;=\E [X_1X_2\ldots X_nX_{n+1}\|\mc {F}_n]\\ &amp;=X_1\ldots X_n\E [X_{n+1}\|\mc {F}_n]\\ &amp;=X_1\ldots X_n\E [X_{n+1}]\\ &amp;=X_1\ldots X_n\\
&amp;=M_n.
\end{align*}
Here, to deduce the second line we use that \(X_i\in m\mc {F}_n\) for \(i\leq n\). To deduce the third line we use that \(X_{n+1}\) is independent of \(\mc {F}_n\) and then to deduce the forth line we use
that \(\E [X_{n+1}]=1\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> By definition of conditional expectation (Theorem <a
href="Conditional-expectation-martingales.html#thm:cond_exp">3.1.1</a>), we have \(M_n\in L^1\) and \(M_n\in m\mc {G}_n\) for all \(n\). It remains only to check that
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{1}\)</span>


<!--



                                                                                                   E[Mn+1 | Gn ] = E[E[Z | Gn+1 ] | Gn ]

                                                                                                                     = E[Z | Gn ]

                                                                                                                     = Mn .



-->


<p>


\begin{align*}
\E [M_{n+1}\|\mc {G}_n] &amp;=\E [\E [Z\|\mc {G}_{n+1}]\|\mc {G}_n]\\ &amp;=\E [Z\|\mc {G}_n]\\ &amp;=M_n.
\end{align*}
Here, to get from the first to the second line we use the tower property.
</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#ps:subsupmartmart"><b>3.4</b></a> Note that the first and second conditions in Definition <a href="Martingales.html#martdef">3.3.3</a> are
the same for super/sub-martingales as for martingales. Hence, \(M\) satisfies these conditions. For the third condition, we have that \(\E [M_{n+1}\|\mc {F}_n]\leq M_n\) (because \(M\) is a supermartingale)
and \(\E [M_{n+1}\|\mc {F}_n]\geq M_n\) (because \(M\) is a submartingale. Hence \(\E [M_{n+1}\|\mc {F}_n]=M_n\), so \(M\) is a martingale.
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#ps:mart_alt_char"><b>3.5</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> If \(m=n\) then \(\E [M_n\|\mc {F}_n]=M_n\) because \(M_n\) is \(\mc {F}_n\) measurable. For
\(m&gt;n\), we have
</p>
<p>
\[\E [M_m|\mc {F}_n]=\E [\E [M_m\|\mc {F}_{m-1}]\|\mc {F}_n]=\E [M_{m-1}\|\mc {F}_n].\]
</p>
<p>
Here we use the tower property to deduce the first equality (note that \(m-1\geq n\) so \(\mc {F}_{m-1}\supseteq \mc {F}_n\)) and the fact that \((M_n)\) is a martingale to deduce the second inequality
(i.e.&nbsp;\(\E [M_{m}\|\mc {F}_{m-1}]=M_{m-1}\)). Iterating, from \(m,m-1\ldots ,n+1\) we obtain that
</p>
<p>
\[\E [M_m\|\mc {F}_n]=\E [M_{n+1}\|\mc {F}_n]\]
</p>
<p>
and the martingale property then gives that this is equal to \(M_n\), as required.
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> If \((M_n)\) is a submartingale then \(\E [M_m\|\mc {F}_n]\geq M_n\), whereas if \((M_n)\) is a
supermartingale then \(\E [M_m\|\mc {F}_n]\leq M_n\).
</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#ps:doob_pre"><b>3.6</b></a> We have \((M_{n+1}-M_n)^2=M_{n+1}^2-2M_{n+1}M_n+M_n^2\) so
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{1}\)</span>


<!--


                                                                            h                         i
                                                                        E (Mn+1 − Mn )2 | Fn = E[Mn+1
                                                                                                  2
                                                                                                      | Fn ] − 2E[Mn+1 Mn | Fn ] + E[Mn2 | Fn ]
                                                                                                               2
                                                                                                          = E[Mn+1 | Fn ] − 2Mn E[Mn+1 | Fn ] + Mn2
                                                                                                               2
                                                                                                          = E[Mn+1 | Fn ] − 2Mn2 + Mn2
                                                                                                               2
                                                                                                          = E[Mn+1 | Fn ] − Mn2




-->


<p>


\begin{align*}
\E \l [(M_{n+1}-M_n)^2\|\mc {F}_n\r ] &amp;=\E [M_{n+1}^2\|\mc {F}_n]-2\E [M_{n+1}M_n\|\mc {F}_n]+\E [M_n^2\|\mc {F}_n]\\ &amp;=\E [M_{n+1}^2\|\mc {F}_n]-2M_n\E [M_{n+1}\|\mc
{F}_n]+M_n^2\\ &amp;=\E [M_{n+1}^2\|\mc {F}_n]-2M_n^2+M_n^2\\ &amp;=\E [M_{n+1}^2\|\mc {F}_n]-M_n^2\\
\end{align*}
as required. Here, we use the taking out what is known run (since \(M_n\in m\mc {F}_n\)) and the martingale property of \((M_n)\).
</p>
<p>
It follows that \(\E [M_{n+1}^2\|\mc {F}_n]-M_n^2=\E [(M_{n+1}-M_n)^2\|\mc {F}_n]\geq 0\). We have \(M_n^2\in m\mc {F}_n\) and since \(M_n\in L^2\) we have \(M_n^2\in L^1\). Hence
\((M_n^2)\) is a submartingale.
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#ps:mart_linear"><b>3.7</b></a> Using that \(\E [X_{n+1}\|\mc {F}_n]=aX_n+bX_{n-1}\) we can calculate
</p>
<p>
\[\E [S_{n+1}\|\mc {F}_n]=\E [\alpha X_{n+1}+X_{n}\|\mc {F}_n]=\alpha (aX_n+bX_{n-1})+X_n=(\alpha a+1)X_n+\alpha b X_{n-1}.\]
</p>
<p>
We want this to be equal to \(S_n\), and \(S_n=\alpha X_n+X_{n-1}\). So we need
</p>
<p>
\[\alpha a+1=\alpha \hspace {1pc}\text { and }\hspace {1pc}\alpha b = 1.\]
</p>
<p>
Hence, \(\alpha =\frac {1}{b}\) is our choice. It is then easy to check that
</p>
<p>
\[\E [S_{n+1}\|\mc {F}_n]=\tfrac {1}{b}(aX_n+bX_{n-1})+X_n=(\tfrac {a}{b}+1)X_n+X_{n-1}=\tfrac {1}{b}X_n+X_{n-1}=S_n\]
</p>
<p>
and thus \(S_n\) is a martingale, as required.
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#ps:cond_exp_2"><b>3.8</b></a> Note that
</p>
<p>
\[\E [X_1\|\sigma (S_n)]=\E [X_2\|\sigma (S_n)]=\ldots =\E [X_n\|\sigma (S_n)]\]
</p>
<p>
is constant, by symmetry (i.e.&nbsp;permuting the \(X_1,X_2,\ldots ,X_n\) does not change the distribution of \(S_n\)). Hence, if we set \(\E [X_i\|\sigma (S_n)]=\alpha \) then
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{1}\)</span>


<!--

                                                                                       n
                                                                                                                   " n              #
                                                                                       X                            X
                                                                                nα =         E[Xi | σ(Sn )] = E            Xi σ(Sn ) = E[Sn | σ(Sn )] = Sn .
                                                                                       i=1                           i=1



-->


<p>


\begin{align*}
n\alpha =\sum \limits _{i=1}^n\E [X_i\|\sigma (S_n)]=\E \l [\sum \limits _{i=1}^n X_i\,\Big |\,\sigma (S_n)\r ]=\E [S_n\|\sigma (S_n)]=S_n.
\end{align*}
Here we use the linearity of conditional expectation and the fact that \(S_n\) is \(\sigma (S_n)\) measurable. Hence,
</p>
<p>
\[\alpha =\E [X_1\|\sigma (S_n)]=\frac {S_n}{n}.\]
</p>
<p>


</p>
</li>
</ul>
<h5 id="autosec-270">Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></h5>
<a id="notes_1-autopage-270"></a>



<ul style="list-style-type:none">


<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#ps:rw_exponential"><b>4.1</b></a> Since \(Z_n=e^{S_n}\) and \(S_n\in m\mc {F}_n\), also \(Z_n\in m\mc {F}_n\). Since \(|S_n|\leq
n\), we have \(|e^{S_n}|\leq e^n&lt;\infty \), so \(Z_n\) is bounded and hence \(Z_n\in L^1\). Hence also \(M_n\in m\mc {F}_n\) and \(M_n\in L^1\).
</p>
<p>
Lastly,
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{1}\)</span>


<!--



                                                                                                E[eSn+1 |Fn ] = E[eXn+1 eSn | Fn ]

                                                                                                                = eSn E[eXn+1 | Fn ]

                                                                                                                = eSn E[eXn+1 ]
                                                                                                                                            
                                                                                                                = eSn        1
                                                                                                                             2e   + 12 e−1
                                                                                                                         e + 1e
                                                                                                                = eSn           .
                                                                                                                           2


-->


<p>


\begin{align*}
\E [e^{S_{n+1}}|\mc {F}_n] &amp;= \E [e^{X_{n+1}}e^{S_n}\|\mc {F}_n] \\ &amp;= e^{S_n}\E [e^{X_{n+1}}\|\mc {F}_n] \\ &amp;= e^{S_n}\E [e^{X_{n+1}}] \\ &amp;= e^{S_n}\l (\tfrac 12
e+\tfrac 12 e^{-1}\r )\\ &amp;= e^{S_n}\frac {e+\frac {1}{e}}{2}.
\end{align*}
Here, we use the taking out what is known rule and the fact that \(X_{n+1}\) (and hence also \(e^{X_{n+1}}\)) is independent of \(\mc {F}_n\). We also calculate the expectation of the discrete random variable
\(X_{n+1}\), using that \(\P [X_{n+1}=1]=\P [X_{n+1}=-1]=\frac 12\). This gives us that
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{1}\)</span>


<!--



                                                                                                       E[Mn+1 | Fn ] = Mn

                                                                                                        E[Zn+1 | Fn ] ≥ Zn



-->


<p>


\begin{align*}
\E [M_{n+1}\|\mc {F}_n]&amp;= M_n\\ \E [Z_{n+1}\|\mc {F}_n]&amp;\geq Z_n
\end{align*}
where to deduce the last line we use that \(\frac {e+\frac {1}{e}}{2}&gt;1\). Thus \(M_n\) is a martingale and \(Z_n\) is a submartingale.
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#ps:asym_rw_qpmart"><b>4.2</b></a> Since \(X_i\in m\mc {F}_n\) for all \(i\leq n\), we have \(M_n\in m\mc {F}_n\). We have
\(|X_i|\leq 1\) so \(|S_n|\leq n\) and \(|M_n|\leq \max \{(q/p)^n, (q/p)^{-n}\}=(q/p)^{-n}\) (note \(p&gt;q\)), which implies that \(S_n\in L^1\) and \(M_n\in L^1\) for all \(n\).
</p>
<p>
We have
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{1}\)</span>


<!--



                                                                                               E[Sn+1 | Fn ] = E[Sn + Xn+1 | Fn ]

                                                                                                                = Sn + E[Xn+1 | Fn ]

                                                                                                                = Sn + E[Xn+1 ]

                                                                                                                > Sn .



-->


<p>


\begin{align*}
\E [S_{n+1}\|\mc {F}_n] &amp;=\E [S_{n}+X_{n+1}\|\mc {F}_n]\\ &amp;=S_n+\E [X_{n+1}\|\mc {F}_n]\\ &amp;=S_n+\E [X_{n+1}]\\ &amp;&gt;S_n.
\end{align*}
Here we use the taking out what is known rule, followed by the fact that \(X_{n+1}\) is independent of \(\mc {F}_{n}\) and the relationship between conditional expectation and independence. To deduce the final
step we use that \(\E [X_{n+1}]=p(1)+q(-1)=p-q&gt;0\). Therefore, we have \(\E [S_{n+1}\|\mc {F}_n]\geq S_n\), which means that \(S_n\) is a submartingale.
</p>
<p>
We now look at \(M_n\). We have
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{1}\)</span>


<!--



                                                                                            E[Mn+1 |Fn ] = (q/p)Sn E[(q/p)Xn+1 |Fn ]

                                                                                                             = (q/p)Sn E[(q/p)Xn+1 ]

                                                                                                             = (q/p)Sn = Mn .



-->


<p>


\begin{align*}
\E [M_{n+1}|\mc {F}_n]&amp;=(q/p)^{S_n}\E [(q/p)^{X_{n+1}}|\mc {F}_n]\\ &amp;=(q/p)^{S_n}\E [(q/p)^{X_{n+1}}]\\ &amp;=(q/p)^{S_n}=M_n.
\end{align*}
Here we use the taking out what is known rule, followed by the fact that \(X_{n+1}\) is independent of \(\mc {F}_{n}\) and the relationship between conditional expectation and independence. To deduce the final
step we use that
</p>
<p>
\[\E \l [(q/p)^{X_{n+1}}\r ]=p(q/p)^1+q(q/p)^{-1}=p+q=1.\]
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#ps:ex_biased_mart"><b>4.3</b></a> Since \(X_i\in \mc {F}_n\) for all \(i\leq n\) we have \(S_n\in m\mc {F}_n\) where \(\mc
{F}_n=\sigma (X_1,\ldots , X_n)\). Further, if we set \(m=\max (|a|,|b|)\) then \(|S_n|\leq nm\) so \(S_n\in L^1\).
</p>
<p>
We have
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{1}\)</span>


<!--



                                                                                               E[Sn+1 | Fn ] = E[Sn + Xn+1 | Fn ]

                                                                                                                = Sn + E[Xn+1 | Fn ]

                                                                                                                = Sn + E[Xn+1 ]

                                                                                                                = Sn + apa − bpb



-->


<p>


\begin{align*}
\E [S_{n+1}\|\mc {F}_n] &amp;=\E [S_n+X_{n+1}\|\mc {F}_n]\\ &amp;=S_n+\E [X_{n+1}\|\mc {F}_n]\\ &amp;=S_n+\E [X_{n+1}]\\ &amp;=S_n+ap_a-bp_b
\end{align*}
where \(p_b=1-p_a\). Therefore, \(S_n\) is a martingale if and only if \(ap_a=bp_b\).
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#ps:rw_local_time_mart"><b>4.4</b></a> The natural filtration is \(\mc {F}_n=\sigma (X_1,\ldots ,X_n)\). We can write
</p>
<p>
\[S_{n+1}=\1\{S_n=0\}+\1\{S_n\neq 0\}(S_n+X_{n+1}).\]
</p>
<p>
Hence, if \(S_n\in m\mc {F}_n\) then \(S_{n+1}\in m\mc {F}_{n+1}\). Since \(S_1=X_1\in m\mc {F}_n\), a trivial induction shows that \(S_n\in m\mc {F}_n\) for all \(n\). hence, \(L_n\in m\mc {F}_n\)
and also \(S_n+L_n\in m\mc {F}_n\).
</p>
<p>
We have \(-n\leq S_n-L_n \leq n+1\) (because the walk is reflected at zero and can increase by at most \(1\) in each time step) so \(S_{n}-L_n\) is bounded and hence \(S_n-L_n\in L^1\).
</p>
<p>
Lastly,
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{1}\)</span>


<!--



                                                                                E[Sn+1 |Fn ] = E[1{Sn = 0} + 1{Sn 6= 0}(Sn + Xn+1 ) | Fn ]

                                                                                              = 1{Sn = 0} + 1{Sn 6= 0}(Sn + E [Xn+1 |Fn ])

                                                                                              = 1{Sn = 0} + 1{Sn 6= 0}Sn

                                                                                              = 1{Sn = 0} + Sn .                   (A.2)                                     --><a id="eq:SnLnpre"></a><!--



-->


<p>


\begin{align}
\E [S_{n+1}|\mc {F}_n] &amp;=\E [\1\{S_n=0\}+\1\{S_n\neq 0\}(S_n+X_{n+1})\|\mc {F}_n]\notag \\ &amp;=\1\{S_n=0\}+\1\{S_n\neq 0\}(S_n+\E \l [X_{n+1}|\mc {F}_n\r ])\notag \\
&amp;=\1\{S_n=0\}+\1\{S_n\neq 0\}S_n\notag \\ &amp;=\1\{S_n=0\}+S_n.\label {eq:SnLnpre}
\end{align}
Here we use linearity and the taking out what is known \((S_n\in m\mc {F}_n)\) rule, as well as that \(X_{n+1}\) is independent of \(\mc {F}_n\). Hence,
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{2}\)</span>


<!--

                                                                                                                              n
                                                                                                                 "                                      #
                                                                                                                                    1{Si = 0} Fn
                                                                                                                              X
                                                                                  E[Sn+1 − Ln+1 | Fn ] = E Sn+1 −
                                                                                                                              i=0
                                                                                                                                             n
                                                                                                             = Sn + 1{Sn = 0} −                    1{Si = 0}
                                                                                                                                             X

                                                                                                                                             i=0
                                                                                                                      n−1
                                                                                                                             1{Si = 0}
                                                                                                                      X
                                                                                                             = Sn −
                                                                                                                      i=0

                                                                                                             = S n − Ln



-->


<p>


\begin{align*}
\E [S_{n+1}-L_{n+1}\|\mc {F}_n] &amp;=\E \l [S_{n+1}-\sum \limits _{i=0}^n \1\{S_i=0\}\,\Bigg |\,\mc {F}_n\r ]\\ &amp;=S_{n}+\1\{S_n=0\}-\sum \limits _{i=0}^n \1\{S_i=0\}\\
&amp;=S_n-\sum \limits _{i=0}^{n-1} \1\{S_i=0\}\\ &amp;=S_n-L_n
\end{align*}
Here we use <span class="textup" >(<a href="Solutions-exercises.html#eq:SnLnpre">A.2</a>)</span> to deduce the second line, as well as taking out what is known. Hence, \(S_n-L_n\) is a martingale.
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#ps:three_colour_urn"><b>4.5</b></a> Let \(B_n\) be number of red balls in the urn at time \(n\) (i.e.&nbsp;after the \(n^{th}\) draw is
complete). Then, the proportion of red balls in the urn just after the \(n^{th}\) step is
</p>
<p>
\[M_n=\frac {B_n}{n+3}.\]
</p>
<p>
Essentially the same argument as for the two colour urn of Section <a href="Urn-processes.html#sec:urn">4.2</a> shows that \(M_n\) is adapted to the natural filtration and also in \(L^1\). We have
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{2}\)</span>


<!--



                                                               E[Mn+1 | Fn ] = E Mn+1 1{(n+1)th draw is red} + Mn+1 1{(n+1)th draw is not red} Fn
                                                                                      h                                                                           i


                                                                                   Bn + 1                           B
                                                                                                                                                                      
                                                                              =E          1{(n+1)th draw is red} + n 1{(n+1)th draw is not red} Fn
                                                                                    n+4                            n+4
                                                                                Bn + 1 h                                Bn
                                                                                       E 1{(n+1)th draw is red} Fn +       E 1{(n+1)th draw is not red} Fn
                                                                                                                    i       h                              i
                                                                              =
                                                                                 n+4                                   n+4
                                                                                Bn + 1 Bn        Bn              Bn
                                                                                                                    
                                                                              =              +           1−
                                                                                 n+4 n+3 n+4                   n+3
                                                                                  Bn (n + 4)
                                                                              =
                                                                                (n + 3)(n + 4)
                                                                              = Mn .



-->


<p>


\begin{align*}
\E [M_{n+1}\|\mc {F}_n] &amp;=\E \l [M_{n+1}\1_{\{(n+1)^{th}\text { draw is red}\}}+M_{n+1}\1_{\{(n+1)^{th}\text { draw is not red}\}}\,\Big |\,\mc {F}_n\r ]\\ &amp;=\E \l [\frac
{B_n+1}{n+4}\1_{\{(n+1)^{th}\text { draw is red}\}}+\frac {B_n}{n+4}\1_{\{(n+1)^{th}\text { draw is not red}\}}\,\Big |\,\mc {F}_n\r ]\\ &amp;=\frac {B_n+1}{n+4}\E \l
[\1_{\{(n+1)^{th}\text { draw is red}\}}\,\Big |\,\mc {F}_n\r ]+\frac {B_n}{n+4}\E \l [\1_{\{(n+1)^{th}\text { draw is not red}\}}\,\Big |\,\mc {F}_n\r ]\\ &amp;=\frac
{B_n+1}{n+4}\frac {B_n}{n+3}+\frac {B_n}{n+4}\l (1-\frac {B_n}{n+3}\r )\\ &amp;=\frac {B_n(n+4)}{(n+3)(n+4)}\\ &amp;=M_n.
\end{align*}
Hence \((M_n)\) is a martingale.
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#ps:mart_test"><b>4.6</b></a> By the result of <a href="Exercises-on-Chapter-ref-chap-cond_exp.html#ps:doob_pre"><b>3.6</b></a>,
\(S_n^2\) is a submartingale.
</p>
<ul style="list-style-type:none">


<li>
<p>
(i) \(M_n=S_n^2+n\) is \(\mc {F}_n\) measurable (because \(S_n\in m\mc {F}_n\)) and since \(|S_n|\leq n\) we have \(|M_n|\leq n^2+n&lt;\infty \), so \(M_n\in L^1\). Further, using the submartingale
property of \(S_n^2\),
</p>
<p>
\[\E [S_{n+1}^2+n+1\|\mc {F}_n]=\E [S_{n+1}^2\|\mc {F}_n]+n+1\geq S_n^2+n\]
</p>
<p>
so \(M_n\) is a submartingale. But \(\E [M_1^2]=2\neq 0=\E [M_0^2]\), so (by Lemma <a href="Martingales.html#notmart">3.3.6</a>) we have that \((M_n)\) is not a martingale.
</p>


</li>
<li>
<p>
(ii) \(M_n=S_n^2-n\) has \(M_n\in L^1\) and \(M_n\in m\mc {F}_n\) for essentially the same reasons as we used in case (i). However,
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{2}\)</span>


<!--


                                                                                   2
                                                                                E[Sn+1 | Fn ] = E[(Xn+1 + Sn )2 | Fn ]
                                                                                                    2
                                                                                               = E[Xn+1 | Fn ] + 2E[Xn+1 Sn | Fn ] + E[Sn2 | Fn ]

                                                                                               = 1 + 2Sn E[Xn+1 | Fn ] + E[Sn2 | Fn ]

                                                                                               = 1 + 2Sn E[Xn+1 ] + E[Sn2 | Fn ]

                                                                                               = 1 + E[Sn2 | Fn ]

                                                                                               = 1 + Sn2 .



-->


<p>


\begin{align*}
\E [S_{n+1}^2\|\mc {F}_n] &amp;=\E [(X_{n+1}+S_n)^2\|\mc {F}_n]\\ &amp;=\E [X_{n+1}^2\|\mc {F}_n]+2\E [X_{n+1}S_n\|\mc {F}_n]+\E [S_n^2\|\mc {F}_n]\\ &amp;=1+2S_n\E [X_{n+1}\|\mc
{F}_n]+\E [S_n^2\|\mc {F}_n]\\ &amp;=1+2S_n\E [X_{n+1}]+\E [S_n^2\|\mc {F}_n]\\ &amp;=1+\E [S_n^2\|\mc {F}_n]\\ &amp;=1+S_n^2.
\end{align*}
Here, we use the taking out what is known rule (since \(S_n\in m\mc {F}_n\)) along with the fact that \(X_{n+1}\) is independent of \(\mc {F}_n\) and \(\E [X_{n+1}]=0\). Therefore,
</p>
<p>
\[\E [S_{n+1}^2-(n+1)\|\mc {F}_n]=S_n^2-n\]
</p>
<p>
so as \((M_n)\) is a martingale, hence also a submartingale.
</p>


</li>
<li>
<p>
(iii) \(M_n=\frac {S_n}{n}\) is \(\mc {F}_n\) measurable (because \(S_n\in m\mc {F}_n\)) and since \(|S_n|\leq n\) we have \(|S_n|\leq 1\), so \(M_n\in L^1\). Since \(S_n\) is a martingale, we have
</p>
<p>
\[\E \l [\frac {S_{n+1}}{n+1}\,\Big {|}\,\mc {F}_n\r ]=\frac {1}{n+1}\E [S_{n+1}|\mc {F}_n]=\frac {S_n}{n+1}\neq \frac {S_n}{n}.\]
</p>
<p>
Hence \(M_n=\frac {S_n}{n}\) is not a martingale. Also, since \(S_n\) may be both positive or negative, we do not have \(\frac {S_n}{n+1}\geq \frac {S_n}{n}\), so \(S_n\) is also not a submartingale.
</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#ps:doob_S4"><b>4.7</b></a> We showed that \(S_n^2-n\) was a martingale in <a
href="Exercises-on-Chapter-ref-chap-stoch_procs.html#ps:mart_test"><b>4.6</b></a>. We try to mimic that calculation and find out what goes wrong in the cubic case. So, we look at
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{2}\)</span>


<!--


                                                                                              3
                                                                  E[(Sn+1 − Sn )3 | Fn ] = E[Sn+1                 2
                                                                                                  | Fn ] − 3Sn E[Sn+1 | Fn ] + 3Sn2 E[Sn+1 | Fn ] − E[Sn3 | Fn ]
                                                                                               3
                                                                                          = E[Sn+1 | Fn ] − 3Sn (Sn2 + 1) + 3Sn2 Sn − Sn3
                                                                                               3
                                                                                          = E[Sn+1 | Fn ] − Sn3 − 3Sn .



-->


<p>


\begin{align*}
\E [(S_{n+1}-S_n)^3\|\mc {F}_n] &amp;=\E [S_{n+1}^3\|\mc {F}_n]-3S_n\E [S_{n+1}^2\|\mc {F}_n]+3S_n^2\E [S_{n+1}\|\mc {F}_n]-\E [S_n^3\|\mc {F}_n]\\ &amp;=\E [S_{n+1}^3\|\mc
{F}_n]-3S_n(S_n^2+1)+3S_n^2S_n-S_n^3\\ &amp;=\E [S_{n+1}^3\|\mc {F}_n]-S_n^3-3S_n.
\end{align*}
Here we use linearity, taking out what is known and that fact that \(\E [S_{n+1}^2\|\mc {F}_n]=S_n^2+1\) (from <a
href="Exercises-on-Chapter-ref-chap-stoch_procs.html#ps:mart_test"><b>4.6</b></a>). However, also \(S_{n+1}-S_n=X_{n+1}\), so
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{2}\)</span>


<!--


                                                                                                                          3
                                                                                              E[(Sn+1 − Sn )3 | Fn ] = E[Xn+1 | Fn ]
                                                                                                                              3
                                                                                                                         = E[Xn+1 ]

                                                                                                                         = 0.



-->


<p>


\begin{align*}
\E [(S_{n+1}-S_n)^3\|\mc {F}_n] &amp;=\E [X_{n+1}^3\|\mc {F}_n]\\ &amp;=\E [X_{n+1}^3]\\ &amp;=0.
\end{align*}
because \(X_{n+1}\) is independent of \(\mc {F}_n\) and \(X_{n+1}^3=X_n\) (it takes values only \(1\) or \(-1\)) so \(\E [X_{n+1}^3]=0\). Putting these two calculations together, we have
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{2}\)</span>
<!--


                                                           3
                                                        E[Sn+1 | Fn ] = Sn3 + 3Sn .                                                                            (A.3)        --><a id="eq:sn3_mart"></a><!--


-->
<p>


\begin{equation}
\label {eq:sn3_mart} \E [S_{n+1}^3\|\mc {F}_n]=S_n^3+3S_n.
\end{equation}


</p>
<p>
Suppose (aiming for a contradiction) that there is a deterministic function \(f:\N \to \R \) such that \(S_n^3-f(n)\) is a martingale. Then
</p>
<p>
\[\E [S_{n+1}^3-f(n+1)\|\mc {F}_n]=S_n^3-f(n).\]
</p>
<p>
Combining the above equation with <span class="textup" >(<a href="Solutions-exercises.html#eq:sn3_mart">A.3</a>)</span> gives
</p>
<p>
\[f(n+1)-f(n)=3S_n\]
</p>
<p>
but this is impossible because \(S_n\) is not deterministic. Thus we reach a contradiction; no such function \(f\) exists.
</p>
</li>
</ul>
<h5 id="autosec-271">Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></h5>
<a id="notes_1-autopage-271"></a>



<ul style="list-style-type:none">


<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#ps:portfolio_recap"><b>5.1</b></a> The value of the portfolio \((1,3)\) at time \(1\) will be
</p>
<p>
\[1(1+r)+3S_1=(1+r)+3S_1\]
</p>
<p>
where \(S_1\) is a random variable with \(\P [S_1=su]=p_u\) and \(\P [S_1=sd]=p_d\).
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#ps:contingent_1"><b>5.2</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> We need a portfolio \(h=(x,y)\) such that \(V^h_1=\Phi (S_1)=1\), so we need that
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{3}\)</span>


<!--



                                                                                                    x(1 + r) + ysu = 1

                                                                                                    x(1 + r) + ysd = 1.



-->


<p>


\begin{align*}
x(1+r)+ysu&amp;=1\\ x(1+r)+ysd&amp;=1.
\end{align*}
Solving this pair of linear equations gives \(x=\frac {1}{1+r}\) and \(y=0\). So our replicating portfolio consists simply of \(\frac {1}{1+r}\) cash and no stock.
</p>
<p>
Hence, the value of this contingent claim at time \(0\) is \(x+sy=\frac {1}{1+r}\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Now we need that
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{3}\)</span>


<!--



                                                                                                    x(1 + r) + ysu = 3

                                                                                                    x(1 + r) + ysd = 1.



-->


<p>


\begin{align*}
x(1+r)+ysu=3\\ x(1+r)+ysd=1.
\end{align*}
Which has solution \(x=\frac {1}{1+r}\l (3-\frac {2su}{su-sd}\r )\) and \(y=\frac {2}{s(u-d)}\).
</p>
<p>
Hence, the value of this contingent claim at time \(0\) is \(x+sy=\frac {1}{1+r}\l (3-\frac {su}{su-sd}\r )+\frac {1}{u-d}\).
</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#ps:contingent_2"><b>5.3</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> If we buy two units of stock, at time \(1\), for a price \(K\) then our contingent claim is \(\Phi
(S_1)=2S_1-K\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> In a European put option, with strike price \(K\in (sd,su)\), we have the option to sell a single unit of
stock for strike price \(K\). It is advantageous to us to do so only if \(K&gt;S_1\), so
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{3}\)</span>
<!--
                                                           
                                                           
                                                           0
                                                                    if S1 = su,
                                                Φ(S1 ) =                           = max(K − S1 )                                          (A.4)                      --><a id="eq:eu_put_contingent"></a><!--
                                                           K − S1
                                                           
                                                                    if S1 = sd.

-->
<p>


\begin{equation}
\label {eq:eu_put_contingent} \Phi (S_1)=\begin{cases} 0 &amp; \text { if }S_1=su,\\ K-S_1 &amp; \text { if }S_1=sd.                      \end {cases} =\max (K-S_1)
\end{equation}


</p>
</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(c)</span></span></span> We \(S_1=su\) we sell a unit of stock for strike price \(K\) and otherwise do nothing. So our contingent
claim is
</p>
<p>
\[\Phi (S_1)=\begin {cases} K-S_1 &amp; \text { if }S_1=su,\\ 0 &amp; \text { if }S_1=sd.                     \end {cases} \]
</p>
</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(d)</span></span></span> Holding both the contracts in (b) and (c) at once, means that in both \(S_1=su\) and \(S-1=sd\), we end
up selling a single unit of stock for a fixed price \(K\). Our contingent claim for doing so is \(\Phi (S_1)-K-S_1\).
</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#ps:put_call_parity"><b>5.4</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> The contingent claims for the call and put options respectively are \(\max (S_1-K,0)\) from <span
class="textup" >(<a href="Hedging-in-one-period-model.html#eq:eu_call_op_contigent_2">5.6</a>)</span> and \(\max (K-S_1,0)\) from <span class="textup" >(<a
href="Solutions-exercises.html#eq:eu_put_contingent">A.4</a>)</span>. Using the risk neutral valuation formula from Proposition <a
href="Hedging-in-one-period-model.html#prop:one_period_pricing">5.2.6</a> we have
</p>
<p>
\[\Pi ^{call}_0=\frac {1}{1+r}\E ^\Q \l [\max (S_1-K,0)\r ],\quad \Pi ^{put}_0=\frac {1}{1+r}\E ^\Q \l [\max (K-S_1,0)\r ].\]
</p>
</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Hence,
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{4}\)</span>


<!--


                                                                                               1
                                                                               Πcall
                                                                                0    − Πput
                                                                                        0 =       EQ [max(S1 − K, 0) − max(K − S1 , 0)]
                                                                                              1+r
                                                                                               1
                                                                                            =     EQ [max(S1 − K, 0) + min(S1 − K, 0)]
                                                                                              1+r
                                                                                               1
                                                                                            =     EQ [S1 − K]
                                                                                              1+r
                                                                                               1  Q           
                                                                                            =      E [S1 ] − K
                                                                                              1+r




-->


<p>


\begin{align*}
\Pi ^{call}_0-\Pi ^{put}_0&amp;=\frac {1}{1+r}\E ^\Q \l [\max (S_1-K,0)-\max (K-S_1,0)\r ]\\ &amp;=\frac {1}{1+r}\E ^\Q \l [\max (S_1-K,0)+\min (S_1-K,0)\r ]\\ &amp;=\frac
{1}{1+r}\E ^\Q \l [S_1-K\r ]\\ &amp;=\frac {1}{1+r}\l (\E ^\Q \l [S_1\r ]-K\r )\\
\end{align*}
By <span class="textup" >(<a href="The-binomial-model.html#eq:risk_free_1">5.4</a>)</span> (or you can use Proposition <a
href="Hedging-in-one-period-model.html#prop:one_period_pricing">5.2.6</a> again) we have \(\frac {1}{1+r}\E ^\Q \l [S_1\r ]=S_0=s\), so we obtain
</p>
<p>
\[\Pi ^{call}_0-\Pi ^{put}_0=s-\frac {K}{1+r}.\]
</p>
<p>


</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#ps:contingent_3"><b>5.5</b></a> In the binomial model, the contingent claim of a European call option with strike price \(K\) is \(\Phi
(S_T)=\max (S_T-K)\).
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#ps:binomial_hedging"><b>5.6</b></a> A tree-like diagram of the possible changes in stock price, with the value of the contingent claim \(\Phi
(S_T)=\max (K-S_1,0)\) written on for the final time step looks like
</p>
<div class="center" >
<p>


<a href="sud_ex_1.jpg" target="_blank" ><img
      src="sud_ex_1.jpg"
      style="
      width:173pt;
      "
      class="inlineimage"
      alt="(image)"
></a>
</p>
</div>
<p>
By <span class="textup" >(<a href="The-binomial-model.html#eq:q_probs">5.3</a>)</span>, the risk free probabilities in this case are
</p>
<p>
\[q_u=\frac {(1+0.25)-0.5}{2.0-0.5}=0.5,\quad q_d=1-q_u=0.5.\]
</p>
<p>
Using Proposition <a href="Hedging-in-one-period-model.html#prop:one_period_pricing">5.2.6</a> recursively, as in Section <a href="Hedging.html#sec:binom_hedge">5.6</a>, we can put in the value
of the European put option at all nodes back to time \(0\), giving
</p>
<div class="center" >
<p>


<a href="sud_ex_2.jpg" target="_blank" ><img
      src="sud_ex_2.jpg"
      style="
      width:173pt;
      "
      class="inlineimage"
      alt="(image)"
></a>
</p>
</div>
<p>
Hence, the value of our European put option at time \(0\) is \(12\).
</p>
<p>
Changing the values of \(p_u\) and \(p_d\) do not alter value of our put option, since \(p_u\) and \(p_d\) do not appear in the pricing formulae.
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#ps:binomial_hedging_3"><b>5.7</b></a> A tree-like diagram of the possible changes in stock price, with the value of the option at all nodes of the
tree shown in (green) square boxes, and hedging portfolios \(h=(x,y)\) written (in red) for each node of the tree:
</p>
<div class="center" >
<p>


<a href="sud_ex_4.jpg" target="_blank" ><img
      src="sud_ex_4.jpg"
      style="
      width:173pt;
      "
      class="inlineimage"
      alt="(image)"
></a>
</p>
</div>
<p>
The hedging portfolios are found by solving linear equations of the form \(x+dSy=\wt {\Phi }(dS)\), \(x+uSy=\wt {\Phi }(uD)\), where \(\wt \Phi \) is the contingent claim and \(S\) the initial stock price of
the one period model associated to the given node. The value of the contingent claim at each node is then inferred from the hedging portfolio as \(V=x+Sy\).
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#ps:binomial_hedging_2"><b>5.8</b></a> A tree-like diagram of the possible changes in stock price, with the value of the option at all nodes of the
tree shown in (green) square boxes, and hedging portfolios \(h=(x,y)\) written (in red) for each node of the tree:
</p>
<div class="center" >
<p>


<a href="sud_ex_3.jpg" target="_blank" ><img
      src="sud_ex_3.jpg"
      style="
      width:173pt;
      "
      class="inlineimage"
      alt="(image)"
></a>
</p>
</div>
<p>
The hedging portfolios are found by solving linear equations of the form \(x+dSy=\wt {\Phi }(dS)\), \(x+uSy=\wt {\Phi }(uD)\), where \(\wt \Phi \) is the contingent claim and \(S\) the initial stock price of
the one period model associated to the given node. The value of the contingent claim at each node is then inferred from the hedging portfolio as \(V=x+Sy\).
</p>
<p>
The hedging portfolio is the same at each node. This is because the contingent claim of our call option always exceeds zero i.e.&nbsp;we are certain that at time \(T=2\) we would want to exercise our call option
and buy a single unit of stock for a price \(K=60\). Since there is no interest payable on cash, this means that we can replicate our option (at all times) by holding a single unit of stock, and \(-60\) in cash.
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#ps:bin_mart_2"><b>5.9</b></a> We have that \((S_t)\) is adapted (see Section <a
href="The-binomial-model-definition.html#sec:binom">5.4</a>) and since \(S_t\in (d^t,u^t)\) we have also that \(S_t\in L^1\). Hence, \(S_t\) is a martingale under \(\P \) if and only if \(\E ^\P
[S_{t+1}\|\F _t]=S_t\). That is if
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{4}\)</span>


<!--



                                                                                               EP [St+1 | Ft ] = E[Zt+1 St | Ft ]

                                                                                                               = St EP [Z | Ft ]

                                                                                                               = St EP [Z]



-->


<p>


\begin{align*}
\E ^\P [S_{t+1}\|\F _t]&amp;=\E [Z_{t+1}S_{t}\|\mc {F}_t]\\ &amp;=S_t\E ^\P [Z\|\mc {F}_t]\\ &amp;=S_t\E ^\P [Z]
\end{align*}
is equal to \(S_t\). Hence, \(S_t\) is a martingale under \(\P \) if and only if \(\E ^\P [Z_{t+1}]=up_u+dp_d=1.\)
</p>
<p>
Now consider \(M_t=\log S_t\), and assume that \(0&lt;d&lt;u\) and \(0&lt;s\), which implies \(S_t&gt;0\). Since \(S_t\) is adapted, so is \(M_t\). Since \(S_t\in S_t\in (d^t,u^t)\) we have \(M_t\in
(t \log d, t\log u)\) so also \(M_t\in L^1\). We have
</p>
<p>
\[M_t=\log \l (S_0\prod \limits _{i=1}^tZ_i\r )=\log (S_0)+\sum \limits _{i=1}^t Z_i.\]
</p>
<p>
Hence,
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{4}\)</span>


<!--

                                                                                                              t
                                                                                                              X
                                                                                  EP [Mt+1 |Ft ] = log S0 +         log(Zi ) + E[log(Zt+1 ) | Ft ]
                                                                                                              i=1

                                                                                               = Mt + EP [log Zt+1 ]

                                                                                               = Mt + pu log u + pd log d.



-->


<p>


\begin{align*}
\E ^\P [M_{t+1}|\mc {F}_t]&amp;=\log S_0+\sum \limits _{i=1}^{t}\log (Z_i)+\E [\log (Z_{t+1})\|\mc {F}_t]\\ &amp;=M_t+\E ^\P [\log Z_{t+1}]\\ &amp;=M_t+p_u\log u + p_d\log d.
\end{align*}
Here we use taking out what is known, since \(S_0\) and \(Z_i\in m\mc {F}_t\) for \(i\leq t\), and also that \(Z_{t+1}\) is independent of \(\mc {F}_t\). Hence, \(M_t\) is a martingale under \(\P \) if and
only if \(p_u\log u + p_d\log d=0\).
</p>
</li>
</ul>
<h5 id="autosec-276">Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></h5>
<a id="notes_1-autopage-276"></a>



<ul style="list-style-type:none">


<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#ps:conv_simple"><b>6.1</b></a> Since \(X_n\geq 0\) we have
</p>
<p>
\[\E [|X_n-0|]=\E [X_n]=\tfrac 122^{-n}=2^{-(n+1)}\]
</p>
<p>
which tends to \(0\) as \(n\to \infty \). Hence \(X_n\to 0\) in \(L^1\). Lemma <a href="Convergence-random-variables.html#lem:conv_modes">6.1.2</a> then implies that also \(X_n\to 0\) in
probability and in distribution. Also, \(0\leq X_n\leq 2^{-n}\) and \(2^{-n}\to 0\), so by the sandwich rule we have \(X_n\to 0\) as \(n\to \infty \), and hence \(\P [X_n\to 0]=1\), which means that
\(X_n\to 0\) almost surely.
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#ps:conv_simple_3"><b>6.2</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> We have \(X_n\stackrel {L^1}{\to } X\) and hence
</p>
<p>
\[\l |\E [X_n]-\E [X]\r |=|\E [X_n-X]|\leq \E [|X_n-X|]\to 0.\]
</p>
<p>
Here we use the linearity and absolute value properties of expectation. Hence, \(\E [X_n]\to \E [X]\).
</p>
</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Let \(X_1\) be a random variable such that \(\P [X_1=1]=\P [X_1=-1]=\frac 12\) and note that \(\E
[X_1]=0\). Set \(X_n=X_1\) for all \(n\geq 2\), which implies that \(\E [X_n]=0\to 0\) as \(n\to \infty \). But \(\E [|X_n-0|]=\E [|X_n|]=1\) so \(X_n\) does not converge to \(0\) in \(L^1\).
</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#ps:conv_simple_4"><b>6.3</b></a> We have \(X_n=X\) when \(U=2\), and \(|X_n-X|=\frac {1}{n}\) when \(U=0,1\). Hence, \(|X_n-X|\leq
\frac {1}{n}\) and by monotonicity of \(\E \) we have
</p>
<p>
\[\E \l [|X_n-X|\r ]\leq \frac {1}{n}\to 0\quad \text { as }n\to \infty ,\]
</p>
<p>
which means that \(X_n\stackrel {L^1}{\to }X\).
</p>
<p>
We can write
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{4}\)</span>


<!--



                                                                                P[Xn → X] = P[Xn → X, U = 0] + P[Xn → X, U = 1] + P[Xn → X, U = 2]
                                                                                                    1                    1
                                                                                          = P[1 +     → 0, U = 0] + P[1 − → 1, U = 1] + P[0 → 0, U = 2]
                                                                                                    n                    n
                                                                                          = P[U = 0] + P[U = 1] + P[U = 2]

                                                                                          = 1.



-->


<p>


\begin{align*}
\P [X_n\to X] &amp;=\P [X_n\to X, U=0]+\P [X_n\to X, U=1] + \P [X_n\to X, U=2]\\ &amp;=\P [1+\frac {1}{n}\to 0, U=0]+\P [1-\frac {1}{n}\to 1, U=1] + \P [0\to 0, U=2]\\ &amp;=\P
[U=0]+\P [U=1]+\P [U=2]\\ &amp;=1.
\end{align*}
Hence, \(X_n\stackrel {a.s.}{\to } X\).
</p>
<p>
By Lemma <a href="Convergence-random-variables.html#lem:conv_modes">6.1.2</a>, it follows that also \(X_n\to X\) in probability and in distribution.
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#ps:D_notP"><b>6.4</b></a> We have \(X_n=X_1=1-Y\) for all \(n\), so \(Y=0\iff X_n=1\) and \(Y=1\iff X_n=0\). Hence \(|Y-X_n|=1\) for all
\(n\). So, for example, with \(a=\frac 12\) we have \(\P [|X_n-Y|\geq a]=1\), which does not tend to zero as \(n\to \infty \). Hence \(X_n\) does not converge to \(Y\) in probability.
</p>
<p>
However, \(X_n\) and \(y\) have the same distribution, given by
</p>
<p>
\[\P [Y\leq x]=\P [X_n\leq x]= \begin {cases} 0 &amp; \text { if } x&lt;0\\ \frac 12 &amp; \text { if } x\in [0,1)\\ 1 &amp; \text { if }x\geq 1 \end {cases} \]
</p>
<p>
so we do have \(\P [X_n\leq x]\to \P [Y\leq x]\) as \(n\to \infty \). Hence \(X_n\stackrel {d}{\to }Y\).
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#ps:conv_simple_2"><b>6.5</b></a> Let \((X_n)\) be the sequence of random variables from <a
href="Exercises-on-Chapter-ref-chap-rv_conv.html#ps:conv_simple"><b>6.1</b></a>. Define \(Y_n=X_1+X_2+\ldots +X_n\).
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> For each \(\omega \in \Omega \), we have \(Y_{n+1}(\omega )=Y_n(\omega )+X_{n+1}(\omega )\).
Hence, \((Y_n(\omega )\) is an increasing sequence. Since \(X_n(\omega )\leq 2^{-n}\) for all \(n\) we have
</p>
<p>
\[|Y_n(\omega )|\leq 2^{-1}+2^{-2}+\ldots +2^{-n}\leq \sum \limits _{i=1}^\infty 2^{-i}=1,\]
</p>
<p>
meaning that the sequence \(Y_n(\omega )\) is bounded above by \(1\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Hence, since bounded increasing sequences converge, for any \(\omega \in \Omega \) the sequence
\(Y_n(\omega )\) converges.
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(c)</span></span></span> The value of \(Y_1\) is either \(0\) or \(\frac 12\), both with probability \(\frac 12\). The value of
\(Y_2\) is either \(0,\frac 14,\frac 12,\frac 34\), all with probability \(\frac 14\). The value of \(Y_3\) is either \(0,\frac 18,\frac 14,\frac 38,\frac 12,\frac 58,\frac 34,\frac 78\) all with
probability \(\frac 18\).
</p>
</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(d)</span></span></span> We can guess from (c) that the \(Y_n\) are becoming more and more evenly spread across \([0,1]\), so
we expect them to approach a uniform distribution as \(n\to \infty \).
</p>
</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(e)</span></span></span> We will use induction on \(n\). Our inductive hypothesis is
</p>
<ul style="list-style-type:none">


<li>
<p>
(IH)\(_n\): For all \(k=0,1,\ldots ,2^n-1\), it holds that \(\P [Y_n=k2^{-n}]=2^{-n}\).
</p>
</li>
</ul>
<p>
In words, this says that \(Y_n\) is uniformly distributed on \(\{k2^{-n}\-k=0,1,\ldots ,2^n-1\}\).
</p>
<p>
For the case \(n=1\), we have \(Y_1=X_1\) so \(\P [Y_1=0]=\P [Y_1=\tfrac 12]=\tfrac 12\), hence (IH)\(_1\) holds.
</p>
<p>
Now, assume that (IH)\(_n\) holds. We want to calculate \(\P [Y_{n+1}=k2^{-(n+1)}\) for \(k=0,1,\ldots ,2^{n+1}-1\). We consider two cases, dependent on whether \(k\) is even or odd.
</p>
<ul style="list-style-type:none">


<li>
<p>
• If \(k\) is even then we can write \(k=2j\) for some \(j=0,\ldots ,2^n-1\). Hence,
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{4}\)</span>


<!--



                                                                                            P[Yn+1 = k2−(n+1) ] = P[Yn+1 = j2−n ]

                                                                                                               = P[Yn = j2−n and Xn+1 = 0]

                                                                                                               = P[Yn = j2−n ]P[Xn+1 = 0]

                                                                                                               = 2−n 21

                                                                                                               = 2−(n+1) .



-->


<p>


\begin{align*}
\P [Y_{n+1}=k2^{-(n+1)}] &amp;=\P [Y_{n+1}=j2^{-n}]\\ &amp;=\P [Y_n=j2^{-n}\text { and }X_{n+1}=0]\\ &amp;=\P [Y_n=j2^{-n}]\P [X_{n+1}=0]\\ &amp;=2^{-n}\tfrac 12\\
&amp;=2^{-(n+1)}.
\end{align*}
Here we use that \(Y_n\) and \(X_{n+1}\) are independent, and use (IH)\(_n\) to calculate \(\P [Y_n=j2^{-n}]\).
</p>


</li>
<li>
<p>
• Alternatively, if \(k\) is odd then we can write \(k=2j+1\) for some \(j=0,\ldots ,2^n-1\). Hence,
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{4}\)</span>


<!--



                                                                                         P[Yn+1 = k2−(n+1) ] = P[Yn+1 = j2−n + 2−(n+1) ]

                                                                                                            = P[Yn = j2−n and Xn+1 = 2−(n+1) ]

                                                                                                            = P[Yn = j2−n ]P[Xn+1 = 2−(n+1) ]

                                                                                                            = 2−n 21

                                                                                                            = 2−(n+1) .



-->


<p>


\begin{align*}
\P [Y_{n+1}=k2^{-(n+1)}] &amp;=\P [Y_{n+1}=j2^{-n}+2^{-(n+1)}]\\ &amp;=\P [Y_n=j2^{-n}\text { and }X_{n+1}=2^{-(n+1)}]\\ &amp;=\P [Y_n=j2^{-n}]\P [X_{n+1}=2^{-(n+1)}]\\
&amp;=2^{-n}\tfrac 12\\ &amp;=2^{-(n+1)}.
\end{align*}
Here, again, we use that \(Y_n\) and \(X_{n+1}\) are independent, and use (IH)\(_n\) to calculate \(\P [Y_n=j2^{-n}]\).
</p>
</li>
</ul>
<p>
In both cases we have shown that \(\P [Y_{n+1}=k2^{-(n+1)}]=2^{-(n+1)}\), hence (IH)\(_{n+1}\) holds.
</p>
</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(f)</span></span></span> We know that \(Y_n\to Y\) almost surely, hence by Lemma <a
href="Convergence-random-variables.html#lem:conv_modes">6.1.2</a> the convergence also holds in distribution. Hence \(\P [Y_n\leq a]\to \P [Y\leq a]\).
</p>
<p>
From part (e), for any \(a\in [0,1]\) we have
</p>
<p>
\[(k-1)2^{-n}\leq a&lt;k2^{-n}\quad \ra \quad \P [Y_n\leq a]=k2^{-n}.\]
</p>
<p>
Hence \(a\leq \P [Y_n\leq a]\leq a+2^{-n}\), and the sandwich rule tells us that \(\P [Y_n\leq a]\to a\). Hence \(\P [Y\leq a]=a\), for all \(a\in [0,1]\), which means that \(Y\) has a uniform
distribution on \([0,1]\).
</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#ps:mct_reveal_tail"><b>6.7</b></a> Since \(\1\{X\leq n+1\}\geq 1\{X\leq n\}\) we have \(X_{n+1}\geq X_n\), and since \(X&gt;0\) we
have \(X_n\geq 0\). Further, for all \(\omega \in \Omega \), whenever \(X(w)&lt;n\) we have \(X_n(\omega )=X(\omega )\), and since \(\P [X(\omega )&lt;\infty ]=1\) this means that \(\P \l
[X_n(\omega )\to X(\omega )\r ]=1\). Hence \(X_n\stackrel {a.s.}{\to } X\).
</p>
<p>
Therefore, the monotone convergence theorem applies and \(\E [X_n]\to \E [X]\).
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#ps:mct_down"><b>6.6</b></a> Define \(X_n=-Y_n\). Then \(X_n\geq 0\) and \(X_{n+1}\geq X_n\), almost surely. Hence, \((X_n)\) satisfies the
conditions for the dominated convergence theorem and there exists a random variable \(X\) such that \(X_n\stackrel {a.s.}{\to }X\) and \(\E [X_n]\to \E [X]\). Define \(Y=-X\) and then we have
\(Y_n\stackrel {a.s.}{\to }Y\) and \(\E [Y_n]\to \E [Y]\).
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#ps:mct_fubini"><b>6.8</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> The equation
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{4}\)</span>
<!--

                                                    n            n
                                                "          #
                                                    X            X
                                            E             Xi =         E[Xi ]                                          (A.5)                                          --><a id="eq:fubini_mct_pre"></a><!--
                                                    i=1          i=1


-->
<p>


\begin{equation}
\label {eq:fubini_mct_pre} \E \l [\sum _{i=1}^n X_i\r ]=\sum _{i=1}^n \E [X_i]
\end{equation}


</p>
<p>
follows by iterating the linearity property of \(\E \) \(n\) times (or by a trivial induction). However, in \(\E \big [\sum _{i=1}^\infty X_i\big ]=\sum _{i=1}^\infty \E [X_i]\) both sides are defined by
infinite sums, which are limits, and the linearity property does not tell us anything about limits.
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> We’ll take a limit as \(n\to \infty \) on each side of <span class="textup" >(<a
href="Solutions-exercises.html#eq:fubini_mct_pre">A.5</a>)</span>. We’ll have to justify ourselves in each case.
</p>
<p>
First, consider the right hand side. Since we have \(X_n\geq 0\) almost surely, \(\E [X_n]\geq 0\) by monotonicity of \(\E \). Therefore, \(\sum _{i=1}^n \E [X_i]\) is an increasing sequence of real numbers.
Hence it is convergent (either to a real number or to \(+\infty \)) and, by definition of an infinite series, the limit is written \(\sum _{i=1}^\infty \E [X_i]\).
</p>
<p>
Now, the left hand side, and here we’ll need the monotone convergence theorem. Define \(Y_n=\sum _{i=1}^n X_i\). Then \(Y_{n+1}-Y_n=X_{n+1}\geq 0\) almost surely, so \(Y_{n+1}\geq Y_n\). Since
\(X_i\geq 0\) for all \(i\), also \(Y_n\geq 0\), almost surely. Hence the monotone convergence theorem applies and \(\E [Y_n]\to \E [Y_\infty ]\) where \(Y_\infty =\sum _{i=1}^\infty X_i\).
</p>
<p>
Putting both sides together (and using the uniqueness of limits to tell us that the limits on both sides must be equal as \(n\to \infty \)) we obtain that \(\E \big [\sum _{i=1}^\infty X_i\big ]=\sum
_{i=1}^\infty \E [X_i]\).
</p>
</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(c)</span></span></span> Since \(\P [X_i=1]=\P [X_i=-1]\), we have \(\E [X_i]=0\) and hence also \(\sum _{i=1}^\infty \E
[X_i]=0\). However, the limit \(\sum _{i=1}^\infty X_i\) is not well defined, because \(Y_n=\sum _{i=1}^n X_i\) oscillates (it jumps back and forth between \(0\) and \(1\)) and does not converge. Hence, in
this case \(\E \big [\sum _{i=1}^\infty X_i\big ]\) is not well defined.
</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#ps:unique_limit"><b>6.9</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> We have both \(\P [X_n\leq x]\to \P [X\leq x]\) and \(\P [X_n\leq x]\to \P [Y\leq x]\), so by
uniqueness of limits for real sequences, we have \(\P [X\leq x]=\P [Y\leq x]\) for all \(x\in \R \). Hence, \(X\) and \(Y\) have the same distribution (i.e.&nbsp;they have the same distribution functions
\(F_X(x)=F_Y(x)\)).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> By definition of convergence in probability, for any \(a&gt;0\), for any \(\epsilon &gt;0\) there exists
\(N\in \N \) such that, for all \(n\geq N\),
</p>
<p>
\[\P [|X_n-X|&gt;a]&lt;\epsilon \hspace {1pc}\text { and }\hspace {1pc}\P [|X_n-Y|&gt;a]&lt;\epsilon .\]
</p>
<p>
By the triangle inequality we have
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{5}\)</span>
<!--


                P[|X − Y | > 2a] = P[|X − Xn + Xn − Y | > 2a] ≤ P[|X − Xn | + |Xn − Y | > 2a].                            (A.6)                                       --><a id="eq:ps_uniq_limit"></a><!--


-->
<p>


\begin{equation}
\label {eq:ps_uniq_limit} \P [|X-Y|&gt;2a]=\P [|X-X_n+X_n-Y|&gt;2a]\leq \P [|X-X_n|+|X_n-Y|&gt;2a].
\end{equation}


</p>
<p>
If \(|X-X_n|+|X_n-Y|&gt;2a\) then \(|X-X_n|&gt;a\) or \(|X_n-Y|&gt;a\) (or possibly both). Hence, continuing <span class="textup" >(<a
href="Solutions-exercises.html#eq:ps_uniq_limit">A.6</a>)</span>,
</p>
<p>
\[\P [|X-Y|&gt;2a]\leq \P [|X_n-X|&gt;a]+\P [|X_n-Y|&gt;a]\leq 2\epsilon .\]
</p>
<p>
Since this is true for any \(\epsilon &gt;0\) and any \(a&gt;0\), we have \(\P [X=Y]=1\).
</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#ps:not_conv"><b>6.10</b></a> Suppose (aiming for a contradiction) that there exists and random variable \(X\) such that \(X_n\to X\) in
probability. By the triangle inequality we have
</p>
<p>
\[|X_n-X_{n+1}|\leq |X_n-X|+|X-X_{n+1}|\]
</p>
<p>
Hence, if \(|X_n-X_{n+1}|&gt;1\) then \(|X_n-X|&gt;\frac 12\) or \(|X_{n+1}-X|&gt;\frac 12\) (or both). Therefore,
</p>
<p>
\[\P \l [|X_n-X_{n+1}|&gt;1\r ]\leq \P \l [|X_n-X|&gt;\tfrac 12\r ]+\P \l [|X_{n+1}-X|&gt;\tfrac 12\r ].\]
</p>
<p>
Since \(X_n\to X\) in probability, the right hand side of the above tends to zero as \(n\to \infty \). This implies that
</p>
<p>
\[\P \l [|X_n-X_{n+1}|&gt;1\r ]\to 0\]
</p>
<p>
as \(n\to \infty \). But, \(X_n\) and \(X_{n+1}\) are independent and \(\P [X_n=1,X_{n+1}=0]=\frac 14\) so \(\P [|X_n-X_{n+1}|&gt;1]\geq \frac 14\) for all \(n\). Therefore we have a contradiction,
so there is no \(X\) such that \(X_n\to X\) in probability.
</p>
<p>
Hence, by Lemma <a href="Convergence-random-variables.html#lem:conv_modes">6.1.2</a>, we can’t have any \(X\) such that \(X_n\to X\) almost surely or in \(L^1\) (since it would imply convergence in
probability).
</p>
<p>


</p>
</li>
</ul>
<h5 id="autosec-277">Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></h5>
<a id="notes_1-autopage-277"></a>



<ul style="list-style-type:none">


<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:mart_tranfs_calcs"><b>7.1</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> We have \((C\circ M)_n=\sum _{i=1}^n 0(S_i-S_{i-1})=0.\)
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> We have \((C\circ M)_n=\sum _{i=1}^n 1(S_i-S_{i-1})=S_n-S_0=S_n.\)
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(c)</span></span></span> We have
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{6}\)</span>


<!--

                                                                                                      n
                                                                                                      X
                                                                                      (C ◦ M )n =           Si−1 (Si − Si−1 )
                                                                                                      i=1
                                                                                                      Xn
                                                                                                  =         (X1 + . . . + Xi−1 )Xi
                                                                                                      i=1
                                                                                                       n
                                                                                                                   !2          n
                                                                                                    1 X                     1X
                                                                                                  =       Xi            −        X2
                                                                                                    2 i=1                   2 i=1 i
                                                                                                      Sn2   n
                                                                                                  =       −
                                                                                                       2    2


-->


<p>


\begin{align*}
(C\circ M)_n &amp;=\sum _{i=1}^n S_{i-1}(S_i-S_{i-1})\\ &amp;=\sum _{i=1}^n (X_1+\ldots +X_{i-1})X_i\\ &amp;=\frac 12\l (\sum _{i=1}^n X_i\r )^2-\frac 12\sum _{i=1}^n X_i^2\\
&amp;=\frac {S_n^2}{2}-\frac {n}{2}
\end{align*}
In the last line we use that \(X_i^2=1\).
</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:mart_tranfs_linear"><b>7.2</b></a> We have
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{6}\)</span>


<!--

                                                                                      n
                                                                                      X
                                                                        (X ◦ M )n =     (αCn−1 + βDn−1 )(Mn − Mn−1 )
                                                                                      i=1
                                                                                        Xn                                  n
                                                                                                                            X
                                                                                  =α         Cn−1 (Mn − Mn−1 ) + β                Dn−1 (Mn − Mn−1 )
                                                                                       i=1                                  i=1

                                                                                  = α(C ◦ M )n + β(C ◦ M )n



-->


<p>


\begin{align*}
(X\circ M)_n &amp;=\sum \limits _{i=1}^n (\alpha C_{n-1}+\beta D_{n-1})(M_n-M_{n-1})\\ &amp;=\alpha \sum \limits _{i=1}^n C_{n-1}(M_n-M_{n-1}) + \beta \sum \limits _{i=1}^n
D_{n-1}(M_n-M_{n-1})\\ &amp;=\alpha (C\circ M)_n + \beta (C\circ M)_n
\end{align*}
as required.
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:rw_converge"><b>7.3</b></a> We note that
</p>
<p>
\[|S_n|\leq \sum \limits _{i=1}^n\frac {1}{i^2}\leq \sum \limits _{i=1}^\infty \frac {1}{i^2}&lt;\infty .\]
</p>
<p>
Hence \(S_n\in L^1\) and, moreover, \(\E [|S_n|]\leq \sum _{i=1}^\infty \frac {1}{i^2}\) so \(S_n\) is bounded in \(L^1\). Since \(X_i\in \mc {F}_n\) for all \(i\leq n\), we have also that \(S_n\in
m\mc {F}_n\). Lastly,
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{6}\)</span>


<!--


                                                                                                             Xn+1
                                                                                                                                   
                                                                                   E[Sn+1 | Fn ] = E Sn +             Fn
                                                                                                            (n + 1)2
                                                                                                            1
                                                                                                  = Sn +          E [Xn+1 | Fn ]
                                                                                                         (n + 1)2
                                                                                                            1
                                                                                                  = Sn +          E [Xn+1 ]
                                                                                                         (n + 1)2
                                                                                                  = Sn .



-->


<p>


\begin{align*}
\E [S_{n+1}\|\mc {F}_n] &amp;=\E \l [S_n+\frac {X_{n+1}}{(n+1)^2}\,\Big |\,\mc {F}_n\r ]\\ &amp;=S_n+\frac {1}{(n+1)^2}\E \l [X_{n+1}\|\mc {F}_n\r ]\\ &amp;=S_n+\frac
{1}{(n+1)^2}\E \l [X_{n+1}\r ]\\ &amp;=S_n.
\end{align*}
Therefore, \(S_n\) is a martingale, and (due to \(L^1\) boundedness from above) the martingale convergence theorem applies. Hence, there exists some real-valued random variable \(S_\infty \) such that
\(S_n\stackrel {a.s.}{\to }S_\infty \).
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:rw_simulate"><b>7.4</b></a> Here’s some <kbd>R</kbd> code to plot \(1000\) time-steps of the symmetric random walk. Changing the
value given to <kbd>set.seed</kbd> will generate a new sample.
</p>
> T=1000
> set.seed(1)
<pre  class="verbatim">
> x=c(0,2*rbinom(T-1,1,0.5)-1)
> y=cumsum(x)
> par(mar=rep(2,4))
> plot(y,type="l")
</pre>


<p>
Adapting it to plot the asymmetric case and the random walk from exercise <a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:rw_converge"><b>7.3</b></a> is left for you.
</p>
<p>
In case you prefer Python, here’s some Python code that does the same job. (I prefer Python.)
</p>
import random
import numpy as np
<pre class="verbatim">
import matplotlib.pyplot as plt
%matplotlib inline


p = 0.5
rr = np.random.random(1000)
step = 2*(rr < p) - 1


start = 0
positions = [start]
for x in step:
      positions.append(positions[-1] + x)


plt.plot(positions)
plt.show()
</pre>


</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:rw_to_zero"><b>7.5</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> This is a trivial induction: if \(S_n\) is even then \(S_{n+1}\) is odd, and vice versa.
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> By part (a), \(p_{2n+1}=0\) since \(0\) is an even number and \(S_{2n+1}\) is an odd number.
</p>
<p>
If \(S_n\) is to start at zero and reach zero at time \(2n\), then during time \(1,2,\ldots ,2n\) it must have made precisely \(n\) steps upwards and precisely \(n\) steps downwards. The number of different
ways in which the walk can do this is \(\binom {2n}{n}\) (we are choosing exactly \(n\) steps on which to go upwards, out of \(2n\) total steps). Each one of these ways has probability \((\frac 12)^{2n}\) of
occurring, so we obtain \(p_{2n}=\binom {2n}{n}2^{-2n}\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(c)</span></span></span> From (b) we note that
</p>
<p>
\[p_{2(n+1)}=\frac {(2n+2)(2n+1)}{(n+1)(n+1)}2^{-2}p_{2n}=2\l (\frac {2n+1}{n+1}\r )2^{-2}p_n=\l (\frac {2n+1}{2n+2}\r )p_{2n}=\l (1-\frac {1}{2(n+1)}\r )\frac 12 p_{2n}.\]
</p>
<p>
Hence, using the hint, we have
</p>
<p>
\[p_{2(n+1)}\leq \exp \l (-\frac {1}{2(n+1)}\r )p_{2n}.\]
</p>
<p>
Iterating this formula obtains that
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{6}\)</span>


<!--


                                                                                                            1          1                  1
                                                                                                                                                                               
                                                                                             p2n   ≤ exp −    exp −          . . . exp −      p0
                                                                                                           2n       2(n − 1)             2(1)
                                                                                                              n
                                                                                                                         !
                                                                                                           1X    1
                                                                                                   = exp −         .                                         (A.7)                                           --><a id="eq:ssrw_p2n"></a><!--
                                                                                                           2 i=1 i


-->


<p>


\begin{align}
p_{2n} &amp;\leq \exp \l (-\frac {1}{2n}\r )\exp \l (-\frac {1}{2(n-1)}\r )\ldots \exp \l (-\frac {1}{2(1)}\r )p_0\notag \\ &amp;=\exp \l (-\frac {1}{2}\sum \limits _{i=1}^n\frac
{1}{i}\r ).\label {eq:ssrw_p2n}
\end{align}
Recall that \(\sum _{i=1}^n\frac {1}{i}\to \infty \) as \(n\to \infty \), and that \(e^{-x}\to 0\) as \(x\to \infty \). Hence, the right hand side of the expression above tends to zero as \(n\to
\infty \). Hence, since \(p_{n}\geq 0\), by the sandwich we have \(p_{2n}\to 0\) as \(n\to \infty \).
</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:gw_when_dies_out"><b>7.6</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Take the offspring distribution to be \(\P [G=0]=1\). Then \(Z_1=0\), and hence \(Z_n=0\) for all
\(n\geq 1\), so \(Z_n\) dies out.
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Take the offspring distribution to be \(\P [G=2]=1\). Then \(Z_{n+1}=2Z_n\), so \(Z_n=2^n\), and
hence \(Z_n\to \infty \).
</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:urn_mean_revert"><b>7.7</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> We have
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{7}\)</span>


<!--



                                                                            E[Mn+1 | Fn ] = E Mn+1 1{nth draw is red} Fn + E Mn+1 1{nth draw is black} Fn
                                                                                              h                                                i            h                                     i


                                                                                               Bn                                  B +1
                                                                                                                                                                                                   
                                                                                         =E          1{nth draw is red} Fn + E n          1{nth draw is black} Fn
                                                                                              n+3                                   n+3
                                                                                            Bn                             i B +1 h
                                                                                                 E 1{nth draw is red} Fn +             E 1{nth draw is black} Fn
                                                                                                   h                                                             i
                                                                                                                                 n
                                                                                         =
                                                                                           n+3                                  n+3
                                                                                            Bn Bn         Bn + 1         Bn
                                                                                                                            
                                                                                         =             +           1−
                                                                                           n+3n+2          n+3          n+2
                                                                                                 Bn2         Bn (n + 2) + (n + 2) − Bn2 − Bn
                                                                                         =                +
                                                                                           (n + 2)(n + 3)             (n + 2)(n + 3)
                                                                                           (n + 1)Bn + (n + 2)
                                                                                         =
                                                                                              (n + 2)(n + 3)


-->


<p>


\begin{align*}
\E [M_{n+1}\|\mc {F}_n] &amp;=\E \l [M_{n+1}\1\{n^{th}\text { draw is red}\}\,\Big |\,\mc {F}_n\r ] +\E \l [M_{n+1}\1\{n^{th}\text { draw is black}\}\,\Big |\,\mc {F}_n\r ]\\
&amp;=\E \l [\frac {B_n}{n+3}\,\1\{n^{th}\text { draw is red}\}\,\Big |\,\mc {F}_n\r ] +\E \l [\frac {B_n+1}{n+3}\,\1\{n^{th}\text { draw is black}\}\,\Big |\,\mc {F}_n\r ]\\
&amp;=\frac {B_n}{n+3}\E \l [\1\{n^{th}\text { draw is red}\}\,\Big |\,\mc {F}_n\r ] +\frac {B_n+1}{n+3}\E \l [\,\1\{n^{th}\text { draw is black}\}\,\Big |\,\mc {F}_n\r ]\\
&amp;=\frac {B_n}{n+3}\frac {B_n}{n+2}+\frac {B_n+1}{n+3}\l (1-\frac {B_n}{n+2}\r )\\ &amp;=\frac {B_n^2}{(n+2)(n+3)}+\frac {B_n(n+2)+(n+2)-B_n^2-B_n}{(n+2)(n+3)}\\ &amp;=\frac
{(n+1)B_n+(n+2)}{(n+2)(n+3)}
\end{align*}
This is clearly not equal to \(M_n=\frac {B_n}{n+2}\), so \(M_n\) is not a martingale.
</p>
<p>
<i>This result might be rather surprising, but we should note that the urn process here is not ‘fair’, when considered in terms of the proportion of (say) red balls. If we started with more red balls than black balls,
then over time we would expect to see the proportion of red balls reduce towards \(\frac 12\), as we see in part (b):</i>
</p>
</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Your conjecture should be that, regardless of the initial state of the urn, \(\P [M_n\to \frac 12\text {
as }n\to \infty ]=1\). (It is true.)
</p>
<p>


</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:urn_moran"><b>7.8</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Let \(B_n\) be the number of red balls in the urn at time \(n\), and then \(M_n=\frac {B_n}{K}\). Let
us abuse notation slightly and write \(B=r\) for the event that the ball \(X\) is red, and \(X=b\) for the event that the ball \(X\) is black. Let \(X_1\) denote the first ball drawn on the \((n+1)^{th}\) draw, and
\(X_2\) denote the second ball drawn.
</p>
<p>
Let \(\mc {F}_n=\sigma (B_1,\ldots ,B_n)\). It is clear that \(M_n\in [0,1]\), so \(M_n\in L^1\), and that \(M_n\) is measurable with respect to \(\mc {F}_n\). We have
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{7}\)</span>


<!--



                                                                            E[Mn+1 | Fn ] = E Mn+1 1{X1 =r,X2 =r} | Fn + E Mn+1 1{X1 =r,X2 =b} | Fn
                                                                                              h                                  i             h                                        i


                                                                                               + E Mn+1 1{X1 =b,X2 =r} | Fn + E Mn+1 1{X1 =b,X2 =b} | Fn
                                                                                                       h                                   i            h                                     i

                                                                                                Bn                              B +1
                                                                                                                                                                                     
                                                                                         =E        1{X1 =r,X2 =r} | Fn + E n           1{X1 =r,X2 =b} | Fn
                                                                                                K                                 K
                                                                                                     Bn − 1                              B
                                                                                                                                                             
                                                                                               +E            1{X1 =b,X2 =r} | Fn + E n 1{X1 =b,X2 =b} | Fn
                                                                                                       K                                 K
                                                                                             Bn                             Bn + 1
                                                                                                E 1{X1 =r,X2 =r} | Fn +            E 1{X1 =r,X2 =b} | Fn
                                                                                                 h                    i              h                    i
                                                                                         =
                                                                                             K                                K
                                                                                                 Bn − 1 h                        i B
                                                                                                         E 1{X1 =b,X2 =r} | Fn +         E 1{X1 =b,X2 =b} | Fn
                                                                                                                                           h                    i
                                                                                                                                       n
                                                                                               +
                                                                                                    K                                K
                                                                                             Bn Bn Bn Bn + 1 Bn K − Bn
                                                                                         =             +
                                                                                             K K K            K K          K
                                                                                                 Bn − 1 K − Bn Bn Bn K − Bn K − Bn
                                                                                               +                         +
                                                                                                    K        K       K      K      K        K
                                                                                              1  3        2                                                                 2
                                                                                                                                                                               
                                                                                         =       B n +  2B n (K  −  B n ) + B n (K − B)n  −  B n (K  −  B n ) + B n (K − Bn )
                                                                                             K3
                                                                                              1  2 
                                                                                         =       K Bn
                                                                                             K3
                                                                                         = Mn



-->


<p>


\begin{align*}
\E [M_{n+1}\|\mc {F}_{n}] &amp;=\E \l [M_{n+1}\1_{\{X_1=r, X_2=r\}}\|\mc {F}_n\r ]+\E \l [M_{n+1}\1_{\{X_1=r, X_2=b\}}\|\mc {F}_n\r ]\\ &amp;\hspace {2pc}+\E \l
[M_{n+1}\1_{\{X_1=b, X_2=r\}}\|\mc {F}_n\r ]+\E \l [M_{n+1}\1_{\{X_1=b, X_2=b\}}\|\mc {F}_n\r ]\\ &amp;=\E \l [\frac {B_n}{K}\1_{\{X_1=r, X_2=r\}}\|\mc {F}_n\r ]+\E \l [\frac
{B_n+1}{K}\1_{\{X_1=r, X_2=b\}}\|\mc {F}_n\r ]\\ &amp;\hspace {2pc}+\E \l [\frac {B_n-1}{K}\1_{\{X_1=b, X_2=r\}}\|\mc {F}_n\r ]+\E \l [\frac {B_n}{K}\1_{\{X_1=b, X_2=b\}}\|\mc
{F}_n\r ]\\ &amp;=\frac {B_n}{K}\E \l [\1_{\{X_1=r, X_2=r\}}\|\mc {F}_n\r ]+\frac {B_n+1}{K}\E \l [\1_{\{X_1=r, X_2=b\}}\|\mc {F}_n\r ]\\ &amp;\hspace {2pc}+\frac {B_n-1}{K}\E \l
[\1_{\{X_1=b, X_2=r\}}\|\mc {F}_n\r ]+\frac {B_n}{K}\E \l [\1_{\{X_1=b, X_2=b\}}\|\mc {F}_n\r ]\\ &amp;=\frac {B_n}{K}\frac {B_n}{K}\frac {B_n}{K}+\frac {B_n+1}{K}\frac
{B_n}{K}\frac {K-B_n}{K}\\ &amp;\hspace {2pc}+\frac {B_n-1}{K}\frac {K-B_n}{K}\frac {B_n}{K}+\frac {B_n}{K}\frac {K-B_n}{K}\frac {K-B_n}{K}\\ &amp;=\frac {1}{K^3}\l
(B_n^3+2B_n^2(K-B_n)+B_n(K-B)n-B_n(K-B_n)+B_n(K-B_n)^2\r )\\ &amp;=\frac {1}{K^3}\l (K^2B_n\r )\\ &amp;=M_n
\end{align*}


</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Since \(M_n\in [0,1]\) we have \(\E [|M_n|]\leq 1\), hence \(M_n\) is bounded in \(L^1\). Hence,
by the martingale convergence theorem there exists a random variable \(M_\infty \) such that \(M_n\stackrel {a.s.}{\to }M_\infty \).
</p>
<p>
Since \(M_n=\frac {B_n}{K}\), this means that also \(B_n\stackrel {a.s.}{\to }KM_\infty \). However, \(B_n\) is integer valued so, by Lemma <a
href="Long-term-behaviour-stochastic-processes.html#lem:Z_ev_const">7.4.1</a>, if \(B_n\) is to converge then it must eventually become constant. This can only occur if, eventually, the urn contains
either (i) only red balls or (ii) only black balls.
</p>
<p>
In case (i) we have \(M_n=0\) eventually, which means that \(M_\infty =0\). In case (ii) we have \(M_n=1\) eventually, which means that \(M_\infty =1\). Hence, \(M_\infty \in \{0,1\}\) almost surely.
</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:urn_initial_conds"><b>7.9</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Consider the <i>usual</i> Po&#x0301;lya urn, from Section <a
href="Urn-processes.html#sec:urn">4.2</a>, started with just one red ball and one black ball. After the first draw is complete we have two possibilities:
</p>
<ul style="list-style-type:none">


<li>
<p>
1. The urn contains one red ball and two black balls.
</p>


</li>
<li>
<p>
2. The urn contains two red balls and one black ball.
</p>
</li>
</ul>
<p>
In the first case we reach precisely the initial state of the urn described in <a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:urn_initial_conds"><b>7.9</b></a>. In the second case we also
reach the initial state of the urn described in <a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:urn_initial_conds"><b>7.9</b></a>, but with the colours red and black swapped.
</p>
<p>
If \(M_n\stackrel {a.s.}{\to } 0\), then in the first case the fraction of red balls would tend to zero, and (by symmetry of colours) in the second case the limiting fraction of black balls would tend to zero; thus
the limiting fraction of black balls would always be either \(1\) (the first case) or \(0\) (the second case). However, we know from Proposition <a
href="Long-term-behaviour-stochastic-processes.html#prop:urn_limit">7.4.3</a> that the limiting fraction of black balls is actually uniform on \((0,1)\). Hence, \(\P [M_n\to 0]=0\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> You should discover that having a higher proportion of initial red balls makes it more likely for
\(M_\infty \) (the limiting proportion of red balls) to be closer to \(1\). However, since \(M_\infty \) is a random variable in this case, you may need to take several samples of the process (for each initial
condition that you try) to see the effect.
</p>
<p>
<b>Follow-up question:</b> In fact, the limiting value \(M_\infty \) has a Beta distribution, \(Be(\alpha ,\beta )\). You may need to look up what this means, if you haven’t seen the Beta distribution
before. Consider starting the urn with \(n_1\) red and \(n_2\) black balls, and see if you can use your simulations to guess a formula for \(\alpha \) and \(\beta \) in terms of \(n_1\) and \(n_2\) (the answer is
a simple formula!).
</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:rw_sign"><b>7.10</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> We note that
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{7}\)</span>


<!--


                                                                                                   Sn+1            Sn        1
                                                                                                                    
                                                                                              E           Fn =           +         E[Xn+1 | Fn ]
                                                                                                f (n + 1)      f (n + 1) f (n + 1)
                                                                                                                   Sn        1
                                                                                                             =           +         E[Xn+1 ]
                                                                                                               f (n + 1) f (n + 1)
                                                                                                                   Sn
                                                                                                             =
                                                                                                               f (n + 1)


-->


<p>


\begin{align*}
\E \l [\frac {S_{n+1}}{f(n+1)}\,\Big |\,\mc {F}_n\r ]&amp;=\frac {S_n}{f(n+1)}+\frac {1}{f(n+1)}\E [X_{n+1}\|\mc {F}_n]\notag \\ &amp;=\frac {S_n}{f(n+1)}+\frac {1}{f(n+1)}\E
[X_{n+1}]\notag \\ &amp;=\frac {S_n}{f(n+1)}
\end{align*}
Here we use that \(S_n\in m\mc {F}_n\) and that \(X_{n+1}\) is independent of \(\mc {F}_n\).
</p>
<p>
Since \(\frac {S_n}{f(n)}\) is a martingale we must have
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{7}\)</span>
<!--

                                                                   Sn       Sn
                                                                         =       .                                                                                     (A.8)                                    --><a id="eq:ESnfn"></a><!--
                                                               f (n + 1)   f (n)


-->
<p>


\begin{equation}
\label {eq:ESnfn} \frac {S_n}{f(n+1)}=\frac {S_n}{f(n)}.
\end{equation}


</p>
<p>
Since \(\P [S_n\neq 0]&gt;0\) this implies that \(\frac {1}{f(n+1)}=\frac {1}{f(n)}\), which implies that \(f(n+1)=f(n)\). Since this holds for any \(n\), we have \(f(1)=f(n)\) for all \(n\); so \(f\) is
constant.
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> If \(\frac {S_n}{f(n)}\) is to be a supermartingale then, in place of <span class="textup" >(<a
href="Solutions-exercises.html#eq:ESnfn">A.8</a>)</span>, we would need
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{8}\)</span>
<!--

                                                              Sn       Sn
                                                                    ≤       .                                                                           (A.9)                                             --><a id="eq:ssrw_fnmart"></a><!--
                                                          f (n + 1)   f (n)


-->
<p>


\begin{equation}
\label {eq:ssrw_fnmart} \frac {S_n}{f(n+1)}\leq \frac {S_n}{f(n)}.
\end{equation}


</p>
<p>
Note that we would need this equation to hold true with probability one. To handle the \(\geq \) we now need to care about the sign of \(S_n\). The key idea is that \(S_n\) can be both positive or negative, so
the only way that <span class="textup" >(<a href="Solutions-exercises.html#eq:ssrw_fnmart">A.9</a>)</span> can hold is if \(\frac {1}{f(n+1)}=\frac {1}{f(n)}\).
</p>
<p>
We will use some of the results from the solution of exercise <a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:rw_to_zero"><b>7.5</b></a>. In particular, from for odd \(n\in \N \) from
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:rw_to_zero"><b>7.5</b></a>(b) we have \(P[S_n=0]=0\), and for even \(n\in \N \) from <span class="textup" >(<a
href="Solutions-exercises.html#eq:ssrw_p2n">A.7</a>)</span> we have \(\P [S_n=0]&lt;1\). In both cases we have \(\P [S_n\neq 0]&gt;0\). Since \(S_n\) and \(-S_n\) have the same distribution we
have \(\P [S_n&lt;0]=\P [S_n&lt;0]\), and hence
</p>
<p>
\[\P [S_n\neq 0]=\P [S_n&lt;0]+\P [S_n&gt;0]=2\P [S_n&lt;0]=2\P [S_n&gt;0].\]
</p>
<p>
Hence, for all \(n\in \N \) we have \(\P [S_n&gt;0]&gt;0\) and \(\P [S_n&lt;0]&gt;0\).
</p>
<p>
Now, consider \(n\geq 1\). We have that here is positive probability that \(S_n&gt;0\). Hence, by <span class="textup" >(<a href="Solutions-exercises.html#eq:ssrw_fnmart">A.9</a>)</span>, we
must have \(\frac {1}{f(n+1)}\leq \frac {1}{f(n)}\), which means that \(f(n+1)\geq f(n)\). But, there is also positive probability that \(S_n&lt;0\), hence by <span class="textup" >(<a
href="Solutions-exercises.html#eq:ssrw_fnmart">A.9</a>)</span> we must have \(\frac {1}{f(n+1)}\geq \frac {1}{f(n)}\), which means that \(f(n+1)\leq f(n)\). Hence \(f(n+1)=f(n)\), for all
\(n\), and by a trivial induction we have \(f(1)=f(n)\) for all \(n\).
</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:gw_var"><b>7.11</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Since \(M_n=\frac {Z_n}{\mu ^n}\) we note that
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{9}\)</span>


<!--


                                                                                                              1
                                                                                                                   (Zn+1 − µZn )2 = (Mn+1 − Mn )2 .                                 (A.10)                   --><a id="eq:gw_sqr_1"></a><!--
                                                                                                           µ2(n+1)


-->


<p>


\begin{align}
\label {eq:gw_sqr_1} \frac {1}{\mu ^{2(n+1)}}(Z_{n+1}-\mu Z_n)^2=(M_{n+1}-M_n)^2.
\end{align}
Further,
</p>
<p>
\[Z_{n+1}-\mu Z_n=\sum \limits _{i=1}^{Z_n}(X^{n+1}_i-\mu )\]
</p>
<p>
so it makes sense to define \(Y_i=X^{n+1}_i-\mu \). Then \(\E [Y_i]=0\),
</p>
<p>
\[\E [Y_i^2]=\E [(X^{n+1}_i-\mu )^2]=\var (X^{n+1}_i)=\sigma ^2,\]
</p>
<p>
and \(Y_1,Y_2,\ldots ,Y_n\) are independent. Moreover, the \(Y_i\) are identically distributed and independent of \(\mc {F}_n\). Hence, by taking out what is known (\(Z_n\in m\mc {F}_n\)) we have
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{10}\)</span>


<!--

                                                                                                                                      
                                                                                                                                               Zn
                                                                                                                                                            !2         
                                                                                               h                         i                     X
                                                                                             E (Zn+1 − µZn )2 | Fn = E                                Yi           Fn 
                                                                                                                                               i=1
                                                                                                                                     Zn
                                                                                                                                     X                               Zn
                                                                                                                                                                     X
                                                                                                                             =             E[Yi2       | Fn ] +              E[Yi Yj | Fn ]
                                                                                                                                     i=1                             i,j=1
                                                                                                                                                                     i6=j
                                                                                                                                     Zn
                                                                                                                                     X                       Zn
                                                                                                                                                             X
                                                                                                                             =             E[Yi2 ] +                 E[Yi ]E[Yj ]
                                                                                                                                     i=1                     i,j=1
                                                                                                                                                             i6=j

                                                                                                                             = Zn E[Y1 ]2 + 0

                                                                                                                             = Zn σ 2 .



-->


<p>


\begin{align*}
\E \l [(Z_{n+1}-\mu Z_n)^2\|\mc {F}_n\r ] &amp;=\E \l [\l (\sum \limits _{i=1}^{Z_n}Y_{i}\r )^2\,\bigg |\,\mc {F}_n\r ]\\ &amp;=\sum \limits _{i=1}^{Z_n}\E [Y_{i}^2\|\mc
{F}_n]+\sum \limits _{\stackrel {i,j=1}{i\neq j}}^{Z_n}\E [Y_iY_j\|\mc {F}_n]\\ &amp;=\sum \limits _{i=1}^{Z_n}\E [Y_{i}^2]+\sum \limits _{\stackrel {i,j=1}{i\neq j}}^{Z_n}\E
[Y_i]\E [Y_j]\\ &amp;=Z_n\E [Y_1]^2+0\\ &amp;=Z_n\sigma ^2.
\end{align*}
So, from <span class="textup" >(<a href="Solutions-exercises.html#eq:gw_sqr_1">A.10</a>)</span> we obtain
</p>
<p>
\[\E [(M_{n+1}-M_n)^2\|\mc {F}_n]=\frac {Z_n\sigma ^2}{\mu ^{2(n+1)}}.\]
</p>
</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> By part (a) and <span class="textup" >(<a
href="Exercises-on-Chapter-ref-chap-cond_exp.html#eq:doob_decomp_pre">3.4</a>)</span>, we have
</p>
<p>
\[\E [M_{n+1}^2\|\mc {F}_n]=M_n^2+\frac {Z_n\sigma ^2}{\mu ^{2(n+1)}}.\]
</p>
<p>
Taking expectations, and using that \(\E [Z_n]=\mu ^n\), we obtain
</p>
<p>
\[\E [M_{n+1}^2]=\E [M_n^2]+\frac {\sigma ^2}{\mu ^{n+2}}.\]
</p>
<p>


</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:fatou_subst"><b>7.12</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Note that \(X_{n+1}\geq X_n\geq 0\) for all \(n\), because taking an \(\inf \) over \(k&gt;n+1\) is
an infimum over a smaller set than over \(k&gt;n\). Hence, \((X_n)\) is monotone increasing and hence the limit \(X_\infty (\omega )=\lim _{n\to \infty }X_n(\omega )\) exists (almost surely).
</p>
</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Since \(|M_n|\leq \inf _{k&gt;n}|M_k|\), we have \(X_n\leq |M_n|\). By definition of \(\inf \),
for each \(\epsilon &gt;0\) and \(n\in \N \) there exists some \(n’\geq n\) such that \(X_n\geq |X_{n’}|-\epsilon \). Combining these two properties, we obtain
</p>
<p>
\[|M_{n’}|-\epsilon \leq X_n\leq |M_n|.\]
</p>
</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(c)</span></span></span> Letting \(n\to \infty \), in the above equation, which means that also \(n’\to \infty \) because
\(n’\geq n\), we take an almost sure limit to obtain \(|M_\infty |-\epsilon \leq X_\infty \leq |M_\infty |\). Since we have this inequality for any \(\epsilon &gt;0\), in fact \(X_\infty =|M_\infty
|\) almost surely.
</p>
</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(d)</span></span></span> We have shown that \((X_n)\) is an increasing sequence and \(X_n\stackrel {a.s.}{\to } X_\infty
\), and since each \(|M_n|\geq 0\), we have also \(X_n\geq 0\). Hence, the monotone convergence theorem applies to \(X_n\) and \(X_\infty \), and therefore \(\E [X_n]\to \E [X_\infty ]\).
</p>
</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(e)</span></span></span> From the monotone convergence theorem, writing in terms of \(M_n\) rather than \(X_n\), we obtain
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{10}\)</span>
<!--

                                                                   
                                                 E inf |Mn | → E[|M∞ |].                                                                                     (A.11)                                            --><a id="eq:Mnconv"></a><!--
                                                      k≥n



-->
<p>


\begin{equation}
\label {eq:Mnconv} \E \l [\inf _{k\geq n}|M_n|\r ]\to \E [|M_\infty |].
\end{equation}


</p>
<p>
However, since \(\inf _{k\geq n}|M_n|\leq |M_n|\leq C=\sup _{j\in \N } \E [|M_j|]\), the monotonicity property of expectation gives us that, for all \(n\),
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{11}\)</span>
<!--

                                                                       
                                                      E inf |Mn | ≤ C.                                                                                 (A.12)                                                --><a id="eq:Mn_bound"></a><!--
                                                            k≥n



-->
<p>


\begin{equation}
\label {eq:Mn_bound} \E \l [\inf _{k\geq n}|M_n|\r ]\leq C.
\end{equation}


</p>
<p>
Combining <span class="textup" >(<a href="Solutions-exercises.html#eq:Mnconv">A.11</a>)</span> and <span class="textup" >(<a
href="Solutions-exercises.html#eq:Mn_bound">A.12</a>)</span>, with the fact that limits preserve weak inequalities, we obtain that \(\E [|M_\infty |]\leq C\), as required.
</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:gw_subcrit"><b>7.13</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> All the \(\wt {X}^{n+1}_i\) have the same distribution, and are independent by independence of the
\(X^{n+1}_i\) and \(C^{n+1}_i\). Thus, \(\wt {Z}_n\) is a Galton-Watson process with off-spring distribution \(\wt {G}\) given by the common distribution of the \(X^{n+1}_i\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> By definition of \(\wt {X}^{n+1}_i\) we have \(X^{n+1}_i\leq \wt {X}^{n+1}_i\). Hence, from
<span class="textup" >(<a href="Long-term-behaviour-stochastic-processes.html#eq:gw_iterative_defn">7.7</a>)</span>, if \(Z_{n}\leq \wt {Z}_n\) then also \(Z_{n+1}\leq \wt {Z}_{n+1}\).
Since \(Z_0=\wt {Z}_0=1\), an easy induction shows that \(Z_n\leq \wt {Z}_n\) for all \(n\in \N \).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(c)</span></span></span> We have
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{12}\)</span>


<!--


                                                                                                                    h            i
                                                                                                                     e n+1
                                                                                                           f (α) = E X i
                                                                                                                                                        ∞
                                                                                                                                                        X
                                                                                                                 = P[G = 0]P[C = 1] +                             iP[G = i]
                                                                                                                                                            i=1
                                                                                                                                           ∞
                                                                                                                                           X
                                                                                                                 = αP[G = 0] +                     iP[G = i].
                                                                                                                                           i=1



-->


<p>


\begin{align*}
f(\alpha )&amp;=\E \l [\wt {X}^{n+1}_i\r ]\\ &amp;=\P [G=0]\P [C=1]+\sum \limits _{i=1}^\infty i\P [G=i]\\ &amp;=\alpha \P [G=0]+\sum \limits _{i=1}^\infty i\P [G=i].
\end{align*}
Recall that each \(X^{n+1}_i\) has the same distribution as \(G\). Hence,
</p>
<p>
\[\mu =\E [X^{n+1}_i]=\E [G]=\sum _{i=1}^\infty i\P [G=i]=f(0).\]
</p>
<p>
Since \(\mu &lt;1\) we therefore have \(f(0)&lt;1\). Moreover,
</p>
<p>
\[f(1)=\P [G=0]+\sum _{i=1}^\infty i\P [G=i]\geq \sum _{i=0}^\infty \P [G=i]=1.\]
</p>
<p>
It is clear that \(f\) is continuous (in fact, \(f\) is linear). Hence, by the intermediate value theorem, there is some \(\alpha \in [0,1]\) such that \(f(\alpha )=1\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(d)</span></span></span> By (c), we can choose \(\alpha \) such that \(f(\alpha )=1\). Hence, \(\E [\wt {X}^{n+1}_i]=1\),
so by (a) \(\wt {Z}_n\) is a Galton-Watson process with an offspring distribution that has mean \(\hat {\mu }=1\). By Lemma <a
href="Long-term-behaviour-stochastic-processes.html#lem:gw_crit">7.4.6</a>, \(\wt {Z}\) dies out, almost surely. Since, from (b), \(0\leq Z_n\leq \wt {Z}_n\), this means \(Z_n\) must also die out,
almost surely.
</p>
</li>
</ul>
</li>
</ul>
<h5 id="autosec-281">Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a></h5>
<a id="notes_1-autopage-281"></a>



<ul style="list-style-type:none">


<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#ps:dct"><b>8.1</b></a> We have \(U^{-1}&lt;1\) so, for all \(\omega \in \Omega \), \(X_n(\omega )=U^{-n}(\omega )\to 0\) as
\(n\to \infty \). Hence \(X_n(\omega )\to 0\) almost surely as \(n\to \infty \). Further, \(|X_n|\leq 1\) for all \(n\in \N \) and \(\E [1]=1&lt;\infty \), so the dominated convergence theorem
applies and shows that \(\E [X_n]\to \E [0]=0\) as \(n\to \infty \).
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#ps:dct_L1"><b>8.2</b></a> We check the two conditions of the dominated convergence theorem. To check the first condition, note that if
\(n\geq |X|\) then \(X\1_{\{|X|\leq n\}}=X\). Hence, since \(|X|&lt;\infty \), as \(n\to \infty \) we have \(X_n=X\1_{\{|X|\leq n\}}\to X\) almost surely.
</p>
<p>
To check the second condition, set \(Y=|X|\) and then \(\E [|Y|]=\E [|X|]&lt;\infty \) so \(Y\in L^1\). Also, \(|X_n|=|X\1_{\{|X|\leq n\}}|\leq |X|=Y\), so \(Y\) is a dominated random variable for
\((X_n)\). Hence, the dominated convergence theorem applies and \(\E [X_n]\to \E [X]\).
</p>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#ps:dct_necsuff"><b>8.3</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> We look to use the dominated convergence theorem. For any \(\omega \in \Omega \) we have
\(Z(\omega )&lt;\infty \), hence for all \(n\in \N \) such that \(n&gt;Z(\omega )\) we have \(X_n(\omega )=0\). Therefore, as \(n\to \infty \), \(X_n(\omega )\to 0\), which means that \(X_n\to 0\)
almost surely.
</p>
<p>
We have \(|X_n|\leq Z\) and \(Z\in L^1\), so we can use \(Z\) are the dominating random variable. Hence, by the dominated convergence theorem, \(\E [X_n]\to \E [0]=0\).
</p>
</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> We have
</p>
<p>
\[\E [Z]=\int _1^\infty x f(x)\,dx=\int _1^\infty x^{-1}\,dx=\l [\log x\r ]_1^\infty =\infty \]
</p>
<p>
which means \(Z\notin L^1\) and also that
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{12}\)</span>


<!--

                                                                                                                     Z   ∞
                                                                          E[Xn ] = E[1{Z∈[n,n+1)} Z] =                         1{x∈[n,n+1)} xf (x) dx
                                                                                                                     1
                                                                                     Z   n+1                                                              
                                                                                                                                                           n+1
                                                                                                                                                                    
                                                                                 =             x   −1
                                                                                                        dx =   [log x]n+1
                                                                                                                      n         = log(n + 1) − log n = log     .
                                                                                     n                                                                      n


-->


<p>


\begin{align*}
\E [X_n]&amp;=\E [\1_{\{Z\in [n,n+1)\}}Z]=\int _1^\infty \1_{\{x\in [n,n+1)\}}x f(x)\,dx\\ &amp;=\int _{n}^{n+1} x^{-1}\,dx=\l [\log x\r ]_{n}^{n+1}=\log (n+1)-\log n=\log \l
(\frac {n+1}{n}\r ).
\end{align*}
As \(n\to \infty \), we have \(\frac {n+1}{n}=1+\frac {1}{n}\to 1\), hence (using that \(\log \) is a continuous function) we have \(\log (\frac {n+1}{n})\to \log 1=0\). Hence, \(\E [X_n]\to 0\).
</p>
</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(c)</span></span></span> Suppose that we wanted to use the DCT in (b). We still have \(X_n\to 0\) almost surely, but any
dominating random variable \(Y\) would have to satisfy \(Y\geq |X_n|\) for all \(n\), meaning that also \(Y\geq Z\), which means that \(\E [Y]\geq \E [Z]=\infty \); thus there is no dominating random
variable \(Y\in L^1\). Therefore, we can’t use the DCT here, but we have shown in (b) that the conclusion of the DCT does hold: we have that \(\E [X_n]\) does tend to zero.
</p>
<p>
We obtain that the conditions of the DCT are <i>sufficient</i> but not <i>necessary</i> for its conclusion to hold.
</p>
<p>


</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#ps:biased_walk"><b>8.4</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> Since \(T\) is a stopping time, and (from Section <a
href="Stochastic-processes.html#sec:asrw">4.1</a>) \(S_n-(p-q)n\) is a martingale, Theorem <a href="The-optional-stopping-theorem.html#stoppedmart">8.2.4</a> tells us that \(M_n=S_{T\wedge
n}-(T\wedge n)(p-q)\) is a martingale. We have \(\E [T]&lt;\infty \) from Lemma <a href="Hitting-probabilities-random-walks.html#lem:E_T_biased">8.3.1</a> and
</p>
<p>
\[|M_{n+1}-M_n|\leq |S_{n+1}-S_n|+|p-q|= 1+|p-q|.\]
</p>
<p>
To deduce the above equation we note that if \(T\leq n\) then \(M_n=M_{n+1}=M_T\), whereas if \(T&gt;n\) then \(M_n=S_n-n(p-q)\). Thus, condition (c) for the optional stopping theorem applies and \(\E
[M_T]=\E [M_0]\). That is,
</p>
<p>
\[\E [S_{T\wedge T}-(T\wedge T)(p-q)]=\E [S_{T\wedge 0}-(T\wedge 0)(p-q)]=\E [S_0-0(p-q)]=0.\]
</p>
<p>
We thus have
</p>
<p>
\[\E [S_T]=(p-q)\E [T].\]
</p>
<p>
as required.
</p>
</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> We have
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{12}\)</span>


<!--



                                                                                          E[ST ] = E[ST 1{T = Ta } + ST 1{T = Tb }]

                                                                                                        = E[a1{T = Ta } + b1{T = Tb }]

                                                                                                        = aP[T = Ta ] + bP[T = Tb ]
                                                                                                               (q/p)b − 1          1 − (q/p)a
                                                                                                        =a                   + b                 .
                                                                                                             (q/p)b − (q/p)a     (q/p)b − (q/p)a


-->


<p>


\begin{align*}
\E [S_T] &amp;=\E [S_T\1\{T=T_a\}+S_T\1\{T=T_b\}]\\ &amp;=\E [a\1\{T=T_a\}+b\1\{T=T_b\}]\\ &amp;=a\P [T=T_a]+b\P [T=T_b]\\ &amp;=a\frac {(q/p)^b-1}{(q/p)^b-(q/p)^a}+b\frac
{1-(q/p)^a}{(q/p)^b-(q/p)^a}.
\end{align*}
where in the last line we use equation <span class="textup" >(<a href="Hitting-probabilities-random-walks.html#eq:asym_rw_stopped">8.3</a>)</span>. This gives us
</p>
<p>
\[\E [T]=\frac {1}{p-q}\l (a\frac {(q/p)^b-1}{(q/p)^b-(q/p)^a}+b\frac {1-(q/p)^a}{(q/p)^b-(q/p)^a}\r ).\]
</p>
<p>


</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#ps:urn_sec"><b>8.5</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> We have
</p>
<p>
\[T=\inf \{n&gt;0\-B_n=2\}.\]
</p>
<p>
Note that \(T\geq n\) if and only if \(B_i=1\) for all \(i=1,2,\ldots ,n-1\). That is, if and only if we pick a red ball out of the urn at times \(i-1,2,\ldots ,n-1\). Hence,
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{12}\)</span>


<!--


                                                                                                                                12     n−1
                                                                                                             P[T ≥ n] =            ...
                                                                                                                                23      n
                                                                                                                                1
                                                                                                                               = .
                                                                                                                                n


-->


<p>


\begin{align*}
\P [T\geq n] &amp;=\frac {1}{2}\frac {2}{3}\ldots \frac {n-1}{n}\\ &amp;=\frac {1}{n}.
\end{align*}
Therefore, since \(\P [T=\infty ]\leq \P [T\geq n]\) for all \(n\), we have \(\P [T=\infty ]=0\) and \(\P [T&lt;\infty ]=1\).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> We note that \(T\) is a stopping time, with respect to \(\mc {F}_t=\sigma (B_i\-i\leq n)\), since
</p>
<p>
\[\{T\leq n\}=\{\text {a red ball was drawn at some time }i\leq n\}=\bigcup \limits _{i=1}^n\{B_i=2\}.\]
</p>
<p>
We showed in Section <a href="Urn-processes.html#sec:urn">4.2</a> that \(M_n\) was a martingale. Since \(M_n\in [0,1]\) the process \((M_n)\) is bounded. By part (a) for any \(n\in \N \) we have \(\P
[T=\infty ]\leq \P [T\geq n]\leq \frac {1}{n+1}\), hence \(\P [T=\infty ]=0\) and \(\P [T&lt;\infty ]=1\). Hence, we have condition (b) of the optional stopping theorem, so
</p>
<p>
\[\E [M_T]=\E [M_0]=\frac 12.\]
</p>
<p>
By definition of \(T\) we have \(B_T=2\). Hence \(M_T=\frac {2}{T+2}\), so we obtain \(\E [\frac {1}{T+2}]=\frac 14\).
</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#ps:urn_moran_fixation"><b>8.6</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> We showed in exercise <a
href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:urn_moran"><b>7.8</b></a> that, almost surely, there was a point in time at which the urn contained either all red balls or all black balls.
Hence, \(\P [T&lt;\infty ]=1\).
</p>
<p>
Moreover, almost surely, since the urn eventually contains either all red balls or all black balls, we have either \(M_T=1\) (all red balls) or \(M_T=0\) (all black balls).
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> We note that \(T\) is a stopping time, since
</p>
<p>
\[\{T\leq n\}=\big \{\text {for some }i\leq n\text { we have }M_n\in \{0,1\}\big \}=\bigcup _{i=0}^n M_i^{-1}(\{0,1\}).\]
</p>
<p>
In exercise <a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#ps:urn_moran"><b>7.8</b></a> we showed that \(M_n\) was a martingale. Since \(M_n\in [0,1]\) in fact \(M_n\) is a bounded
martingale, and we have \(\P [T&lt;\infty ]\) from above, so conditions (b) of the optional stopping theorem apply. Hence,
</p>
<p>
\[\E [M_T]=\E [M_0]=\frac {r}{r+b}.\]
</p>
<p>
Lastly, since \(M_T\) is either \(0\) or \(1\) (almost surely) we note that
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{12}\)</span>


<!--



                                                                                               E[MT ] = E[MT 1{MT =1} + MT 1{MT ]=0} ]

                                                                                                             = E[1{MT =1} ] + 0

                                                                                                             = P[MT = 1].



-->


<p>


\begin{align*}
\E [M_T] &amp;=\E [M_T\1_{\{M_T=1\}}+M_T\1_{\{M_T]=0\}}]\\ &amp;=\E [\1_{\{M_T=1\}}]+0\\ &amp;=\P [M_T=1].
\end{align*}
Hence, \(\P [M_T=1]=\frac {r}{r+b}\).
</p>
</li>
</ul>
</li>
<li>
<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#ps:urn_remove"><b>8.7</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(a)</span></span></span> We use the filtration \(\mc {F}_n=\sigma (N_i\-i\leq n)\). We have \(P_n\in m\mc {F}_n\) and
since \(0\leq P_n\leq 1\) we have also that \(P_n\in L^1\). Also,
</p>
<span class="hidden" > \(\seteqnumber{0}{A.}{12}\)</span>


<!--



                                                        E[Pn+1 | Fn ] = E[Pn+1 1{the nth ball was red} | Fn ] + E[Pn+1 1{the nth ball was blue} | Fn ]
                                                                            Nn − 1                                          Nn
                                                                                                                                                                     
                                                                     =E              1{the nth ball was red} Fn + E                 1{the nth ball was blue} Fn
                                                                         2m − n − 1                                     2m − n − 1
                                                                         Nn − 1                                         Nn
                                                                     =            E[1{the nth ball was red} | Fn ] +            E[1{the nth ball was blue} | Fn ]
                                                                       2m − n − 1                                    2m − n − 1
                                                                         Nn − 1     Nn          Nn       2m − n − Nn
                                                                     =                    +
                                                                       2m − n − 1 2m − n 2m − n − 1 2m − n
                                                                         Nn
                                                                     =
                                                                       2m − n
                                                                     = Pn .



-->


<p>


\begin{align*}
\E [P_{n+1}\|\mc {F}_n] &amp;=\E [P_{n+1}\1\{\text {the }n^{th}\text { ball was red}\}\|\mc {F}_n]+\E [P_{n+1}\1\{\text {the }n^{th}\text { ball was blue}\}\|\mc {F}_n]\\
&amp;=\E \l [\frac {N_n-1}{2m-n-1}\1\{\text {the }n^{th}\text { ball was red}\}\,\Big {|}\,\mc {F}_n\r ] +\E \l [\frac {N_n}{2m-n-1}\1\{\text {the }n^{th}\text { ball was
blue}\}\,\Big {|}\,\mc {F}_n\r ]\\ &amp;=\frac {N_n-1}{2m-n-1}\E [\1\{\text {the }n^{th}\text { ball was red}\}\|\mc {F}_n]+\frac {N_n}{2m-n-1}\E [\1\{\text {the }n^{th}\text {
ball was blue}\}\|\mc {F}_n]\\ &amp;=\frac {N_n-1}{2m-n-1}\frac {N_n}{2m-n}+\frac {N_n}{2m-n-1}\frac {2m-n-N_n}{2m-n}\\ &amp;=\frac {N_n}{2m-n}\\ &amp;=P_n.
\end{align*}
Here we use taking out what is known (since \(N_n\in m\mc {F}_n\)), along with the definition of our urn process to calculate e.g.&nbsp;\(\E [\1\{\text {the }n^{th}\text { ball was red}\}\|\mc
{F}_n]\) as a function of \(N_n\). Hence \((P_n)\) is a martingale.
</p>


</li>
<li>
<p>
<span class="textmd" ><span class="textrm" ><span class="textup" >(b)</span></span></span> Since \(0\leq P_n\leq 1\), the process \((P_n)\) is a bounded martingale. The time \(T\) is bounded
above by \(2m\), hence condition (b) for the optional stopping theorem holds and \(\E [P_T]=\E [P_0]\). Since \(P_0=\frac 12\) this gives us \(\E [P_T]=\frac 12\). Hence,
</p>
</li>
</ul>
<span class="hidden" > \(\seteqnumber{0}{A.}{12}\)</span>


<!--



                                                                              P[(T + 1)st ball is red] = P[NT +1 = NT + 1]
                                                                                                                     2m−1
                                                                                                                      X
                                                                                                                 =              P[NT +1 = NT + 1 | T = i]P[T = i]
                                                                                                                      i=1
                                                                                                                     2m−1
                                                                                                                      X         m−1
                                                                                                                 =                     P[T = i]
                                                                                                                         i=1
                                                                                                                                2m − i

                                                                                                                 = E[PT ]
                                                                                                                  1
                                                                                                                 = .
                                                                                                                  2


-->


<p>


\begin{align*}
\P [(T+1)^{st}\text { ball is red}] &amp;=\P [N_{T+1}=N_T+1]\\ &amp;=\sum \limits _{i=1}^{2m-1}\P [N_{T+1}=N_T+1\|T=i]\P [T=i]\\ &amp;=\sum \limits _{i=1}^{2m-1}\frac
{m-1}{2m-i}\P [T=i]\\ &amp;=\E [P_T]\\ &amp;=\frac 12.
\end{align*}
as required.
</p>
</li>
</ul>

</section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Formula-Sheet-part-one.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/452/6052 Stochastic Processes and Financial Mathematics, Sheffield University, September 23, 2020." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MASx52 — Formula Sheet (part one)</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />


<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
     subequations: "0",
     section: "",
     loader: {
         load: ['[tex]/tagFormat'],
     },
     startup: {
         ready() {
             //       These would be replaced by import commands if you wanted to make
             //       a proper extension.
             const Configuration = MathJax._.input.tex.Configuration.Configuration;
             const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
             const Macro = MathJax._.input.tex.Symbol.Macro;
             const TexError = MathJax._.input.tex.TexError.default;
             const ParseUtil = MathJax._.input.tex.ParseUtil.default;
             const expandable = MathJax._.util.Options.expandable;


             //       Insert the replacement string into the TeX string, and check
             //       that there haven't been too many maxro substitutions (prevents
             //       infinite loops).
             const useArgument = (parser, text) => {
                  parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
                  parser.i = 0;
                  if (++parser.macroCount > parser.configuration.options.maxMacros) {
                      throw new TexError('MaxMacroSub1',
                      'MathJax maximum macro substitution count exceeded; ' +
                      'is there a recursive macro call?');
                  }
             }


             //       Create the command map for \ifstar, \ifnextchar, \seteqnumber
             new CommandMap('ifstar-ifnextchar-setequnumber', {
                  ifstar: 'IfstarFunction',
                  ifnextchar: 'IfnextcharFunction',
                  seteqnumber: 'SeteqnumberFunction'
             }, {
                  //      This function implements an ifstar macro.
                  IfstarFunction(parser, name) {
                      const resultstar = parser.GetArgument(name);
                      const resultnostar = parser.GetArgument(name);
                      const star = parser.GetStar();                        // true if there is a *
                      useArgument(parser, star ? resultstar : resultnostar);
                  },


                  //      This function implements an ifnextchar macro.
                  IfnextcharFunction(parser, name) {
                      let whichchar = parser.GetArgument(name);
                      if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                          // $ syntax highlighting
                          whichchar = String.fromCodePoint(parseInt(whichchar));
                      }
                      const resultnextchar = parser.GetArgument(name);
                      const resultnotnextchar = parser.GetArgument(name);
                      const gotchar = (parser.GetNext() === whichchar);
                      useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
                  },


                  //      This function modifies the equation numbers.
                  SeteqnumberFunction(parser, name) {
                          //   Get the macro parameters
                          const star = parser.GetStar();                       // true if there is a *
                          const optBrackets = parser.GetBrackets(name);        // contents of optional brackets
                          const newsubequations = parser.GetArgument(name);       // the subequations argument
                          const neweqsection = parser.GetArgument(name);       // the eq section argument
                          const neweqnumber = parser.GetArgument(name);        // the eq number argument
                          MathJax.config.subequations=newsubequations ;        // a string with boolean meaning
                          MathJax.config.section=neweqsection ;                // a string with numeric meaning
                          parser.tags.counter = parser.tags.allCounter = neweqnumber ;
                  }
             });


             //       Create the ifstar-ifnextchar-setequnumber package
             Configuration.create('ifstar-ifnextchar-setequnumber', {
                  handler: {macro: ['ifstar-ifnextchar-setequnumber']}
             });


             MathJax.startup.defaultReady();


             // For forward references:
             MathJax.startup.input[0].preFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          MathJax.config.subequations = math.inputData.recompile.subequations;
                          MathJax.config.section = math.inputData.recompile.section;
                  }
             });
             MathJax.startup.input[0].postFilters.add(({math}) => {
                  if (math.inputData.recompile){
                          math.inputData.recompile.subequations = MathJax.config.subequations;
                          math.inputData.recompile.section = MathJax.config.section;
                  }
             });
         }       // ready
     },           // startup


     tex: {
         packages: {'[+]': ['tagFormat', 'ifstar-ifnextchar-setequnumber']},
         tags: "ams",
                  tagFormat: {
                          number: function (n) {
                               if(MathJax.config.subequations==0)
                                      return(MathJax.config.section + n);
                               else
                                      return(MathJax.config.section + String.fromCharCode(96+n));
                          },
                  },
     }
}
</script>


<script
         id="MathJax-script"
         src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
></script>


</head>
<body>



<a id="notes_1-autopage-282"></a>
<nav class="topnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 23, 2020
</p>

</header>



<div class="bodyandsidetoc" >
<div class="sidetoccontainer" >



<nav class="sidetoc" >



<div class="sidetoctitle" >

<p>
<span class="sidetocthetitle" >Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents" >

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-5" class="tocchapter" >
<span class="sectionnumber" >0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-6" class="tocsection" >
<span class="sectionnumber" >0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocchapter" >
<span class="sectionnumber" >1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-14" class="tocsection" >
<span class="sectionnumber" >1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-17" class="tocsection" >
<span class="sectionnumber" >1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-22" class="tocsection" >
<span class="sectionnumber" >1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-32" class="tocsection" >
<span class="sectionnumber" >1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-pricing.html#autosec-34" class="tocsection" >
<span class="sectionnumber" >1.5</span>&#x2003;Exercises on Chapter&nbsp;<a href="Expectation-Arbitrage.html#chap:pricing">1</a></a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-38" class="tocchapter" >
<span class="sectionnumber" >2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-39" class="tocsection" >
<span class="sectionnumber" >2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-49" class="tocsection" >
<span class="sectionnumber" >2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-63" class="tocsection" >
<span class="sectionnumber" >2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-69" class="tocsection" >
<span class="sectionnumber" >2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber" >2.5</span>&#x2003;Exercises on Chapter <a href="Probability-spaces-random-variables.html#chap:prob_meas">2</a></a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber" >3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber" >3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber" >3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber" >3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber" >3.4</span>&#x2003;Exercises on Chapter <a href="Conditional-expectation-martingales.html#chap:cond_exp">3</a></a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber" >4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber" >4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber" >4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-123" class="tocsection" >
<span class="sectionnumber" >4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-127" class="tocsection" >
<span class="sectionnumber" >4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs.html#autosec-130" class="tocsection" >
<span class="sectionnumber" >4.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes.html#chap:stoch_procs">4</a></a>
</p>



<p>
<a href="The-binomial-model.html#autosec-134" class="tocchapter" >
<span class="sectionnumber" >5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocsection" >
<span class="sectionnumber" >5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-143" class="tocsection" >
<span class="sectionnumber" >5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-154" class="tocsection" >
<span class="sectionnumber" >5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-156" class="tocsection" >
<span class="sectionnumber" >5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-160" class="tocsection" >
<span class="sectionnumber" >5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-169" class="tocsection" >
<span class="sectionnumber" >5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-bin_model.html#autosec-178" class="tocsection" >
<span class="sectionnumber" >5.7</span>&#x2003;Exercises on Chapter <a href="The-binomial-model.html#chap:bin_model">5</a></a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-183" class="tocchapter" >
<span class="sectionnumber" >6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-184" class="tocsection" >
<span class="sectionnumber" >6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-190" class="tocsection" >
<span class="sectionnumber" >6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-rv_conv.html#autosec-195" class="tocsection" >
<span class="sectionnumber" >6.3</span>&#x2003;Exercises on Chapter <a href="Convergence-random-variables.html#chap:rv_conv">6</a></a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-200" class="tocchapter" >
<span class="sectionnumber" >7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocsection" >
<span class="sectionnumber" >7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-204" class="tocsection" >
<span class="sectionnumber" >7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-210" class="tocsection" >
<span class="sectionnumber" >7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-218" class="tocsection" >
<span class="sectionnumber" >7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_1.html#autosec-237" class="tocsection" >
<span class="sectionnumber" >7.5</span>&#x2003;Exercises on Chapter <a href="Stochastic-processes-martingale-theory.html#chap:stoch_procs_1">7</a></a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-242" class="tocchapter" >
<span class="sectionnumber" >8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocsection" >
<span class="sectionnumber" >8.1</span>&#x2003;The dominated convergence theorem (\(\Delta \))</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-248" class="tocsection" >
<span class="sectionnumber" >8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="Hitting-probabilities-random-walks.html#autosec-255" class="tocsection" >
<span class="sectionnumber" >8.3</span>&#x2003;Hitting probabilities of random walks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-chap-stoch_procs_2.html#autosec-262" class="tocsection" >
<span class="sectionnumber" >8.4</span>&#x2003;Exercises on Chapter <a href="Further-theory-stochastic-processes.html#chap:stoch_procs_2">8</a> \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises.html#autosec-266" class="tocchapter" >
<span class="sectionnumber" >A</span>&#x2003;Solutions to exercises</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-283" class="tocchapter" >
<span class="sectionnumber" >B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<div class="bodycontainer" >



<section class="textbody" >

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden" >

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\‘{a}dl\‘{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<h3 id="autosec-283">Chapter&nbsp;<span class="sectionnumber" >B&#x2003;</span>Formula Sheet (part one)</h3>
<a id="notes_1-autopage-283"></a>
<a id="notes_1-autofile-41"></a>

<a id="sec:formula_sheet_1"></a>

<p>
The formula sheet displayed on the following page will be provided in the exam.
</p>
<div class="center" >

<p>
<span
      class="fbox"
      style="display:inline-block ; border:1pt solid #000000; padding:3pt ; color:#000000"
>
<a href="formula_sheet_01.png" target="_blank" ><img
      src="formula_sheet_01.png"
      style="
      width:434pt;
      "
      class="inlineimage"
      alt="(image)"
></a></span>
</p>
</div>
<a id="notes_1-autofile-last"></a> </section>

</div>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 23, 2020
</p>

</footer>



<nav class="botnavigation" ><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
