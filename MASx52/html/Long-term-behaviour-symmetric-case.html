<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 19, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>MAS352/61023 — Long term behaviour: symmetric case </title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-J4222H8D03"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-J4222H8D03');
</script>
<!-- Google tag (gtag.js) -->


</head>
<body>



<a id="notes_1-autopage-279"></a>
<nav class="topnavigation"><a href="notes_1.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 19, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part one)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_1.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="Introduction.html#autosec-4" class="tocchapter" >
<span class="sectionnumber">0</span>&#x2003;Introduction</a>
</p>



<p>
<a href="Introduction.html#autosec-5" class="tocsection" >
<span class="sectionnumber">0.1</span>&#x2003;Organization</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">1</span>&#x2003;Expectation and Arbitrage</a>
</p>



<p>
<a href="Expectation-Arbitrage.html#autosec-13" class="tocsection" >
<span class="sectionnumber">1.1</span>&#x2003;Betting on coin tosses</a>
</p>



<p>
<a href="The-one-period-market.html#autosec-16" class="tocsection" >
<span class="sectionnumber">1.2</span>&#x2003;The one-period market</a>
</p>



<p>
<a href="Arbitrage.html#autosec-21" class="tocsection" >
<span class="sectionnumber">1.3</span>&#x2003;Arbitrage</a>
</p>



<p>
<a href="Modelling-discussion.html#autosec-30" class="tocsection" >
<span class="sectionnumber">1.4</span>&#x2003;Modelling discussion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-pricing.html#autosec-32" class="tocsection" >
<span class="sectionnumber">1.5</span>&#x2003;Exercises on Chapter&nbsp;1</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-36" class="tocchapter" >
<span class="sectionnumber">2</span>&#x2003;Probability spaces and random variables</a>
</p>



<p>
<a href="Probability-spaces-random-variables.html#autosec-37" class="tocsection" >
<span class="sectionnumber">2.1</span>&#x2003;Probability measures and \(\sigma \)-fields</a>
</p>



<p>
<a href="Random-variables.html#autosec-47" class="tocsection" >
<span class="sectionnumber">2.2</span>&#x2003;Random variables</a>
</p>



<p>
<a href="Infinite.html#autosec-62" class="tocsection" >
<span class="sectionnumber">2.3</span>&#x2003;Infinite \(\Omega \)</a>
</p>



<p>
<a href="Expectation.html#autosec-68" class="tocsection" >
<span class="sectionnumber">2.4</span>&#x2003;Expectation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-prob_meas.html#autosec-77" class="tocsection" >
<span class="sectionnumber">2.5</span>&#x2003;Exercises on Chapter 2</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-82" class="tocchapter" >
<span class="sectionnumber">3</span>&#x2003;Conditional expectation and martingales</a>
</p>



<p>
<a href="Conditional-expectation-martingales.html#autosec-83" class="tocsection" >
<span class="sectionnumber">3.1</span>&#x2003;Conditional expectation</a>
</p>



<p>
<a href="Properties-conditional-expectation.html#autosec-89" class="tocsection" >
<span class="sectionnumber">3.2</span>&#x2003;Properties of conditional expectation</a>
</p>



<p>
<a href="Martingales.html#autosec-95" class="tocsection" >
<span class="sectionnumber">3.3</span>&#x2003;Martingales</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-cond_exp.html#autosec-106" class="tocsection" >
<span class="sectionnumber">3.4</span>&#x2003;Exercises on Chapter 3</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-110" class="tocchapter" >
<span class="sectionnumber">4</span>&#x2003;Stochastic processes</a>
</p>



<p>
<a href="Stochastic-processes.html#autosec-112" class="tocsection" >
<span class="sectionnumber">4.1</span>&#x2003;Random walks</a>
</p>



<p>
<a href="Urn-processes.html#autosec-118" class="tocsection" >
<span class="sectionnumber">4.2</span>&#x2003;Urn processes</a>
</p>



<p>
<a href="A-branching-process.html#autosec-124" class="tocsection" >
<span class="sectionnumber">4.3</span>&#x2003;A branching process</a>
</p>



<p>
<a href="Other-stochastic-processes.html#autosec-128" class="tocsection" >
<span class="sectionnumber">4.4</span>&#x2003;Other stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs.html#autosec-131" class="tocsection" >
<span class="sectionnumber">4.5</span>&#x2003;Exercises on Chapter 4</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-135" class="tocchapter" >
<span class="sectionnumber">5</span>&#x2003;The binomial model</a>
</p>



<p>
<a href="The-binomial-model.html#autosec-136" class="tocsection" >
<span class="sectionnumber">5.1</span>&#x2003;Arbitrage in the one-period model</a>
</p>



<p>
<a href="Hedging-in-one-period-model.html#autosec-144" class="tocsection" >
<span class="sectionnumber">5.2</span>&#x2003;Hedging in the one-period model</a>
</p>



<p>
<a href="Types-financial-derivative.html#autosec-155" class="tocsection" >
<span class="sectionnumber">5.3</span>&#x2003;Types of financial derivative</a>
</p>



<p>
<a href="The-binomial-model-definition.html#autosec-157" class="tocsection" >
<span class="sectionnumber">5.4</span>&#x2003;The binomial model (definition)</a>
</p>



<p>
<a href="Portfolios-arbitrage-martingales.html#autosec-162" class="tocsection" >
<span class="sectionnumber">5.5</span>&#x2003;Portfolios, arbitrage and martingales</a>
</p>



<p>
<a href="Hedging.html#autosec-171" class="tocsection" >
<span class="sectionnumber">5.6</span>&#x2003;Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bin_model.html#autosec-180" class="tocsection" >
<span class="sectionnumber">5.7</span>&#x2003;Exercises on Chapter 5</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-185" class="tocchapter" >
<span class="sectionnumber">6</span>&#x2003;Convergence of random variables</a>
</p>



<p>
<a href="Convergence-random-variables.html#autosec-186" class="tocsection" >
<span class="sectionnumber">6.1</span>&#x2003;Modes of convergence</a>
</p>



<p>
<a href="The-monotone-convergence-theorem.html#autosec-192" class="tocsection" >
<span class="sectionnumber">6.2</span>&#x2003;The monotone convergence theorem</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-rv_conv.html#autosec-196" class="tocsection" >
<span class="sectionnumber">6.3</span>&#x2003;Exercises on Chapter 6</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-201" class="tocchapter" >
<span class="sectionnumber">7</span>&#x2003;Stochastic processes and martingale theory</a>
</p>



<p>
<a href="Stochastic-processes-martingale-theory.html#autosec-202" class="tocsection" >
<span class="sectionnumber">7.1</span>&#x2003;The martingale transform</a>
</p>



<p>
<a href="Roulette.html#autosec-205" class="tocsection" >
<span class="sectionnumber">7.2</span>&#x2003;Roulette</a>
</p>



<p>
<a href="The-martingale-convergence-theorem.html#autosec-211" class="tocsection" >
<span class="sectionnumber">7.3</span>&#x2003;The martingale convergence theorem</a>
</p>



<p>
<a href="Long-term-behaviour-stochastic-processes.html#autosec-219" class="tocsection" >
<span class="sectionnumber">7.4</span>&#x2003;Long term behaviour of stochastic processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_1.html#autosec-238" class="tocsection" >
<span class="sectionnumber">7.5</span>&#x2003;Exercises on Chapter 7</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">8</span>&#x2003;Further theory of stochastic processes \((\Delta )\)</a>
</p>



<p>
<a href="Further-theory-stochastic-processes.html#autosec-244" class="tocsection" >
<span class="sectionnumber">8.1</span>&#x2003;The dominated convergence theorem \((\Delta )\)</a>
</p>



<p>
<a href="The-optional-stopping-theorem.html#autosec-249" class="tocsection" >
<span class="sectionnumber">8.2</span>&#x2003;The optional stopping theorem \((\Delta )\)</a>
</p>



<p>
<a href="The-stopped-field.html#autosec-256" class="tocsection" >
<span class="sectionnumber">8.3</span>&#x2003;The stopped \(\sigma \)-field \((\Delta )\)</a>
</p>



<p>
<a href="The-strong-Markov-property.html#autosec-260" class="tocsection" >
<span class="sectionnumber">8.4</span>&#x2003;The strong Markov property \((\Delta )\)</a>
</p>



<p>
<a href="Kolmogorov-0-1-law.html#autosec-263" class="tocsection" >
<span class="sectionnumber">8.5</span>&#x2003;Kolmogorov’s 0-1 law \((\star )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_2.html#autosec-267" class="tocsection" >
<span class="sectionnumber">8.6</span>&#x2003;Exercises on Chapter 8 \((\Delta )\)</a>
</p>



<p>
<a href="Simple-random-walks.html#autosec-271" class="tocchapter" >
<span class="sectionnumber">9</span>&#x2003;Simple random walks \((\Delta )\)</a>
</p>



<p>
<a href="Simple-random-walks.html#autosec-273" class="tocsection" >
<span class="sectionnumber">9.1</span>&#x2003;Exit probabilities \((\Delta )\)</a>
</p>



<p>
<a href="Stirling-Approximation.html#autosec-277" class="tocsection" >
<span class="sectionnumber">9.2</span>&#x2003;Stirling’s Approximation \((\Delta )\)</a>
</p>



<p>
<a href="Long-term-behaviour-symmetric-case.html#autosec-280" class="tocsection" >
<span class="sectionnumber">9.3</span>&#x2003;Long term behaviour: symmetric case \((\Delta )\)</a>
</p>



<p>
<a href="Long-term-behaviour-asymmetric-case.html#autosec-289" class="tocsection" >
<span class="sectionnumber">9.4</span>&#x2003;Long term behaviour: asymmetric case \((\Delta )\)</a>
</p>



<p>
<a href="In-higher-dimensions.html#autosec-295" class="tocsection" >
<span class="sectionnumber">9.5</span>&#x2003;In higher dimensions \((\star )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-rws.html#autosec-299" class="tocsection" >
<span class="sectionnumber">9.6</span>&#x2003;Exercises on Chapter 9 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-one.html#autosec-303" class="tocchapter" >
<span class="sectionnumber">A</span>&#x2003;Solutions to exercises (part one)</a>
</p>



<p>
<a href="Formula-Sheet-part-one.html#autosec-321" class="tocchapter" >
<span class="sectionnumber">B</span>&#x2003;Formula Sheet (part one)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part one)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

</div>

<p>
<!--
......     section Long term behaviour:       symmetric case      ......
-->
<h4 id="autosec-280"><span class="sectionnumber">9.3&#x2003;</span>Long term behaviour: symmetric case \((\Delta )\)</h4>
<a id="notes_1-autopage-280"></a>
<a id="notes_1-autofile-44"></a> <a id="s:rw_long_term_sym"></a>

<p>
In this section we study the simple symmetric random walk. Our goal is to show that \((S_n)\) not only oscillates as \(n\to \infty \), but in fact \((S_n)\) visits every \(k\in Z\) infinitely many times. This
implies that \((S_n)\) will oscillate wildly, with ever larger oscillations, as \(n\to \infty \).
</p>

<p>
Let \(S_n=\sum _{i=1}^nX_i\) where the \((X_i)\) are independent and have identical distribution \(\P [X_i=1]=\P [X_1=-1]=\frac 12\). Note that \(S_0=0\). For \(k\in \Z \) let
</p>

<p>
\[T_k=\inf \{n\geq 0\-S_n=k\}\]
</p>

<p>
be the hitting time of \(k\in \N \) and let
</p>

<p>
\[R=\inf \{n\geq 1\-S_n=0\}\]
</p>

<p>
be the first return time to zero. We set \(R=\infty \) if the walk does not return to zero, in keeping with the convention that \(\inf \emptyset =\infty \). In Example <a
href="The-optional-stopping-theorem.html#ex:rw_hitting_time">8.2.2</a> we showed that \(T_k\) is a stopping time, and in Exercise <a
href="Exercises-on-Chapter-ref-c-stoch_procs_2.html#ps:return_time"><b>8.5</b></a> we showed that \(R\) is a stopping time.
</p>
<div class="theorembodylemma">

<ul style="list-style-type:none">



<a id="autoid-204"></a>
<li>
<p>
<span class="theoremheaderplain">Lemma 9.3.1</span> <a id="autoid-205" ></a ><a id="l:rw_symm_return_finite"></a> It holds that \(\P [R&lt;\infty ]=1\).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc">Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> Note that \(\P [R&lt;\infty ]\in [0,1]\). We will argue by contradiction. Suppose that
\(\P [R&lt;\infty ]=p&lt;1.\) By the strong Markov property, the process \((S_{R+n})_{n\geq 0}\) has the same distribution as \((S_n)\). In words, each time the random walk returns to zero the process
restarts, and from then on acts like a simple symmetric random walk, independent of the past. Let \(G=\sum _{n=1}^\infty \1\{S_n=0\}\), which in words counts the number of times \((S_n)\) returns to zero.
By the strong Markov property, applied repeatedly at each return, \(G\) has a geometric distribution distribution \(\P [G=j]=p^j(1-p)\) for all \(j\in \{0,1,\ldots ,\}\). In particular, \(\E [G]&lt;\infty
\).
</p>

<p>
We will now calculate \(\E [G]\) using a different method. Note that \(G=\sum _{n=1}^\infty \1\{S_n=0\}\), hence
</p>

<span class="hidden"> \(\seteqnumber{0}{9.}{7}\)</span>

<!--


                                             ∞                      ∞
                                                   E[1{Sn = 0}] =
                                             X                      X
                                    E[G] =                                P[Sn = 0].                           (9.8)                                               --><a id="eq:E_returns_ssrw"></a><!--
                                             n=1                    n=1

-->

<p>


\begin{equation}
\label {eq:E_returns_ssrw} \E [G]=\sum _{n=1}^\infty \E [\1\{S_n=0\}]=\sum _{n=1}^\infty \P [S_n=0].
\end{equation}


</p>

<p>
In the first equality above we have used Exercise <a href="Exercises-on-Chapter-ref-c-rv_conv.html#ps:mct_fubini"><b>6.8</b></a> to swap the infinite sum and expectation. Calculating \(\P [S_n=0]\)
is Exercise <a href="Exercises-on-Chapter-ref-c-stoch_procs_1.html#ps:rw_to_zero"><b>7.11</b></a>; it is zero when \(n\) is odd, which leaves us only to consider
</p>

<span class="hidden"> \(\seteqnumber{0}{9.}{8}\)</span>

<!--

                                       !                            √
                                    2n −2n   (2n)! −2n               4πn(2n/e)2n −2n    1
                     P[S2n = 0] =      2   =       2   ∼                        2    = √ .                      (9.9)                                               --><a id="eq:rw_stirling_1"></a><!--
                                    n        (n!)2                   2πn(n/e)2n         πn
-->

<p>


\begin{equation}
\label {eq:rw_stirling_1} \P [S_{2n}=0] \;=\; \binom {2n}{n}2^{-2n} \;=\; \frac {(2n)!}{(n!)^2}2^{-2n} \;\sim \; \frac {\sqrt {4\pi n}{(2n/e)^{2n}}}{2\pi n (n/e)^{2n}} 2^{-2n}
\;=\; \frac {1}{\sqrt {\pi n}}.
\end{equation}


</p>

<p>
In the above we have used Stirling’s approximation, in particular equation <span class="textup">(<a href="Stirling-Approximation.html#eq:stirling">9.7</a>)</span>, to simplify the binomial coefficients
as \(n\to \infty \). From <span class="textup">(<a href="Long-term-behaviour-symmetric-case.html#eq:rw_stirling_1">9.9</a>)</span> we obtain that \(\sqrt {\pi n}\P [S_{2n}=0]\to 1\) as
\(n\to \infty \). Hence there exists some \(N\in \N \) such that for all \(n\geq N\) we have \(\P [S_{2n}=0]\geq \frac {1}{2\sqrt {\pi n}}\). Putting this back into <span class="textup">(<a
href="Long-term-behaviour-symmetric-case.html#eq:E_returns_ssrw">9.8</a>)</span> we have
</p>

<p>
\[\E [G] \geq \sum _{n=N}^\infty \P [S_{2n}=0] \geq \sum _{n=N}^\infty \frac {1}{2\sqrt {\pi n}}=\infty .\]
</p>

<p>
We had deduced above that \(\E [G]\) was finite, so we have reached a contradiction. Hence in fact \(\P [R&lt;\infty ]=1\). &#x2003;&#x2003;&#x220E;
</p>
<div class="theorembodylemma">

<ul style="list-style-type:none">



<a id="autoid-206"></a>
<li>
<p>
<span class="theoremheaderplain">Lemma 9.3.2</span> <a id="autoid-207" ></a ><a id="l:rw_hitting_time_finite"></a> For all \(k\in \N \) we have that \(\P [T_k&lt;\infty ]=1\).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc">Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> Note that \(T_0=0\), because \(S_0=0\). We next consider \(T_1\). From Lemma <a
href="Long-term-behaviour-symmetric-case.html#l:rw_symm_return_finite">9.3.1</a> we have \(\P [R&lt;\infty ]=1\), hence by the strong Markov property (applied at successive returns to zero) we
have that \((S_n)_{n=0}^\infty \) visits zero infinitely many times.
</p>

<p>
At after each visit to zero, by the strong Markov property, the next move of the walk will be to \(1\) with probability \(\frac 12\), and to \(-1\) with probability \(\frac 12\). Each time, the move will be
independent of the past. Hence, we need to wait a Geometric(\(\frac 12\)) number of times to see a movement to \(1\). Since this only requires finitely many attempts, we have \(\P [T_1&lt;\infty ]=1\).
</p>

<p>
Let us now consider \(T_k\) for \(k\in \N \). To reach \(k\) we need to move from \(0\) to \(1\), then from \(1\) to \(2\), and so on until \(k\). By the strong Markov property applied successively at \(T_1\),
then \(T_2\), then \(T_3\) and so on, each such move takes the same number of steps (in distribution) as an independent copy of \(T_1\). Hence the distribution of \(T_k\) is that of \(k\) i.i.d.&nbsp;copies of
\(T_1\). Since \(\P [T_1&lt;\infty ]=1\) it follows immediately that \(\P [T_k&lt;\infty ]=1\).
</p>

<p>
Lastly, we consider \(k&lt;0\). By symmetry of the walk about zero, \(T_k\) and \(T_{-k}\) have the same distribution, so \(\P [T_{-k}&lt;\infty ]=\P [T_k&lt;\infty ]=1\). &#x2003;&#x2003;&#x220E;
</p>
<div class="theorembodytheorem">

<ul style="list-style-type:none">



<a id="autoid-208"></a>
<li>
<p>
<span class="theoremheaderplain">Theorem 9.3.3</span> <a id="autoid-209" ></a ><a id="t:rw_oscillations"></a> Almost surely, for all \(k\in \Z \) there are infinitely many \(n\in \N \) such
that \(S_n=k\).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc">Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> Since there are only countably many \(k\in \Z \), it suffices to prove the result for some
fixed (but arbitrary) \(k\in \Z \). From Lemma <a href="Long-term-behaviour-symmetric-case.html#l:rw_hitting_time_finite">9.3.2</a> we have \(\P [T_k&lt;\infty ]=1\), so almost surely the
walk reaches \(k\), in fact \(S_{T_k}=k\). By the strong Markov property, after time \(T_k\) the walk continues to behave like a simple symmetric random walk, independent of its past. Lemma <a
href="Long-term-behaviour-symmetric-case.html#l:rw_symm_return_finite">9.3.1</a> gives that \(\P [R&lt;\infty ]=1\), meaning that the walk will almost surely return (again) to \(k\). Repeating
this argument, we obtain that almost surely the walk visits \(k\) infinitely many times. &#x2003;&#x2003;&#x220E;
</p>
<!--
......   subsection How long does the simple symmetric random walk take to reach ?             ......
-->
<h5 id="autosec-284">How long does the simple symmetric random walk take to reach \(1\)?</h5>
<a id="notes_1-autopage-284"></a>



<p>
Let us focus for a moment on the time \(T_1\). Even though we now know that \(\P [T_1&lt;\infty ]=1\), we are not able to apply the optional stopping theorem to \((S_n)\) and \(T_1\), because \((S_n)\)
is unbounded and we do not know if \(\E [T_1]&lt;\infty \). In fact, in this case \(\E [T_1]=\infty \) and the optional stopping theorem does not apply. Instead, we can argue by contradiction and use the
optional stopping theorem to <i>deduce</i> that \(\E [T_1]=\infty \), as follows.
</p>
<div class="theorembodylemma">

<ul style="list-style-type:none">



<a id="autoid-210"></a>
<li>
<p>
<span class="theoremheaderplain">Lemma 9.3.4</span> <a id="autoid-211" ></a ><a id="l:rw_sym_T1"></a> It holds that \(\E [T_1]=\infty \).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc">Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> Suppose that \(\E [T_1]&lt;\infty \). Then we could apply the optional stopping
theorem to \((S_n)\) and \(T\) using the condition (c). This would give \(\E [S_0]=0=\E [S_{T_1}]\). But, from Lemma <a
href="Long-term-behaviour-symmetric-case.html#l:rw_hitting_time_finite">9.3.2</a> we have \(\P [T_1&lt;\infty ]=1\) which means, by definition of \(T_1\), that \(S_{T_1}=1\) almost surely. This
is a contradiction. &#x2003;&#x2003;&#x220E;
</p>
<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-212"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 9.3.5</span> <a id="autoid-213" ></a ><a id="r:op_stop_careful"></a> More generally, we have to be very careful about using the optional stopping theorem.
The conditions fail in many situations, and there are many examples of stopping times \(T\) and martingales \((M_n)\) for which \(\E [M_T]\neq \E [M_0]\).
</p>


</li>

</ul>

</div>

<p>
From Lemmas <a href="Long-term-behaviour-symmetric-case.html#l:rw_hitting_time_finite">9.3.2</a> and <a href="Long-term-behaviour-symmetric-case.html#l:rw_sym_T1">9.3.4</a> we have
that \(\P [T_1&lt;\infty =1]\) but \(\E [T_1]=\infty \). This tells us that although the time \(T_1\) is always finite, it can be very large. You might find this counter intuitive at first glance since it is clear
that \(\P [T_1=1]=\frac 12\) by just considering the first step, but the point is that once the walk has (by chance) made a few steps downwards, it starts to take a very long time to find its way back up again. In
the next lemma, with a careful calculation we will find out the exact distribution of \(T_1\). Note that \(T_1\) is odd, as the value of \((S_n)\) is odd/even depending on whether \(n\) is odd/even.
</p>
<div class="theorembodylemma">

<ul style="list-style-type:none">



<a id="autoid-214"></a>
<li>
<p>
<span class="theoremheaderplain">Lemma 9.3.6</span> <a id="autoid-215" ></a ><a id="l:rw_sym_T1_dist"></a> It holds that \(\P [T_1=2n-1]=\binom {2n}{n}2^{-2n}\frac {1}{2n-1}\sim
\tfrac {1}{2n\sqrt {\pi n}}\).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc">Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> For \(n=1\) we have \(\P [T_1=1]=\P [S_1=1]=\frac 12\), as required. It remains to
consider \(n\geq 2\). Note that
</p>
<span class="hidden"> \(\seteqnumber{0}{9.}{9}\)</span>



<!--



                                                                                  P[S2n > 0] = P[T1 ≤ 2n − 1, S2n > 0]

                                                                                                  1{T1 ≤2n−1} E 1{S2n −ST1 >0} | FT1
                                                                                                  h               h                      ii
                                                                                             =E

                                                                                                  1{T1 ≤2n−1} E[1{S2n −ST1 >0} | FT1 ]
                                                                                                  h                                      i
                                                                                             =E
                                                                                                                      1
                                                                                                                         
                                                                                             =E       1{T1 ≤2n−1} ×
                                                                                                                      2
                                                                                              1
                                                                                             = P[T1 ≤ 2n − 1].                     (9.10)                                           --><a id="eq:T1S2n"></a><!--
                                                                                              2



-->



<p>


\begin{align}
\P [S_{2n}&gt;0] &amp;= \P [T_1\leq 2n-1, S_{2n}&gt;0] \notag \\ &amp;= \E \l [\1_{\{T_1\leq 2n-1\}}\E \l [\1_{\{S_{2n}-S_{T_1}&gt;0\}}\|\mc {F}_{T_1}\r ]\r ] \notag \\ &amp;= \E
\l [\1_{\{T_1\leq 2n-1\}}\E [\1_{\{S_{2n}-S_{T_1}&gt;0\}}\|\mc {F}_{T_1}]\r ] \notag \\ &amp;= \E \l [\1_{\{T_1\leq 2n-1\}}\times \frac 12\r ] \notag \\ &amp;= \frac 12 \P
[T_1\leq 2n-1].     \label {eq:T1S2n}
\end{align}
In the above, the first line follows because if \(S_{2n}&gt;0\) then \(T_1\leq 2n-1\). The second line uses the relationship between expectation and conditional expectation, and the third line uses that \(T_1\) is
a stopping time, hence \(\{T_1\leq 2n-1\}\in \mc {F}_{T_1}\). The fourth line uses the strong Markov property, which gives that \(S_{2n}-S_{T_1}\) is independent of \(\mc {F}_{T_1}\) and behaves like a
random walk with \(2n-T_1\) steps. Since \(T_1\) is odd, this is an odd number of steps, which means that \(S_{2n}-S_{T_1}\) takes odd values and has a distribution that is symmetric about \(0\), hence \(\E
[\1_{\{S_{2n}-S_{T_1}&gt;0\}}\|\mc {F}_{T_1}]=\frac 12\).
</p>

<p>
From the above calculation, and using the symmetry of the random walk about zero, we have that
</p>

<span class="hidden"> \(\seteqnumber{0}{9.}{10}\)</span>

<!--



                   P[T ≤ 2n − 1] = 2P[S2n > 0] = P[S2n > 0] + P[S2n < 0] = 1 − P[S2n = 0].                            (9.11)                                           --><a id="eq:rw_sym_T1_dist_1"></a><!--

-->

<p>


\begin{equation}
\label {eq:rw_sym_T1_dist_1} \P [T\leq 2n-1]=2\P [S_{2n}&gt;0]=\P [S_{2n}&gt;0]+\P [S_{2n}&lt;0]=1-\P [S_{2n}=0].
\end{equation}


</p>

<p>
To finish, we note that for \(n\geq 2\),
</p>
<span class="hidden"> \(\seteqnumber{0}{9.}{11}\)</span>



<!--



                                                                                P[T = 2n − 1] = P[T ≤ 2n − 1] − P[T ≤ 2n − 3]

                                                                                              = (1 − P[S2n = 0]) − (1 − P[S2n−2 = 0])
                                                                                                            !                  !
                                                                                                2n − 2 −2n+2   2n −2n
                                                                                              =        2     −    2
                                                                                                 n−1            n
                                                                                                        !
                                                                                                2n −2n 1
                                                                                              =    2         .
                                                                                                 n    2n − 1



-->



<p>


\begin{align*}
\P [T=2n-1] &amp;= \P [T\leq 2n-1]-\P [T\leq 2n-3] \\ &amp;= (1-\P [S_{2n}=0]) - (1-\P [S_{2n-2}=0]) \\ &amp;= \binom {2n-2}{n-1}2^{-2n+2}-\binom {2n}{n} 2^{-2n} \\ &amp;= \binom
{2n}{n} 2^{-2n}\frac {1}{2n-1}.
\end{align*}
The second line of the above follows from <span class="textup">(<a href="Long-term-behaviour-symmetric-case.html#eq:rw_sym_T1_dist_1">9.11</a>)</span>, and the last line follows from a short
calculation that is left for you. The last claim of the lemma follows from the same calculation as in <span class="textup">(<a
href="Long-term-behaviour-symmetric-case.html#eq:rw_stirling_1">9.9</a>)</span>. &#x2003;&#x2003;&#x220E;
</p>

<p>
The calculation that led to <span class="textup">(<a href="Long-term-behaviour-symmetric-case.html#eq:T1S2n">9.10</a>)</span> is known as a ‘reflection principle’. It applies the strong Markov
property at \(T_k\) (with \(k=1\), in this case), and then divides the future into two cases based on whether the first move is upwards of downwards. The distribution of the walk in these two cases is a mirror of
one another i.e.&nbsp;a reflection about height \(k\).
</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 19, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_1.html" class="linkhome" >
Home</a></nav>

</body>
</html>
