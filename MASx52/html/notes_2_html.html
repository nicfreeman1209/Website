<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, ." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52</title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />

<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>

</head>
<body>
<!--|Using lwarp|notes_2.html|-->

<p>
<header>
last updated: </header>

<div class="bodywithoutsidetoc">


<main class="bodycontainer">


<section class="textbody">

<a id="notes_2-autofile-0"></a>

<!--MathJax customizations:-->


<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<a id="notes_2-autopage-1"></a>
<div class="titlepage">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>


<div class="author">


<div class="oneauthor">

<p>
Dr Nic Freeman
</p>
</div>

</div>


<div class="titledate">

<p>
September 14, 2023
</p>
</div>

</div>


<p>


</p>
<!--
......    chapter Contents ......
-->
<h3 id="autosec-3">Contents</h3>
<a id="notes_2-autopage-3"></a>




<nav class="toc">

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>
</nav>

</section>

</main>

</div>

</body>
</html>
<!--|Start file|The-transition-continuous-time.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — The transition to continuous time</title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-4"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     chapter The transition to continuous time ......
-->
<h3 id="autosec-5">Chapter&nbsp;<span class="sectionnumber">10&#x2003;</span>The transition to continuous time</h3>
<a id="notes_2-autopage-5"></a>
<a id="notes_2-autofile-1"></a>

<a id="c:transition_to_cts"></a>

<p>
Up until now, we have always indexed time by the integers, \(n=1,2,3,\ldots \). For the remainder of the course, we will move into continuous time, meaning that our time will be indexed as \(t\in [0,\infty
)\). We need to update some of our terminology to match.
</p>

<p>
As before, we work over some probability space \((\Omega ,\mc {F},\P )\).
</p>
<div class="theorembodydefn">

<ul style="list-style-type:none">



<a id="autoid-1"></a>
<li>
<p>
<span class="theoremheaderplain">Definition 10.0.1</span> <a id="autoid-2" ></a >A stochastic process (in continuous time) is a family of random variables \((X_t)_{t=0}^\infty \). We think of \(t\in
[0,\infty )\) as time.
</p>


</li>

</ul>

</div>

<p>
As in discrete time, we will usual write \((X_t)=(X_t)_{t=0}^\infty \). We will also sometimes write simply \(X\) instead of \((X_t)\).
</p>
<div class="theorembodydefn">

<ul style="list-style-type:none">



<a id="autoid-3"></a>
<li>
<p>
<span class="theoremheaderplain">Definition 10.0.2</span> <a id="autoid-4" ></a >We say that a stochastic process \((X_t)\) is <i>continuous</i> (or, equivalently, has <i>continuous paths</i>) if, for
almost all \(\omega \in \Omega \), the function \(t\mapsto X_t(\omega )\) is continuous.
</p>


</li>

</ul>

</div>

<p>
In words, we should think of a continuous stochastic process as a random continuous function. For example, if \(A,B\) and \(C\) are i.i.d.&nbsp;\(N(0,1)\) random variables, \(X_t=At^2+Bt+C\) for \(t\in
[0,\infty )\) is a random continuous (quadratic) function. In this course, we will usually be more interested in situations where, in some sense, randomness appears and causes the stochastic process to change
value as time passes. To do so, we need to think about filtrations.
</p>
<div class="theorembodydefn">

<ul style="list-style-type:none">



<a id="autoid-5"></a>
<li>
<p>
<span class="theoremheaderplain">Definition 10.0.3</span> <a id="autoid-6" ></a >We say that a family \((\mc {F}_t)\) of \(\sigma \)-fields is a (continuous time) filtration if \(\mc {F}_u\sw \mc
{F}_t\) whenever \(u\leq t\).
</p>

<p>
A stochastic process \((X_t)\) is adapted to the filtration \((\mc {F}_t)\) if \(M_t\in m\mc {F}_t\) for all \(t\geq 0\).
</p>


</li>

</ul>

</div>

<p>
In continuous time, our standard setup is that we will work over a <i>filtered space</i> \((\Omega ,\mc {F},(\mc {F}_t),\P )\) where \((\Omega ,\mc {F},\P )\) is a probability space and \((\mc {F}_t)\) is
a filtration. If we are given a stochastic process \((X_t)\), implicitly over some probability space, the <i>generated (or natural) filtration</i> of the stochastic process is \(\mc {F}_t=\sigma (X_u)\-u\leq t)\).
</p>

<p>
Lastly, we upgrade our definition of a martingale into continuous time.
</p>
<div class="theorembodydefn">

<ul style="list-style-type:none">



<a id="autoid-7"></a>
<li>
<p>
<span class="theoremheaderplain">Definition 10.0.4</span> <a id="autoid-8" ></a >A (continuous time) stochastic process \((M_t)\) is a martingale if
</p>
<ul style="list-style-type:none">


<li>
<p>
1. \((M_t)\) is adapted,
</p>


</li>
<li>


<p>
2. \(M_t\in L^1\) for all \(t\),
</p>


</li>
<li>


<p>
3. \(\E [M_{t}|\mc {F}_u]=M_u\) for all \(0\leq u \leq t\).
</p>
</li>
</ul>

<p>
We say that \((M_t)\) is a submartingale if, instead of 3, we have \(\E [M_{t}|\mc {F}_u]\geq M_u\) almost surely. We say that \((M_t)\) is a supermartingale if, instead of 3, we have \(\E [M_{t}|\mc
{F}_u]\leq M_u\) almost surely.
</p>


</li>

</ul>

</div>

<p>
There are continuous time equivalents of the results (e.g.&nbsp;the martingale convergence theorem) that we proved for discrete time martingales, but they are outside of the scope of this course.
</p>
<!--
......    subsection Organization ......
-->
<h5 id="autosec-10">Organization</h5>
<a id="notes_2-autopage-10"></a>



<p>
Whilst studying these notes you will also start thinking about revision for the summer exam. Some advice on how to structure your revision for this course is included in Appendix <a
href="Advice-revision-exams.html#s:revision">D</a>. We’ll discuss this in lectures at a suitable point during the semester.
</p>

<p>
Those of you taking MAS61023 have a chapter of independent reading in Chapter <a href="Financial-networks.html#c:fin_net">19</a>, marked with a (\(\Delta \)). This material relies only on the
previous semester and is <i>already</i> already accessible to you. You can study this chapter whenever you like, during semester two. Section <a
href="The-Ornstein-Uhlenbeck-process.html#s:ou_proc">13.3</a> is also independent reading for you, but you’ll have to wait until we reach up to that point within the semester two lectures to study it.
</p>

<p>
You can find general information on the organization of this course in Section <a href="Introduction.html#s:organization">0.1</a>, within part one of these lecture notes.
</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Brownian-motion.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Brownian motion</title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-11"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     chapter Brownian motion ......
-->
<h3 id="autosec-12">Chapter&nbsp;<span class="sectionnumber">11&#x2003;</span>Brownian motion</h3>
<a id="notes_2-autopage-12"></a>
<a id="notes_2-autofile-2"></a>

<a id="c:bm"></a>

<p>
In this chapter we study the most important example of a stochastic process: Brownian motion. In essence, Brownian motion is the continuous time equivalent of the symmetric random walk that we studied in
Section <a href="Stochastic-processes.html#s:ssrw">4.1</a>.
</p>
<!--
......   section The limit of random walks ......
-->
<h4 id="autosec-13"><span class="sectionnumber">11.1&#x2003;</span>The limit of random walks</h4>
<a id="notes_2-autopage-13"></a>



<a id="s:bm_limit"></a>

<p>
The discovery of Brownian motion has a distinguished place in the history of both science and mathematics. As with most great discoveries in the scientific world, many people discovered parts of what later became
known as Brownian motion, using varying degrees of mathematical and experimental precision, at around the same time.
</p>

<p>
Brownian motion is named after the botanist Robert Brown who, in 1827, through a microscope, saw erratic movements being made by tiny pollen organelles floating on water. The cause of these movements was
explained later by Albert Einstein and the physicist Jean Perrin: the movements were caused by (the cumulative effect of) many individual water molecules hitting the tiny organelles. This realization provided the
‘modern science’ of the time with a key piece of evidence for the existence of atoms<sup>1</sup>. Around the same time, the american mathematician Norbert Wiener, building on earlier work of Louis Bachelier,
developed a mathematical model for stock prices and independently discovered Brownian motion.
</p>

<p>
Today, Brownian motion is at the heart of many important models of the physical world. We will see some examples in future sections of the course; for now our first task is to construct the process.
</p>

<p>
Brown, Einstein and Perrin studied pollen movements on the surface of still water, meaning they observed movements in two (spatial) dimensions \(\R ^2\). Bachelier, by contrast, saw stocks prices moving up and
down - in one dimension \(\R \). In both cases the underlying principle is one of ‘completely random’ movement. We will restrict to the one dimensional case in this course.
</p>

<p>
Recall the symmetric random walk from Section <a href="Stochastic-processes.html#s:ssrw">4.1</a>. We will look at six pictures of (samples of) it, where in each picture the random walk has run for a
successively longer time (\(T=10,50,250,1250,6250,31250\)). We fit each such picture into the same size box – we can think of this as zooming out, so in each inch of space on the paper we see more and more,
smaller and smaller, jumps of the random walk. The results are intriguing:
</p>
<div class="center">
<table>

<tr style="display:none"><th>.</th></tr>


<tr>
<td class="tdc">
<a href="rw_10.png" target="_blank" ><img
      src="rw_10.png"
      style="
      width:186pt;
      "
      class="inlineimage"
      alt="(A picture of a random walk with 10 steps)"
></a></td>
<td class="tdc">
<a href="rw_50.png" target="_blank" ><img
      src="rw_50.png"
      style="
      width:186pt;
      "
      class="inlineimage"
      alt="(A picture of a random walk with 50 steps)"
></a></td>
</tr>


<tr>
<td class="tdc">
<a href="rw_250.png" target="_blank" ><img
      src="rw_250.png"
      style="
      width:186pt;
      "
      class="inlineimage"
      alt="(A picture of a random walk with 250 steps)"
></a></td>
<td class="tdc">
<a href="rw_1250.png" target="_blank" ><img
      src="rw_1250.png"
      style="
      width:186pt;
      "
      class="inlineimage"
      alt="(A picture of a random walk with 1250 steps)"
></a></td>
</tr>


<tr>
<td class="tdc">
<a href="rw_6250.png" target="_blank" ><img
      src="rw_6250.png"
      style="
      width:186pt;
      "
      class="inlineimage"
      alt="(A picture of a random walk with 6250 steps)"
></a></td>
<td class="tdc">
<a href="rw_31250.png" target="_blank" ><img
      src="rw_31250.png"
      style="
      width:186pt;
      "
      class="inlineimage"
      alt="(A picture of a random walk with 31250 steps)"
></a></td>
</tr>


</table>

</div>

<p>
As we zoom out further and further, the pictures are starting to look very similar in character. The last three are all ‘jagged’ in a conspicuously similar way. If you look carefully, you can see that each picture
contains precisely the first fifth (in terms of time passed) of the next picture. From the axis on pictures, we might guess that, if we have \(T\) units of time on the \(x\)-axis, we need about \(\sqrt {T}\) units of
space on the \(y\)-axis. This is not surprising: a short calculation (which we omit) shows that \(\E [|X_T|]\approx \sqrt {T}\) as \(T\to \infty \).
</p>

<p>
The fact that our pictures start to look very similar in character, as \(T\) gets larger, is highly suggestive: it suggests that as we keep scaling out we will see convergence to a <i>limit</i>. The limit, like the
random walk, will be random; it will be a continuous time stochastic process.
</p>

<p>
In Chapter <a href="Convergence-random-variables.html#c:rv_conv">6</a> we studied limits for random variables. This theory can be extended, into looking at limits of whole stochastic processes, because a
stochastic process \((Z_t)_{t=0}^\infty \) is just the set of random variables \(\{Z_t\-t\in [0,\infty )\}\). We won’t study modes of convergence for stochastic processes in this course, but hopefully the
idea is clear. Various tools from analysis, that are outside the scope of our course, can be used to prove that a limit exists in this case – the limit is called <i>Brownian motion</i>, and it is the focus of this chapter.
</p>
<div role="note" class="footnotes">

<a id="notes_2-autopage-16"></a>

<p>
<sup>1</sup>&nbsp;At the time, scientists were not confident of the existence of atoms; there were other competing theories that had not yet been disproved.
</p>



</div>



<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-9"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 11.1.1</span> <a id="autoid-10" ></a >You can reproduce the pictures yourself, using <kbd>R</kbd>, with the code for e.g.&nbsp;the first one:
</p>
<pre class="verbatim">
 >   T=10
 >   set.seed(1)
 >   x=c(0,2*rbinom(T-1,1,0.5)-1)
 >   y=cumsum(x)
 >   par(mar=rep(2,4))
 >   plot(y,type="l")


</pre>


</li>

</ul>

</div>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Brownian-motion-definition.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Brownian motion (definition)</title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-18"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section Brownian motion (definition) ......
-->
<h4 id="autosec-19"><span class="sectionnumber">11.2&#x2003;</span>Brownian motion</h4>
<a id="notes_2-autopage-19"></a>
<a id="notes_2-autofile-3"></a>

<p>
To work with Brownian motion mathematically, we need more than the pictures from the previous section. What we need is a theorem that (1) tells us that Brownian motion exists and (2) gives us some properties
to work with. We begin our mathematical treatment of Brownian motion as follows, with a definition that it also an existence theorem:
</p>
<div class="theorembodytheorem">

<ul style="list-style-type:none">



<a id="autoid-11"></a>
<li>
<p>
<span class="theoremheaderplain">Theorem 11.2.1</span> <a id="autoid-12" ></a ><a id="t:bm_exist"></a> There is a stochastic process \((B_t)\) such that:
</p>
<ul style="list-style-type:none">


<li>
<p>
1. The paths of \((B_t)\) are continuous.
</p>


</li>
<li>


<p>
2. For any \(0\leq u\leq t\), the random variable \(B_t-B_u\) is independent of \(\sigma (B_v\-v\leq u)\).
</p>


</li>
<li>


<p>
3. For any \(0\leq u \leq t\), the random variable \(B_t-B_u\) has distribution \(N(0,t-u)\).
</p>
</li>
</ul>

<p>
Further, any stochastic process which satisfies these three conditions has the same distribution as \((B_t)\).
</p>


</li>

</ul>

</div>
<div class="theorembodydefn">

<ul style="list-style-type:none">



<a id="autoid-13"></a>
<li>
<p>
<span class="theoremheaderplain">Definition 11.2.2</span> <a id="autoid-14" ></a >If \(B_0=0\) we say that \((B_t)\) is a <i>standard</i> Brownian motion.
</p>


</li>

</ul>

</div>

<p>
From now on we fix some notation, which we will use for the remainder of the course:
</p>
<blockquote>

<p>
<b>We write \((B_t)\) for a standard Brownian motion, and \(\mc {F}_t=\sigma (B_u\-u\leq t)\) for its generated filtration. We work over the filtered space \((\Omega ,\mc {F},(\mc
{F}_t),\P )\).</b>
</p>
</blockquote>

<p>
Let us record a few simple facts about Brownian motion that we will use repeatedly in later chapters. Putting \(u=0\) into the second property and noting that \(B_0=0\), we obtain that the distribution of
Brownian motion at time \(t\) is \(B_t\sim N(0,t)\). Hence, also,
</p>

<p>
\[\E [B_t]=0\]
</p>

<p>
for all \(t\). In exercise <a href="Exercises-on-Chapter-ref-c-bm.html#ps:bm_moments"><b>11.4</b></a> you are are asked to show that if \(Z\sim N(0,t)\) then \(\E [Z^2]=t\). Hence
</p>

<span class="hidden"> \(\seteqnumber{0}{11.}{0}\)</span>

<!--



                                                                                                 E[Bt2 ] = var(Bt ) = t                                                     (11.1)--><a id="eq:bm_E2"></a><!--

-->

<p>


\begin{equation}
\label {eq:bm_E2} \E [B_t^2]=\var (B_t)=t
\end{equation}


</p>

<p>
for all \(t\). It is also useful to know that \(B_t^n\in L^1\) for all \(n\in \N \). See exercise <a href="Exercises-on-Chapter-ref-c-bm.html#ps:bm_moments"><b>11.4</b></a> for a proof of this fact.
</p>

<p>
Along the same lines, another formula that we will use repeatedly (and that you should remember) is that if \(Z\sim N(\mu ,\sigma ^2)\) then
</p>

<span class="hidden"> \(\seteqnumber{0}{11.}{1}\)</span>

<!--


                                                                                       1   2
                                                                          E[eZ ] = eµ+ 2 σ .                                                                      (11.2)--><a id="eq:lognormal_mean"></a><!--

-->

<p>


\begin{equation}
\label {eq:lognormal_mean} \E [e^Z]=e^{\mu +\frac 12\sigma ^2}.
\end{equation}


</p>

<p>
This formula turns out to be surprisingly useful in situations involving Brownian motion. It is proved as part of Exercise <a href="Exercises-on-Chapter-ref-c-bm.html#ps:lognormal_mean"><b>11.5</b></a>.
</p>

<p>
Here are a couple of samples of (standard) Brownian motion. They look very similar in character to the pictures from Section <a href="Brownian-motion.html#s:bm_limit">11.1</a>, when \(T\) was large. The
key point is that, now, instead of large \(T\), time and space have been rescaled so as we only watch \(1\) unit of time.
</p>
<div class="center">

<p>


<a href="bm_1.png" target="_blank" ><img
      src="bm_1.png"
      style="
      width:269pt;
      "
      class="inlineimage"
      alt="(A sample path of Brownian motion)"
></a>
<a href="bm_2.png" target="_blank" ><img
      src="bm_2.png"
      style="
      width:269pt;
      "
      class="inlineimage"
      alt="(A sample path of Brownian motion)"
></a>
</p>
</div>

<p>
You might like to note the similarity of these pictures to the jagged nature of Figure <a href="Arbitrage.html#fig:lloyds">1.1</a> (which was a plot of the stock price of Lloyds Banking Group), which we
reproduce here for convenience:
</p>
<div class="center">

<p>


<a href="lloyds_lse.png" target="_blank" ><img
      src="lloyds_lse.png"
      style="
      width:412pt;
      "
      class="inlineimage"
      alt="(The stock price of Lloyds Banking Group from 2011-2017)"
></a>
</p>
</div>

<p>
In fact, we won’t use Brownian motion for our stock price model; we’ll use a slight modification known as ‘geometric’ Brownian motion. For now, we need to collect together some more information about Brownian
motion, and develop our modelling tools further, but we’ll return to the question of stock price models in Section <a href="Geometric-Brownian-motion.html#s:gbm">13.2</a> and Chapter <a
href="The-Black-Scholes-model.html#c:bs">15</a>.
</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Brownian-motion-heat-equation-star.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Brownian motion and the heat equation </title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-25"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section Brownian motion and the heat equation           ......
-->
<h4 id="autosec-26"><span class="sectionnumber">11.3&#x2003;</span>Brownian motion and the heat equation \((\star )\)</h4>
<a id="notes_2-autopage-26"></a>
<a id="notes_2-autofile-4"></a> <a id="s:heat"></a>

<p>
Brownian motion lies at the heart of many modern models of the physical world. Before we study Brownian motion in its own right, let us give one example of a model with close connection to Brownian motion,
namely heat diffusion. Note that this section is marked with a \((\star )\), meaning that it is off syllabus.
</p>

<p>
Consider a long thin metal rod. If, initially, some parts of the rod are hot and some are cold, then as time passes heat will diffuse through the rod: the differences in temperature slowly average out. Suppose that the
temperature of the metal in the rod at position \(x\) at time \(t\) is given by \(u(t,x)\), where \(t\in [0,\infty )\) represents time and \(x\in \R \) represents space. Suppose that, at time \(0\), the
temperature at the point \(x\) is \(f(x)=u(0,x)\).
</p>

<p>
Then (as you may have seen from e.g.&nbsp;MAS222), it is well known that the <i>heat equation</i>
</p>

<span class="hidden"> \(\seteqnumber{0}{11.}{2}\)</span>

<!--


                                                                                                       ∂u   1 ∂2u
                                                                                                          =                                                                        (11.3)--><a id="eq:heat"></a><!--
                                                                                                       ∂t   2 ∂x2
-->

<p>


\begin{equation}
\label {eq:heat} \frac {\p u}{\p t}=\frac 12\frac {\p ^2 u}{\p x^2}
\end{equation}


</p>

<p>
with the initial condition
</p>

<span class="hidden"> \(\seteqnumber{0}{11.}{3}\)</span>

<!--



                                                                                                     u(0, x) = f (x)                                                         (11.4)--><a id="eq:heat_init"></a><!--

-->

<p>


\begin{equation}
\label {eq:heat_init} u(0,x)=f(x)
\end{equation}


</p>

<p>
describes how the temperature \(u(t,x)\) changes with time, from an initial temperature of \(f(x)\) at site \(x\). This equation has a close connection to Brownian motion, which we now explore.
</p>
<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-15"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 11.3.1</span> <a id="autoid-16" ></a >(\(\star \)) In the world of PDEs, the factor \(\frac 12\) in <span class="textup">(<a
href="Brownian-motion-heat-equation-star.html#eq:heat">11.3</a>)</span> is not normally included, but in probability we tend to include it. The difference is just that time runs twice as fast (i.e.&nbsp;we
substituted \(2t\) in place of \(t\)), which isn’t very important.
</p>


</li>

</ul>

</div>

<p>
If we start Brownian motion from \(x\in \R \), then \(B_t\sim x+N(0,t)\sim N(x,t)\), so we can write down its probability density function
</p>

<p>
\[\phi _{t,x}(y)=\frac {1}{\sqrt {2\pi t}}\exp \l (-\frac {(y-x)^2}{2t}\r ).\]
</p>
<div class="theorembodylemma">

<ul style="list-style-type:none">



<a id="autoid-17"></a>
<li>
<p>
<span class="theoremheaderplain">Lemma 11.3.2</span> <a id="autoid-18" ></a ><a id="l:heat_1"></a> \(\phi _{t,x}(y)\) satisfies the heat equation <span class="textup">(<a
href="Brownian-motion-heat-equation-star.html#eq:heat">11.3</a>)</span>.
</p>


</li>

</ul>

</div>

<p>
<span class="textsc">Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> Note that if any function \(u(t,x)\) satisfies the heat equation, so does \(u(t,x-y)\) for
any value of \(y\). So, we can assume \(y=0\) and need to show that
</p>

<p>
\[\phi _{t,x}(0)=\frac {1}{\sqrt {2\pi t}}\exp \l (-\frac {x^2}{2t}\r )\]
</p>

<p>
satisfies <span class="textup">(<a href="Brownian-motion-heat-equation-star.html#eq:heat">11.3</a>)</span>. This is an exercise in partial differentiation. Using the chain and product rules:
</p>
<span class="hidden"> \(\seteqnumber{0}{11.}{4}\)</span>



<!--


                                                                                     −1
                                                                                                              1 −x2 (−1)
                                                                                                       !                             !
                                                                               ∂ϕ             x2                               x2
                                                                                  = √ 2 exp −              +√            exp −
                                                                               ∂t    2πt3     2t              2πt 2t2          2t
                                                                                     1              1
                                                                                                            !              !
                                                                                             x2                       x2
                                                                                   =√            −              exp −
                                                                                     2π     2t5/2 2t3/2               2t



-->



<p>


\begin{align*}
\frac {\p \phi }{\p t}&amp;=\frac {\frac {-1}{2}}{\sqrt {2\pi t^3}}\exp \l (-\frac {x^2}{2t}\r )+\frac {1}{\sqrt {2\pi t}}\frac {-x^2(-1)}{2t^2}\exp \l (-\frac {x^2}{2t}\r )\\
&amp;=\frac {1}{\sqrt {2\pi }}\l (\frac {x^2}{2t^{5/2}}-\frac {1}{2t^{3/2}}\r )\exp \l (-\frac {x^2}{2t}\r )
\end{align*}
and
</p>
<span class="hidden"> \(\seteqnumber{0}{11.}{4}\)</span>



<!--



                                                                                                  1 −2x
                                                                                                                               !
                                                                                            ∂ϕ                 x2
                                                                                               =√        exp −
                                                                                            ∂x    2πt 2t       2t
                                                                                                                      !
                                                                                                  −x          x2
                                                                                                =√      exp −
                                                                                                   2πt3       2t



-->



<p>


\begin{align*}
\frac {\p \phi }{\p x} &amp;=\frac {1}{\sqrt {2\pi t}}\frac {-2x}{2t}\exp \l (-\frac {x^2}{2t}\r )\\ &amp;=\frac {-x}{\sqrt {2\pi t^3}}\exp \l (-\frac {x^2}{2t}\r )
\end{align*}
so that
</p>
<span class="hidden"> \(\seteqnumber{0}{11.}{4}\)</span>



<!--


                                                                                                           !                        !
                                                                                ∂2ϕ    −1         x2             −x −2x        x2
                                                                                    = √     exp −              +√        exp −
                                                                                ∂x2    2πt3       2t             2πt3 2t       2t
                                                                                       1               1
                                                                                                            !              !
                                                                                                x2                    x2
                                                                                     =√             − 3/2       exp −          .
                                                                                       2π      t5/2  t                2t



-->



<p>


\begin{align*}
\frac {\p ^2\phi }{\p x^2} &amp;=\frac {-1}{\sqrt {2\pi t^3}}\exp \l (-\frac {x^2}{2t}\r )+\frac {-x}{\sqrt {2\pi t^3}}\frac {-2x}{2t}\exp \l (-\frac {x^2}{2t}\r )\\ &amp;=\frac
{1}{\sqrt {2\pi }}\l (\frac {x^2}{t^{5/2}}-\frac {1}{t^{3/2}}\r )\exp \l (-\frac {x^2}{2t}\r ).
\end{align*}
Hence, \(\frac {\p \phi }{\p t}=\frac 12\frac {\p ^2\phi }{\p x^2}\). &#x2003;&#x2003;&#x220E;
</p>

<p>
We can use Lemma <a href="Brownian-motion-heat-equation-star.html#l:heat_1">11.3.2</a> to give a physical explanation of the connection between Brownian motion and heat diffusion. We define
</p>
<span class="hidden"> \(\seteqnumber{0}{11.}{4}\)</span>



<!--



                                                                                                 w(t, x) = Ex [f (Bt )]                            (11.5)           --><a id="eq:heat_duality"></a><!--



-->



<p>


\begin{align}
\label {eq:heat_duality} w(t,x)&amp;=\E _x[f(B_t)]
\end{align}
That is, to get \(w(t,x)\), we start a particle at location \(x\), let it perform Brownian motion for time \(t\), and then take the expected value of \(f(B_t)\).
</p>
<div class="theorembodylemma">

<ul style="list-style-type:none">



<a id="autoid-19"></a>
<li>
<p>
<span class="theoremheaderplain">Lemma 11.3.3</span> <a id="autoid-20" ></a ><a id="l:bm_heat_eq"></a> \(w(t,x)\) satisfies the heat equation <span class="textup">(<a
href="Brownian-motion-heat-equation-star.html#eq:heat">11.3</a>)</span> and the initial condition <span class="textup">(<a
href="Brownian-motion-heat-equation-star.html#eq:heat_init">11.4</a>)</span>.
</p>


</li>

</ul>

</div>

<p>
Before we give the proof, let us discuss the physical interpretation of this result. Within our metal rod, the metal atoms have fixed positions. But atoms that are next to each other transfer heat between each other,
in random directions. If we could pick on an individual ‘piece’ of heat and watch it move, it would move like a Brownian motion. Since there are lots of little pieces of heat moving around, and they are <i>very
</i>small, when we measure temperature we only see the average effect of all the little pieces, corresponding to \(\E [\ldots ]\).
</p>

<p>
We should think of the Brownian motion in <span class="textup">(<a href="Brownian-motion-heat-equation-star.html#eq:heat_duality">11.5</a>)</span> as running in reverse time, so as it tracks
(backwards in time) the path through space that a typical piece of heat has followed. Then, after running for time \(t\), it looks at the initial condition to find out how much heat there was initially that its eventual
location.
</p>

<p>
<span class="textsc">Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> We have \(B_0=x\), so
</p>

<p>
\[w(0,x)=\E _x[f(B_0)]=\E _x[f(x)]=f(x).\]
</p>

<p>
Hence the initial condition <span class="textup">(<a href="Brownian-motion-heat-equation-star.html#eq:heat_init">11.4</a>)</span> is satisfied. We still need to check <span class="textup">(<a
href="Brownian-motion-heat-equation-star.html#eq:heat">11.3</a>)</span>. To do so we will allow ourselves to swap \(\int \)s and partial derivatives<sup>2</sup><a id="notes_2-autopage-29"></a>.
We have
</p>
<span class="hidden"> \(\seteqnumber{0}{11.}{5}\)</span>



<!--



                                                                                               w(t, x) = Ex [f (Bt )]
                                                                                                              Z   ∞
                                                                                                          =           f (y)ϕt,x (y) dy
                                                                                                               −∞




-->



<p>


\begin{align*}
w(t,x)&amp;=\E _x[f(B_t)]\\ &amp;=\int _{-\infty }^\infty f(y)\phi _{t,x}(y)\,dy
\end{align*}
so, by Lemma <a href="Brownian-motion-heat-equation-star.html#l:heat_1">11.3.2</a>,
</p>
<span class="hidden"> \(\seteqnumber{0}{11.}{5}\)</span>



<!--



                                                                                             ∂w   ∂
                                                                                                          Z   ∞
                                                                                                =                  f (y)ϕt,x (y) dy
                                                                                             ∂t   ∂t          −∞
                                                                                                      Z   ∞    ∂
                                                                                                  =               ϕt,x (y) dy
                                                                                                              f (y)
                                                                                                     −∞        ∂t
                                                                                                               1 ∂2
                                                                                                    Z ∞
                                                                                                  =      f (y)        ϕt,x (y) dy
                                                                                                     −∞        2 ∂x2
                                                                                                    1 ∂2
                                                                                                           Z ∞
                                                                                                  =              f (y)ϕt,x (y) dy
                                                                                                    2 ∂x2 −∞
                                                                                                    1 ∂2w
                                                                                                  =
                                                                                                    2 ∂x2




-->



<p>


\begin{align*}
\frac {\p w}{\p t} &amp;=\frac {\p }{\p t}\int _{-\infty }^\infty f(y)\phi _{t,x}(y)\,dy\\ &amp;=\int _{-\infty }^\infty f(y)\frac {\p }{\p t}\phi _{t,x}(y)\,dy\\ &amp;=\int
_{-\infty }^\infty f(y)\frac 12\frac {\p ^2}{\p x^2}\phi _{t,x}(y)\,dy\\ &amp;=\frac 12\frac {\p ^2}{\p x^2}\int _{-\infty }^\infty f(y)\phi _{t,x}(y)\,dy\\ &amp;=\frac 12\frac
{\p ^2 w}{\p x^2}\\
\end{align*}
as required. &#x2003;&#x2003;&#x220E;
</p>

<p>
There are many similar ways to connect various stochastic processes to PDEs. This kind of connection can be very useful, because it allows us to transfer knowledge about stochastic process to (and from) knowledge
about PDEs. We’ll see a more sophisticated example in Section <a href="Stochastic-processes-in-continuous-time.html#s:fk">14.1</a>.
</p>
<div role="note" class="footnotes">

<a id="notes_2-autopage-30"></a>

<p>
<sup>2</sup>&nbsp;As far as this course is concerned, there is no need for you to justify interchanging \(\int \) and derivatives. In reality, though, it can (occasionally) fail and there are conditions to check. See
MAS350/61022 for details.
</p>



</div>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Properties-Brownian-motion.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Properties of Brownian motion</title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-31"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section Properties of Brownian motion ......
-->
<h4 id="autosec-32"><span class="sectionnumber">11.4&#x2003;</span>Properties of Brownian motion</h4>
<a id="notes_2-autopage-32"></a>
<a id="notes_2-autofile-5"></a>

<p>
We now examine some of the more detailed properties of Brownian motion. Recall that \(B_t\) denotes a standard Brownian motion.
</p>
<!--
......   subsubsection Symmetry ......
-->
<h6 id="autosec-33">Symmetry</h6>
<a id="notes_2-autopage-33"></a>



<p>
The normal distribution \(Z\sim N(0,\sigma ^2)\) is symmetric about \(0\), in the sense that \(-Z\) also has the distribution \(N(0,\sigma ^2)\). This symmetry about \(0\) is also present in Brownian motion.
</p>
<div class="theorembodylemma">

<ul style="list-style-type:none">



<a id="autoid-21"></a>
<li>
<p>
<span class="theoremheaderplain">Lemma 11.4.1</span> <a id="autoid-22" ></a ><a id="l:bm_sym"></a> The stochastic process \(W_t=-B_t\) is a standard Brownian motion.
</p>


</li>

</ul>

</div>

<p>
<span class="textsc">Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> We must check that \(W_t=-B_t\) satisfies the three defining properties of Brownian motion.
By the first property, \(B_t\) is almost surely continuous, hence \(-B_t\) is also almost surely continuous. Also, for \(0\leq u\leq t\) we have
</p>

<p>
\[W_t-W_u=-(B_t-B_u).\]
</p>

<p>
Since, by the second property, \(B_t-B_u\) is independent of \(\mc {F}_u\), so is \(W_t-W_u\), and we have
</p>

<p>
\[\sigma (W_v\-v\leq u)=\sigma (-W_v\-v\leq u)=\sigma (B_v\-v\leq u)=\mc {F}_u.\]
</p>

<p>
Thus \(W_t-W_u\) is independent of \(\sigma (W_v\-v\leq u)\).
</p>

<p>
Lastly, if \(Z\sim N(0,t)\) then, using the symmetry of normal random variables, \(-Z\sim N(0,t)\), so we have
</p>

<p>
\[W_t-W_u=-(B_t-B_u)\sim N(0,t-u)\]
</p>

<p>
by the third property. Hence, all three properties also hold for \((W_t)\), so \(W_t\) is a Brownian motion. Since \(W_0=-B_0=0\), we have that \((W_t)\) is a standard Brownian motion.
&#x2003;&#x2003;&#x220E;
</p>

<p>
Lemma <a href="Properties-Brownian-motion.html#l:bm_sym">11.4.1</a> is often referred to as an example of a ‘self-symmetry’ of Brownian motion, meaning a transformation of a Brownian motion that
results in another Brownian motion. It turns out that Brownian motion has many self-symmetries, and they are very important to the theory of Brownian motion.
</p>
<!--
......   subsubsection Non-differentiability ......
-->
<h6 id="autosec-35">Non-differentiability</h6>
<a id="notes_2-autopage-35"></a>



<p>
As we’ve seen in Section <a href="Brownian-motion.html#s:bm_limit">11.1</a>, the paths of Brownian motion look very jagged and erratic. We can express this idea formally: the sample paths of Brownian
motion are not differentiable!
</p>
<div class="theorembodylemma">

<ul style="list-style-type:none">



<a id="autoid-23"></a>
<li>
<p>
<span class="theoremheaderplain">Lemma 11.4.2</span> <a id="autoid-24" ></a ><a id="l:bm_non_diff"></a> Let \(t\in [0,\infty )\). Almost surely, the function \(t\mapsto B_t\) is not
differentiable at \(t\).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc">Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> Using the second property of Brownian motion, and the scaling properties of normal random
variables,
</p>

<p>
\[\frac {B_{t+h}-B_t}{h}\;\sim \;\frac {B_h}{h}\;\sim \; \frac {X}{\sqrt {h}}.\]
</p>

<p>
where \(X\sim N(0,1)\). Note that \(X\) is positive half the time and negative half the time (and \(\P [X=0]=0\)). Hence, as \(h\to 0\), we obtain that
</p>

<span class="hidden"> \(\seteqnumber{0}{11.}{5}\)</span>

<!--

                                                             
                                                                      with probability 1/2,
                                                             
                                               X a.s.        ∞
                                                             
                                               √ → X∞ =                                                                                   (11.6)                               --><a id="eq:limXsqrth"></a><!--
                                                h       −∞
                                                        
                                                                     with probability 1/2.

-->

<p>


\begin{equation}
\label {eq:limXsqrth} \frac {X}{\sqrt {h}}\stackrel {a.s.}{\to } X_\infty = \begin{cases} \infty &amp; \text { with probability }1/2, \\ -\infty &amp; \text { with probability
}1/2.    \end {cases}
\end{equation}


</p>

<p>
Form Lemma <a href="Convergence-random-variables.html#l:conv_modes">6.1.2</a>, almost sure convergence implies convergence in distribution, so this limit also holds in distribution. Since \(\frac
{B_{t+h}-B_t}{h}\) has the same distribution as \(\frac {X}{\sqrt {h}}\), we obtain that \(\frac {B_{t+h}-B_t}{h}\) converges in distribution to \(X_\infty .\)
</p>

<p>
Consider the event \(E=\{B_t\text { is differentiable at }t\}\). When the event \(E\) occurs, \(\frac {B_{t+h}-B_t}{h}\) converges to a finite quantity as \(h\to 0\). However, we saw above that
\(\frac {B_{t+h}-B_t}{h}\) had the limit \(X_\infty \), with \(\P [X_\infty \in \{\infty ,-\infty \}]=1\), so the probability that this limit is a finite quantity is zero. Therefore, \(\P [E]=0\).
&#x2003;&#x2003;&#x220E;
</p>

<p>
Pure mathematicians discovered functions that were nowhere differentiable at around the start of the \(20^{th}\) century. At first, they were widely thought to be mathematical curiosities, with little or no
importance in the ‘real’ world. A few decades later, the discovery that Brownian motion played a key role in physics, biology and mathematical finance had reversed this viewpoint.
</p>
<!--
......    subsubsection Relationship to martingales ......
-->
<h6 id="autosec-37">Relationship to martingales</h6>
<a id="notes_2-autopage-37"></a>



<p>
It turns out that there are many martingales associated to Brownian motion. Here’s two, with two more to come in exercise <a href="Exercises-on-Chapter-ref-c-bm.html#ps:mart_bm"><b>11.6</b></a>, and
others in later sections of the course.
</p>
<div class="theorembodylemma">

<ul style="list-style-type:none">



<a id="autoid-25"></a>
<li>
<p>
<span class="theoremheaderplain">Lemma 11.4.3</span> <a id="autoid-26" ></a ><a id="l:bm_mart"></a> Brownian motion is a martingale.
</p>


</li>

</ul>

</div>

<p>
<span class="textsc">Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> It is enough to look at the case \((B_t)\) of standard Brownian motion, since adding and
subtracting a deterministic constant does not change if a process is a martingale.
</p>

<p>
Since \(B_t\sim N(0,t)\) we have \(\var (B_t)&lt;\infty \), which implies that \(B_t\in L^1\). Since the filtration \((\mc {F}_t)\) is the generated filtration of \(B_t\), is immediate that \(B_t\) is
adapted. Lastly, for any \(0\leq u\leq t\) we have
</p>
<span class="hidden"> \(\seteqnumber{0}{11.}{6}\)</span>



<!--



                                                                                     E[Bt | Fu ] = E[Bt − Bu | Fu ] + E[Bu | Fu ]

                                                                                                = E[Bt − Bu ] + Bu

                                                                                                = Bu .



-->



<p>


\begin{align*}
\E [B_t\|\mc {F}_u]&amp;=\E [B_t-B_u\|\mc {F}_u]+\E [B_u\|\mc {F}_u]\\ &amp;=\E [B_t-B_u]+B_u\\ &amp;=B_u.
\end{align*}
Here, we use the properties of Brownian motion: \(B_t-B_s\) is independent of \(\mc {F}_u\) and \(\E [B_t]=\E [B_u]=0\). &#x2003;&#x2003;&#x220E;
</p>
<div class="theorembodylemma">

<ul style="list-style-type:none">



<a id="autoid-27"></a>
<li>
<p>
<span class="theoremheaderplain">Lemma 11.4.4</span> <a id="autoid-28" ></a ><a id="l:bm2_mart"></a> \(B_t^2-t\) is a martingale
</p>


</li>

</ul>

</div>

<p>
<span class="textsc">Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> Since \(B_t\sim N(0,t)\) we have \(\var (B_t)&lt;\infty \), which implies \(B^2_t\in
L^1\). Hence also \(B_t^2-t\in L^1\). Since \(B_t^2-t\) is a deterministic function of \(B_t\), we have that \(B_t^2-t\) is adapted to the generated filtration of \(B_t\). Lastly, for \(0\leq u\leq t\),
</p>
<span class="hidden"> \(\seteqnumber{0}{11.}{6}\)</span>



<!--



                                                                           E[Bt2 − t | Fu ] = E[(Bt − Bu )2 + 2Bt Bu − Bu2 | Fu ] − t

                                                                                          = E[(Bt − Bu )2 | Fu ] + 2Bu E[Bt | Fu ] − Bu2 − t

                                                                                          = E[(Bt − Bu )2 ] + 2Bu2 − Bu2 − t

                                                                                          = (t − u) + Bu2 − t

                                                                                          = Bu2 − u



-->



<p>


\begin{align*}
\E [B_t^2-t\|\mc {F}_u] &amp;=\E [(B_t-B_u)^2+2B_tB_u-B_u^2\|\mc {F}_u]-t\\ &amp;=\E [(B_t-B_u)^2\|\mc {F}_u]+2B_u\E [B_t\|\mc {F}_u]-B_u^2-t\\ &amp;=\E
[(B_t-B_u)^2]+2B_u^2-B_u^2-t\\ &amp;=(t-u)+B_u^2-t\\ &amp;=B_u^2-u
\end{align*}
as required. Here we use that \(B_t-B_u\) is independent of \(\mc {F}_u\), along with both <span class="textup">(<a href="Brownian-motion-definition.html#eq:bm_E2">11.1</a>)</span> and Lemma
<a href="Properties-Brownian-motion.html#l:bm_mart">11.4.3</a>. &#x2003;&#x2003;&#x220E;
</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Exercises-on-Chapter-ref-c-bm.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Exercises on Chapter <a href=Brownian-motion.html#c:bm>11</a></title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-40"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section Exercises on Chapter <a href=Brownian-motion.html#c:bm>11</a> ......
-->
<h4 id="autosec-41"><span class="sectionnumber">11.5&#x2003;</span>Exercises on Chapter <a href="Brownian-motion.html#c:bm">11</a></h4>
<a id="notes_2-autopage-41"></a>
<a id="notes_2-autofile-6"></a>

<p>
In all the following questions, \(B_t\) denotes standard Brownian motion.
</p>
<!--
......   subsection On Brownian motion ......
-->
<h5 id="autosec-42">On Brownian motion</h5>
<a id="notes_2-autopage-42"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>11.1</b> <a id="ps:lin_bm"></a> Consider the process \(C_t=\mu t+ \sigma B_t\), for \(t\geq 0\), where \(\mu \in \R \) and \(\sigma &gt;0\) are deterministic constants.
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> Find the mean and variance of \(C_t\).
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> Let \(0\leq u\leq t\). What is the distribution of \(C_t-C_u\)?
</p>


</li>
<li>


<p>
<span class="textnormal">(c)</span> Is \(C_t\) a random continuous function?
</p>


</li>
<li>


<p>
<span class="textnormal">(d)</span> Is \(C_t\) a Brownian motion?
</p>
</li>
</ul>
</li>
<li>


<p>
<b>11.2</b> <a id="ps:bm_covar"></a> Let \(0\leq u\leq t\). Use the properties of Brownian motion to show that \(\cov (B_t,B_u)=u\).
</p>
</li>
<li>


<p>
<b>11.3</b> <a id="ps:bm_cond_exp"></a> Let \(u\geq 0\) and \(t\geq 0\). Show that \(\E [B_t\|\mc {F}_u]=B_{\min (u,t)}\).
</p>
</li>
<li>


<p>
<b>11.4</b> <a id="ps:bm_moments"></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> Show that \(\E [B_t^n]=t(n-1)\E [B_t^{n-2}]\) for all \(n\geq 2\). <i>(Hint: Integrate by parts!)</i>
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> Deduce that \(\E [B_t^2]=t\) and \(\var (B_t^2)=2t^2\).
</p>


</li>
<li>


<p>
<span class="textnormal">(c)</span> Write down \(\E [B_t^n]\) for any \(n\in \N \).
</p>


</li>
<li>


<p>
<span class="textnormal">(d)</span> Show that \(B_t^n\in L^1\) for all \(n\in \N \).
</p>
</li>
</ul>
</li>
<li>


<p>
<b>11.5</b> <a id="ps:lognormal_mean"></a> Let \(Z\sim N(\mu ,\sigma ^2)\). Show that \(\E [e^Z]=\exp (\mu +\frac 12\sigma ^2)\). <i>(Hint: Complete the square!)</i>
</p>
</li>
<li>


<p>
<b>11.6</b> <a id="ps:mart_bm"></a> Show that the following processes are martingales.
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> \(X_t=\exp \l (\sigma B_t -\tfrac 12\sigma ^2t\r )\) where \(\sigma &gt;0\) is a deterministic constant.
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> \(Y_t=B_t^3-3tB_t\).
</p>
</li>
</ul>
</li>
<li>


<p>
<b>11.7</b> <a id="ps:second_order_ito"></a> Fix \(t&gt;0\) and for each \(n\in \N \) let \((t_k)_{k=0}^n\) be such that \(0=t_0&lt;t_1&lt;\ldots &lt;t_n=t\) and \(\max _k|t_{k+1}-t_k|\to
0\) as \(n\to \infty \). (For example: \(t_k=\frac {kt}{n}\)).
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> Show that \(\sum \limits _{k=0}^{n-1} t_{k+1}-t_k=t\) and \(\sum \limits _{k=0}^{n-1} B_{t_{k+1}}-B_{t_k}=B_t\).
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> Show that \(\sum \limits _{k=0}^{n-1} (t_{k+1}-t_k)^2\to 0\) as \(n\to \infty \).
</p>


</li>
<li>


<p>
<span class="textnormal">(c)</span> Set \(S_n=\sum \limits _{k=0}^{n-1} (B_{t_{k+1}}-B_{t_k})^2\). Show that \(\E [S_n]=t\) and that \(\var (S_n)\to 0\) as \(n\to \infty \).
</p>
</li>
</ul>
</li>
</ul>
<!--
......    subsection Challenge Questions ......
-->
<h5 id="autosec-43">Challenge Questions</h5>
<a id="notes_2-autopage-43"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>11.8</b> <a id="ps:bm_tail"></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> Let \(y\geq 1\). Show that
</p>
<p>
\[\P [B_t\geq y]\leq \sqrt {\frac {t}{2\pi }}e^{-\frac {y^2}{2t}}.\]
</p>
<p>
Let \(\alpha &gt;\frac 12\). Deduce that \(\P [B_t\geq t^\alpha ]\to 0\) as \(t\to \infty \). What about \(\alpha =\frac 12\)?
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> Let \(y\geq 0\). Show that
</p>
<p>
\[\P [B_t\geq y]\leq \frac {t}{\sqrt {2\pi }} \frac {1}{y}e^{-\frac {y^2}{2t}}.\]
</p>
<p>
Deduce that \(B_t\to 0\) in probability as \(t\searrow 0\).
</p>
</li>
</ul>
</li>
</ul>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Stochastic-integration.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Stochastic integration</title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-44"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     chapter Stochastic integration ......
-->
<h3 id="autosec-45">Chapter&nbsp;<span class="sectionnumber">12&#x2003;</span>Stochastic integration</h3>
<a id="notes_2-autopage-45"></a>
<a id="notes_2-autofile-7"></a>

<a id="c:ito"></a>

<p>
In this section we introduce stochastic integrals, through the framework of Ito integration. The mathematical framework for stochastic integration was developed in the 1950s, by the Japenese mathematician Kiyoshi
Ito (sometimes written Ito&#x0302;). It has grown into becoming one of the most effective modelling tools of the present day.
</p>

<p>
In Lemma <a href="Properties-Brownian-motion.html#l:bm_non_diff">11.4.2</a> we showed that Brownian motion was not differentiable. This is awkward, because mathematical modelling often relies on
calculus, which (in its classical form) relies heavily on working with derivatives. However, the difficulty can be overcome by forgetting about differentiation and making <i>integration</i> the central theme.
</p>
<!--
......     section Introduction to Ito calculus ......
-->
<h4 id="autosec-46"><span class="sectionnumber">12.1&#x2003;</span>Introduction to Ito calculus</h4>
<a id="notes_2-autopage-46"></a>



<a id="s:stoch_int_intro"></a>

<p>
In <b>classical calculus</b>, of the sort you are already used to using, we typically deal with objects of the form
</p>

<span class="hidden"> \(\seteqnumber{0}{12.}{0}\)</span>

<!--

                                                            Z     b
                                                                      f (t) dt                               (12.1)                                                          --><a id="eq:classical_int"></a><!--
                                                              a

-->

<p>


\begin{equation}
\label {eq:classical_int} \int _a^b f(t)\,dt
\end{equation}


</p>

<p>
where \(f\) is a suitably well behaved function. For simplicity, let’s take \(f\) to be continuous. From an intuitive point of view, we often regard <span class="textup">(<a
href="Stochastic-integration.html#eq:classical_int">12.1</a>)</span> as representing the ‘area under the curve’ \(f\) between \(a\) and \(b\). This is justified by the fact that we have
</p>

<span class="hidden"> \(\seteqnumber{0}{12.}{1}\)</span>

<!--

                              Z       b                     n
                                          f (t) dt = lim          f (ti−1 )[ti − ti−1 ]           (12.2)
                                                            X
                                                                                                                                                                     --><a id="eq:classical_int_approx"></a><!--
                                  a                   δ→0
                                                            i=1

-->

<p>


\begin{equation}
\label {eq:classical_int_approx} \int _a^b f(t)\,dt=\lim \limits _{\delta \to 0}\,\sum \limits _{i=1}^n f(t_{i-1})[t_{i}-t_{i-1}]
\end{equation}


</p>

<p>
where \((t_i)_{i=0}^n\) is such that \(a=t_0&lt;t_1&lt;\ldots &lt;t_n=b\) and \(\delta =\max _i|t_t-t_{t-1}|\). Note that sending \(\delta \to 0\) means that the \(t_i\) change position and get
closer together, and consequently \(n\to \infty \); this is a mild abuse of notation that is commonly used.
</p>

<p>
Note that if \(f\) is a <i>random</i> continuous function then <span class="textup">(<a href="Stochastic-integration.html#eq:classical_int">12.1</a>)</span> still makes sense: now, \(\int _a^b
f(t)\,dt\) is just the area under a random curve; itself a random quantity. This is one way to involve random variables in calculus. There is another:
</p>

<p>
In <b>Ito calculus</b> we are interested in integrals that are written
</p>

<p>
\[\int _a^b f(t)\,dB_t\]
</p>

<p>
where \(B_t\) is a Brownian motion. Let us begin by discussing what this new type of integral represents; it is <i>not</i> the area under a curve.
</p>

<p>
In <span class="textup">(<a href="Stochastic-integration.html#eq:classical_int_approx">12.2</a>)</span>, the \(dt\) on the left side corresponds to the \(t_i-t_{i-1}\) on the right. By analogy to
<span class="textup">(<a href="Stochastic-integration.html#eq:classical_int_approx">12.2</a>)</span>, our new \(dB_t\) term corresponds to \(B_{t_{i}}-B_{t_{i-1}}\), giving
</p>

<span class="hidden"> \(\seteqnumber{0}{12.}{2}\)</span>

<!--

                              Z    b                          n
                                          f (t) dBt = lim              f (ti−1 )[Bti − Bti−1 ].        (12.3)
                                                              X
                                                                                                                                                                          --><a id="eq:stoch_int_approx"></a><!--
                               a                        δ→0
                                                              i=1

-->

<p>


\begin{equation}
\label {eq:stoch_int_approx} \int _a^b f(t)\,dB_t=\lim \limits _{\delta \to 0}\,\sum \limits _{i=1}^n f(t_{i-1})[B_{t_{i}}-B_{t_{i-1}}].
\end{equation}


</p>

<p>
Graphically, this means that we measure the widths of the bars using increments of Brownian motion, instead of side-length. For now, let us not worry about which mode of convergence will be used for the limit, or
how to choose the \(t_i\)s.
</p>

<p>
In order to understand why this is a useful idea, from the point of view of stochastic modelling, we need to think about \(\sigma \)-fields and filtrations. In particular, let us take \(f(t)\) to be a stochastic
process, and let us assume that \(f(t)\) is adapted, with respect to the filtration \(\mc {F}_t=\sigma (B_s\-s\leq t)\). Now, consider the term
</p>

<p>
\[f(t_{i-1})[B_{t_i}-B_{t_{i-1}}].\]
</p>

<p>
This formula represents a generic model of taking a decision that then has a random effect. The value of \(f(t_{i-1})\) is chosen, based only on information known at time \(t_{i-1}\), then during
\(t_{i-1}\mapsto t_i\) the world evolves randomly around us, and the effect of our decision combined with this random evolution is represented by \(f(t_{i-1})[B_{t_i}-B_{t_{i-1}}]\).
</p>

<p>
The sum,
</p>

<span class="hidden"> \(\seteqnumber{0}{12.}{3}\)</span>

<!--


                                               n
                                                     f (ti−1 )[Bti − Bti−1 ]                        (12.4)
                                               X
                                                                                                                                                                       --><a id="eq:ito_mart_transform"></a><!--
                                               i=1

-->

<p>


\begin{equation}
\label {eq:ito_mart_transform} \sum \limits _{i=1}^n f(t_{i-1})[B_{t_{i}}-B_{t_{i-1}}]
\end{equation}


</p>

<p>
corresponds to the cumulative result of multiple decision making steps, at times \(t_0\mapsto t_1\mapsto t_2\mapsto \ldots \mapsto t_n\). At each time \(t_{i-1}\) a decision is taken for the value of
\(f(t_i)\), based only on previously available information, then the world changes randomly during \(t_{i-1}\mapsto t_i\), and at time \(t_i\) we receive and add the random effect of our decision:
\(f(t_{i-1})[B_{t_i}-B_{t_{i-1}}]\).
</p>
<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-29"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 12.1.1</span> <a id="autoid-30" ></a ><a id="r:ito_mart_trans"></a> We’ve seen this idea before, in Section <a
href="Roulette.html#s:roulette">7.2</a> when we modelled roulette using the martingale transform. If we set \(t_i=i\), \(C_n=f(t_n)\) and \(M_n=B_{t_n}=B_n\), then \(M_n\) is a discrete time martingale
(take \(\mc {F}_n=\sigma (B_i\-i\leq n)\)), and <span class="textup">(<a href="Stochastic-integration.html#eq:ito_mart_transform">12.4</a>)</span> is precisely the martingale transform
\((C\circ M)_n=\sum _{i=1}^n C_{i-1}(M_i-M_{i-1})\).
</p>


</li>

</ul>

</div>

<p>
The final stage of this intuition is to understand the limit in <span class="textup">(<a href="Stochastic-integration.html#eq:stoch_int_approx">12.3</a>)</span>. Now we take decisions at times
</p>

<p>
\[a=t_0\mapsto t_1\mapsto t_2\ldots \mapsto t_n=b\]
</p>

<p>
as \(\delta =\max _{i}|t_i-t_{i-1}|\to 0\). The corresponds to taking a <i>continuous</i> stream of decisions during the time interval \([a,b]\), each based on previously available information, each of
which has an (infinitesimally) small effect. The stochastic integral,
</p>

<p>
\[\int _a^b f(t)\,dB_t\]
</p>

<p>
corresponds to the cumulative effect of all these decisions.
</p>

<p>
Of course, the situation we are most interested in, within this course, is that of managing a portfolio. In continuous time we can <i>continually</i> take decisions to buy and sell based on the information that is
currently available to us. Our \(f(t_i)\) will be a process relating to the stocks that we hold, and the Brownian motion \(B_t\) will provide the randomness that moves stock prices up and down. Developing the
details of this modelling effort, and the pricing results that come out of it, will take up <i>the rest of the course</i>.
</p>
<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-31"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 12.1.2</span> <a id="autoid-32" ></a >In this section it was helpful to write the integrand as \(f(t)\). Since the integrand is a a stochastic process, we will often
(but by no means always) stick to our convention of denoting stochastic processes with capital letters, such as \(F_t\), giving \(\int _a^b F_t\, dB_t\).
</p>


</li>

</ul>

</div>
<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-33"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 12.1.3</span> <a id="autoid-34" ></a >As an alternative approach to defining the meaning of Ito integrals it might be tempting to try and write
</p>

<p>
\[\int _a^b F_t\,d B_t=\int _a^b F_t\,\frac {d B_t}{dt}\, dt\]
</p>

<p>
and use this idea to relate stochastic integrals to classical integrals. Unfortunately, the right hand side of the above expression does not make sense - we have shown in Lemma <a
href="Properties-Brownian-motion.html#l:bm_non_diff">11.4.2</a> that \(B_t\) is not differentiable, so \(\frac {d B_t}{dt}\) does not exist.
</p>


</li>

</ul>

</div>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Ito-integrals.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Ito integrals</title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-50"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section Ito integrals ......
-->
<h4 id="autosec-51"><span class="sectionnumber">12.2&#x2003;</span>Ito integrals</h4>
<a id="notes_2-autopage-51"></a>
<a id="notes_2-autofile-8"></a>

<p>
In Section <a href="Stochastic-integration.html#s:stoch_int_intro">12.1</a> we discussed the ideas behind Ito integrals. We did not discuss one key (theoretical) question: if and when the limit in <span
class="textup">(<a href="Stochastic-integration.html#eq:stoch_int_approx">12.3</a>)</span> actually exists?
</p>

<p>
Let us recall our usual notation. We work over a filtered space \((\Omega ,\mc {F},(\mc {F}_t),\P )\), where the filtration \(\mc {F}_t\) is the generated filtration of a Brownian motion \(B_t\). We use the
letters \(t, u\) and sometimes also \(v\), as our time variables.
</p>

<p>
We say that a stochastic process \(F_t\) is <i>locally square integrable</i> if
</p>

<span class="hidden"> \(\seteqnumber{0}{12.}{4}\)</span>

<!--

                                           Z    t    h   i
                                                    E Fu2 du < ∞.                                       (12.5)                                                     --><a id="eq:locally_sqr_int"></a><!--
                                            0

-->

<p>


\begin{equation}
\label {eq:locally_sqr_int} \int _0^t \E \l [F_u^2\r ]\,du &lt;\infty .
\end{equation}


</p>

<p>
for all \(t\in [0,\infty )\). We define \(\mc {H}^2\) to be the set of locally square integrable continuous stochastic processes \(F=(F_t)_{t=0}^\infty \) that are adapted to \((\mc {F}_t)\).
</p>

<p>
It turns out that the condition \(F\in \mc {H}^2\) is the correct condition under which to take the limits discussed in Section <a href="Stochastic-integration.html#s:stoch_int_intro">12.1</a>. The
following theorem formally states that Ito integrals exist, and gives some of their first properties.
</p>
<div class="theorembodytheorem">

<ul style="list-style-type:none">



<a id="autoid-35"></a>
<li>
<p>
<span class="theoremheaderplain">Theorem 12.2.1</span> <a id="autoid-36" ></a ><a id="t:stoch_int_final"></a> For any \(F\in \mc {H}^2\), and any \(t\in [0,\infty )\) the Ito integral
</p>

<p>
\[\int _0^t F_u\,dB_u\]
</p>

<p>
exists, and is a continuous martingale with mean and variance given by
</p>
<span class="hidden"> \(\seteqnumber{0}{12.}{5}\)</span>



<!--


                                                                                                                                       Z         t        
                                                                                                                                  E                   Fu dBu = 0,
                                                                                                                                              0
                                                                                                                                 "Z
                                                                                                                                          t              2 #       Z   t
                                                                                                                            E                 Fu dBu            =           E[Fu2 ] du.
                                                                                                                                      0                             0




-->



<p>


\begin{align*}
\E \l [\int _0^t F_u\,dB_u\r ]&amp;=0,\\ \E \l [\l (\int _0^t F_u\,dB_u\r )^2\r ]&amp;=\int _0^t\E [F_u^2]\,du.
\end{align*}


</p>


</li>

</ul>

</div>

<p>
So far we have only looked at integrals over \([0,t]\). We can extend the definition to \(\int _a^b\), simply by repeating the whole procedure above with limits \([a,b]\) instead of \([0,t]\). It is easily seen
that this gives the usual consistency property
</p>

<span class="hidden"> \(\seteqnumber{0}{12.}{5}\)</span>

<!--

                                                         Z    c              Z   b                 Z     c
                                                                  Ft dBt =           Ft dBt +                Ft dBt                                                                          (12.6)      --><a id="eq:intabc"></a><!--
                                                          a                  a                       b

-->

<p>


\begin{equation}
\label {eq:intabc} \int _a^cF_t\,dB_t=\int _a^b F_t\,dB_t+\int _b^c F_t\,dB_t
\end{equation}


</p>

<p>
for \(a\leq b\leq c\). We won’t include a proof of this in our course.
</p>

<p>
Like classical integrals, Ito integrals are linear. For \(\alpha ,\beta \in \R \) we have
</p>

<span class="hidden"> \(\seteqnumber{0}{12.}{6}\)</span>

<!--

                                            Z    b                               Z       b                   Z    b
                                                     αFt + βGt dBt = α                       Ft dBt + β               Gt dBt .                                                            (12.7)      --><a id="eq:itolinear"></a><!--
                                             a                                       a                        a

-->

<p>


\begin{equation}
\label {eq:itolinear} \int _a^b \alpha F_t+\beta G_t\,dB_t=\alpha \int _a^b F_t\,dB_t+\beta \int _a^b G_t\,dB_t.
\end{equation}


</p>

<p>
Again, we won’t include a proof of this formula in our course.
</p>

<p>
In future, we’ll use the linearity and consistency properties without comment. However, as we’ll explore in the next two sections, there are many ways in which the Ito integral does <i>not</i> behave like the
classical integral.
</p>
<!--
......    subsection Comparing Ito integration to classical integration ......
-->
<h5 id="autosec-53">Comparing Ito integration to classical integration</h5>
<a id="notes_2-autopage-53"></a>



<p>
Let us first note one similarity. It is true that
</p>

<p>
\[\int _0^t0\,dB_u=0.\]
</p>

<p>
This matches classical integrals, where we have \(\int _0^t 0\,du=0\). We can see this from <span class="textup">(<a href="Stochastic-integration.html#eq:stoch_int_approx">12.3</a>)</span>, by
setting \(f\equiv 0\), and noting that the limit of \(0\) is \(0\).
</p>

<p>
Here’s a first difference: fix some \(t&gt;0\) and let us look at \(\int _0^t 1\,dB_u\). If we set \(f\equiv 1\) in <span class="textup">(<a
href="Stochastic-integration.html#eq:stoch_int_approx">12.3</a>)</span>, then we obtain \(\sum _{i=1}^n f(t_{i-1})[B_{t_{i}}-B_{t_{i-1}}]=B_t-B_0=B_t\), and hence
</p>

<span class="hidden"> \(\seteqnumber{0}{12.}{7}\)</span>

<!--

                                                                Z    t
                                                                         1 dBu = Bt .                                                          (12.8)                                   --><a id="eq:intBt"></a><!--
                                                                 0

-->

<p>


\begin{equation}
\label {eq:intBt} \int _0^t 1\,dB_u=B_t.
\end{equation}


</p>

<p>
Of course, in classical calculus we have \(\int _0^t 1\,du=t\). This is our first example of an important principle: Ito integration behaves differently to classical integration. To illustrate further, in Section <a
href="Stochastic-differential-equations.html#s:ito">13.1</a> we will put together a set of tools for calculating Ito integrals, and in Example <a
href="Stochastic-differential-equations.html#ex:intBtBt">13.1.2</a> we will see that
</p>

<p>
\[\int _0^t B_u\,dB_u=\frac {B_t^2}{2}-\frac {t}{2}.\]
</p>

<p>
This corresponds to taking \(f(t)=B_t\) in <span class="textup">(<a href="Stochastic-integration.html#eq:stoch_int_approx">12.3</a>)</span>. Of course, in classical calculus we have \(\int _0^t
u\,du=\frac {u^2}{2}\), which is very different.
</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Existence-Ito-integrals.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Existence of Ito integrals </title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-54"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section Existence of Ito integrals        ......
-->
<h4 id="autosec-55"><span class="sectionnumber">12.3&#x2003;</span>Existence of Ito integrals \((\star )\)</h4>
<a id="notes_2-autopage-55"></a>
<a id="notes_2-autofile-9"></a>

<p>
This section is off-syllabus, and as such is marked with \((\star )\). It will not be covered in lectures.
</p>

<p>
The argument that proves Theorem <a href="Ito-integrals.html#t:stoch_int_final">12.2.1</a>, through justifying the limit taken in <span class="textup">(<a
href="Stochastic-integration.html#eq:stoch_int_approx">12.3</a>)</span>, is based heavily on martingales, metric spaces and Hilbert spaces. It comes in two steps, the first of which involves a class of
stochastic processes \(F\) known as simple processes – see Definition <a href="Existence-Ito-integrals.html#d:simple_proc">12.3.1</a> below. The second step uses limits extends the definition for simple
processes onto a much larger class. We’ll look at these two steps in turn.
</p>

<p>
We’ll use the notation \(\wedge \) and \(\vee \) from Chapter <a href="Further-theory-stochastic-processes.html#c:stoch_procs_2">8</a>. That is, we write \(\min (s,t)=s\wedge t\) and \(\max
(s,t)=s\vee t\).
</p>
<div class="theorembodydefn">

<ul style="list-style-type:none">



<a id="autoid-37"></a>
<li>
<p>
<span class="theoremheaderplain">Definition 12.3.1</span> <a id="autoid-38" ></a ><a id="d:simple_proc"></a> We say that a stochastic process \(F_u\) is a simple process if there exists deterministic
points in time \(0=t_0&lt;t_1&lt;\ldots &lt;t_m\) such that:
</p>
<ul style="list-style-type:none">


<li>
<p>
1. \(F_u\) remains constant during each interval \(u\in [t_{t-1},t_i)\), and \(F_u=0\) for \(u\geq t_m\).
</p>


</li>
<li>


<p>
2. For each \(i\), \(F_{t_i}\) is bounded and \(F_{t_i}\in \mc {F}_{t_i}\).
</p>
</li>
</ul>


</li>

</ul>

</div>

<p>
For a simple process \(F\), with \((t_i)\) as in Definition <a href="Existence-Ito-integrals.html#d:simple_proc">12.3.1</a> we define
</p>

<span class="hidden"> \(\seteqnumber{0}{12.}{8}\)</span>

<!--


                                                            n
                                                 IF (t) =         Fti−1 [Bti ∧t − Bti−1 ∧t ].                                     (12.9)
                                                            X
                                                                                                                                                                        --><a id="eq:ito_simple"></a><!--
                                                            i=1

-->

<p>


\begin{equation}
\label {eq:ito_simple} I_F(t)=\sum \limits _{i=1}^n F_{t_{i-1}}[B_{t_i\wedge t}-B_{t_{i-1}\wedge t}].
\end{equation}


</p>

<p>
Note that this is essentially the right hand side of <span class="textup">(<a href="Stochastic-integration.html#eq:stoch_int_approx">12.3</a>)</span> but without the limit. The point of the \(\wedge
t\) is that we are aiming to define an integral over \([0,t]\); the \(\wedge t\) makes sure that \(I_F(t)\) only picks up increments from the Brownian motion during \([0,t]\).
</p>

<p>
We can already see the connection to martingales (which builds on Remark <a href="Stochastic-integration.html#r:ito_mart_trans">12.1.1</a>):
</p>
<div class="theorembodylemma">

<ul style="list-style-type:none">



<a id="autoid-39"></a>
<li>
<p>
<span class="theoremheaderplain">Lemma 12.3.2</span> <a id="autoid-40" ></a ><a id="l:simple_mart"></a> Suppose that \(F_t\) is a simple process. Then \(I_F(t)\) is an \(\mc {F}_t\)
martingale.
</p>


</li>

</ul>

</div>

<p>
<span class="textsc">Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> Since a (finite) sum of martingales is a also martingale, it is enough to fix \(i\) and show
that \(M_t=F_{t_{i-1}}[B_{t_i\wedge t}-B_{t_{i-1}\wedge t}]\) is a martingale. The argument is rather messy, because we have to handle the \(\wedge t\) everywhere.
</p>

<p>
Let us look first at \(L^1\). \(F_{t_i}\) is bounded we have some deterministic \(A\in \R \) such that \(|F_{t_i}|\leq A\) (almost surely). Hence, \(\E \l [\l |F_{t_{i-1}}[B_{t_i\wedge
t}-B_{t_{i-1}\wedge t}]\r |\r ]\leq A\,\E [|B_{t_i\wedge t}-B_{t_{i-1}\wedge t}|]&lt;\infty .\) Here, we use that \(B_{t_i\wedge t}-B_{t_{i-1}\wedge t}\sim N(0,\,t_i\wedge
t-t_{i-1}\wedge t)\), which is in \(L^1\). Hence, \(M_{t}\in L^1\).
</p>

<p>
Next, adaptedness, for which we consider two cases.
</p>
<ul style="list-style-type:none">


<li>
<p>
• If \(t\geq t_{i-1}\) then \(F_{t_{i-1}}\in \mc {F}_t\). Since \(t_i\wedge t\leq t\), we have \(B_{t_i\wedge t}\in m\mc {F}_t\) and, similarly, \(B_{t_{i-1}\wedge t}\in m\mc {F}_t\), hence
also \(M_t\in m\mc {F}_t\).
</p>


</li>
<li>


<p>
• If \(t&lt;t_{i-1}\) then \(t_i\wedge t=t_{i-1}\wedge t=t\), meaning that \(B_{t_i\wedge t}-B_{t_{i-1}\wedge t}=0\). So \(M^{(i)}_{t_i}=0\), which is deterministic and therefore also in \(m\mc
{F}_t\).
</p>
</li>
</ul>

<p>
Therefore, \((M_t)\) is adapted to \((\mc {F}_t)\).
</p>

<p>
Lastly, let \(0\leq u\leq t\). Again, we consider two cases.
</p>
<ul style="list-style-type:none">


<li>
<p>
• If \(u\geq t_{i-1}\) then \(F_{t_{i-1}}\in \mc {F}_u\) and we have
</p>
<span class="hidden"> \(\seteqnumber{0}{12.}{9}\)</span>


<!--



                                                                        E Fti−1 [Bti ∧t − Bti−1 ∧t ] | Fu = Fti−1 E [Bti ∧t | Fu ] − E Bti−1 ∧t | Fu
                                                                                                                                                            


                                                                                                               = Fti−1 [Bti ∧t∧u − Bti−1 ∧t∧u ]

                                                                                                               = Fti−1 [Bti ∧u − Bti−1 ∧u ].



-->


<p>


\begin{align*}
\E \l [F_{t_{i-1}}[B_{t_i\wedge t}-B_{t_{i-1}\wedge t}]\|\mc {F}_u\r ] &amp;=F_{t_{i-1}}\l (\E \l [B_{t_i\wedge t}\|\mc {F}_u\r ]-\E \l [B_{t_{i-1}\wedge t}\|\mc {F}_u\r ]\r )\\
&amp;=F_{t_{i-1}}[B_{t_i\wedge t \wedge u}-B_{t_{i-1}\wedge t\wedge u}]\\ &amp;=F_{t_{i-1}}[B_{t_i\wedge u}-B_{t_{i-1}\wedge u}].
\end{align*}
Here, in the first line we take out what is known, and we use the martingale property of Brownian motion to deduce the second line. The third line then follows because \(u\leq t\).
</p>


</li>
<li>


<p>
• If \(u&lt; t_{i-1}\) then \(B_{t_i\wedge u}-B_{t_{i-1}\wedge u}=0\). Also, by the tower rule
</p>
<span class="hidden"> \(\seteqnumber{0}{12.}{9}\)</span>


<!--



                                                                 E Fti−1 [Bti ∧t − Bti−1 ∧t ] | Fu = E E Fti−1 [Bti ∧t − Bti−1 ∧t ] | Fti−1 | Fu
                                                                                                                                                      


                                                                                                    = E Fti−1 E Bti ∧t | Fti−1 − E Bti−1 ∧t | Fti−1
                                                                                                                                                                      
                                                                                                                                                                     | Fu

                                                                                                    = E Fti−1 Bti ∧t∧ti−1 − Bti−1 ∧t∧ti−1 | Fu
                                                                                                                                                         


                                                                                                    = E Fti−1 Bti−1 − Bti−1 | Fu
                                                                                                                                         


                                                                                                    = 0.



-->


<p>


\begin{align*}
\E \l [F_{t_{i-1}}[B_{t_i\wedge t}-B_{t_{i-1}\wedge t}]\|\mc {F}_u\r ] &amp;=\E \l [\E \l [F_{t_{i-1}}[B_{t_i\wedge t}-B_{t_{i-1}\wedge t}]\|\mc {F}_{t_{i-1}}\r ]\|\mc {F}_u\r
]\\ &amp;=\E \l [F_{t_{i-1}}\l (\E \l [B_{t_i\wedge t}\|\mc {F}_{t_{i-1}}\r ]-\E \l [B_{t_{i-1}\wedge t}\|\mc {F}_{t_{i-1}}\r ]\r )\|\mc {F}_u\r ]\\ &amp;=\E \l [F_{t_{i-1}}\l
(B_{t_i\wedge t\wedge t_{i-1}}-B_{t_{i-1}\wedge t\wedge t_{i-1}}\r )\|\mc {F}_u\r ]\\ &amp;=\E \l [F_{t_{i-1}}\l (B_{t_{i-1}}-B_{t_{i-1}}\r )\|\mc {F}_u\r ]\\ &amp;=0.
\end{align*}


</p>
</li>
</ul>

<p>
In both cases, we have shown that \(\E [M_t\|\mc {F}_u]=M_u\). &#x2003;&#x2003;&#x220E;
</p>
<div class="theorembodylemma">

<ul style="list-style-type:none">



<a id="autoid-41"></a>
<li>
<p>
<span class="theoremheaderplain">Lemma 12.3.3</span> <a id="autoid-42" ></a ><a id="l:simple_ito_isom"></a> Suppose that \(F_t\) is a simple process. Then, for any \(0\leq t\leq \infty \),
</p>

<span class="hidden"> \(\seteqnumber{0}{12.}{9}\)</span>

<!--


                               h              i     Z     t     h     i
                           E IF (t)2 =                        E Fu2 du.           (12.10)                                                                                    --><a id="eq:ito_isom_simple"></a><!--
                                                      0

-->

<p>


\begin{equation}
\label {eq:ito_isom_simple} \E \l [I_F(t)^2\r ]=\int _0^t \E \l [F_u^2\r ]\,du.
\end{equation}


</p>

<p>


</p>


</li>

</ul>

</div>

<p>
<span class="textsc">Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> See exercise <a
href="Exercises-on-Chapter-ref-c-ito.html#ps:ito_isom"><b>12.10</b></a>. The proof similar in style to that of Lemma <a href="Existence-Ito-integrals.html#l:simple_mart">12.3.2</a>.
&#x2003;&#x2003;&#x220E;
</p>

<p>
Essentially, Theorem <a href="Ito-integrals.html#t:stoch_int_final">12.2.1</a> says that Ito integrals exist for \(F\in \mc {H}^2\) and that Lemmas <a
href="Existence-Ito-integrals.html#l:simple_mart">12.3.2</a> and <a href="Existence-Ito-integrals.html#l:simple_ito_isom">12.3.3</a> are true, not just for simple processes, but for Ito integrals
in general. This observation brings us to second step of the construction of Ito integrals, although we won’t be able to cover all of the details here. It comes in two sub-steps:
</p>
<ul style="list-style-type:none">


<li>
<p>
1. Fix \(t&lt;\infty \) and begin with a process \(F\in \mc {H}^2\). Approximate \(F\) by a sequence of simple processes \(F^{(k)}\) such that
</p>
<span class="hidden"> \(\seteqnumber{0}{12.}{10}\)</span>
<!--

                          Z    t                            2 
                                   E         Fu −   Fu(k)            du → 0       (12.11)                                                                                    --><a id="eq:ito_approx_cond"></a><!--
                           0
-->
<p>


\begin{equation}
\label {eq:ito_approx_cond} \int _0^t\E \l [\l (F_u-F^{(k)}_u\r )^2\r ]\,du\to 0
\end{equation}


</p>
<p>
as \(k\to \infty \). It can be proved that this is always possible.
</p>


</li>
<li>


<p>
2. For each \(k\), \(I_{F_m}(t)\) is defined by <span class="textup">(<a href="Existence-Ito-integrals.html#eq:ito_simple">12.9</a>)</span>. We define
</p>
<span class="hidden"> \(\seteqnumber{0}{12.}{11}\)</span>
<!--

                           Z       t
                                       Fu dBu = lim IF (k) (t).                  (12.12)                                                                                   --><a id="eq:ito_simple_limit"></a><!--
                              0                      k→∞

-->
<p>


\begin{equation}
\label {eq:ito_simple_limit} \int _0^t F_u\,dB_u=\lim \limits _{k\to \infty }I_{F^{(k)}}(t).
\end{equation}


</p>
<p>
Using <span class="textup">(<a href="Existence-Ito-integrals.html#eq:ito_approx_cond">12.11</a>)</span>, it can be shown that this limit exists, with convergence in \(L^2\), and moreover its value
(on the left hand side) is independent of the choice of approximating sequence \(F^{(k)}\) (on the right hand side).
</p>
</li>
</ul>

<p>
We end with a brief summary of the mathematics that lies behind <span class="textup">(<a href="Existence-Ito-integrals.html#eq:ito_approx_cond">12.11</a>)</span> and <span
class="textup">(<a href="Existence-Ito-integrals.html#eq:ito_simple_limit">12.12</a>)</span>. We have shown that the map \(F\mapsto I_F\) takes a simple process, which is an example of a
locally square integrable adapted stochastic process, and gives back a martingale that is in \(\mc {L}^2\). If we add appropriate restrictions on the left and right continuity of \(F\), it can be shown that the map
\(F\mapsto I_F\) becomes a linear operator between two Hilbert spaces. Further, <span class="textup">(<a href="Existence-Ito-integrals.html#eq:ito_isom_simple">12.10</a>)</span> turns out to be
precisely the statement that \(F\mapsto I_F\) is an isometry (usually referred to as the <i>Ito isometry</i>). The set of simple stochastic processes is a dense subset of the space of square integrable adapted
stochastic processes, which allows us to use a powerful theorem about isometries between Hilbert spaces (known as the completion theorem) to take the limit in <span class="textup">(<a
href="Existence-Ito-integrals.html#eq:ito_simple_limit">12.12</a>)</span>.
</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Ito-processes.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Ito processes</title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-59"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section Ito processes ......
-->
<h4 id="autosec-60"><span class="sectionnumber">12.4&#x2003;</span>Ito processes</h4>
<a id="notes_2-autopage-60"></a>
<a id="notes_2-autofile-10"></a>

<p>
We are now ready to define precisely the types of stochastic process that we will be interested in for most of the remainder of this course.
</p>
<div class="theorembodydefn">

<ul style="list-style-type:none">



<a id="autoid-43"></a>
<li>
<p>
<span class="theoremheaderplain">Definition 12.4.1</span> <a id="autoid-44" ></a ><a id="d:ito_proc"></a> A stochastic process \(X\) is known as an Ito process if \(X_0\) is \(\mc {F}_0\)
measurable and \(X\) can be written in the form
</p>

<span class="hidden"> \(\seteqnumber{0}{12.}{12}\)</span>

<!--

                                          Z   t             Z   t
                            Xt = X0 +             Fu du +           Gu dBu                 (12.13)                                                                                   --><a id="eq:ito_proc"></a><!--
                                          0                 0

-->

<p>


\begin{equation}
\label {eq:ito_proc} X_t=X_0+\int _0^t F_u\,du + \int _0^t G_u\, dB_u
\end{equation}


</p>

<p>
Here, \(G\in \mc {H}^2\) and \(F\) is a continuous adapted process.
</p>


</li>

</ul>

</div>

<p>
The first integral is a classical integral: the area under the random curve \(F_t\). The second integral is an Ito integral. All Ito processes are continuous, adapted stochastic processes.
</p>

<p>
Note that, to fully specify \(X_t\), we also need to know both \(F_u\), \(G_u\), and the initial value \(X_0\). Since this means we’ll be dealing with integrals of the form \(\int _0^t F_u\,du\), it is helpful for us
to know a fact from integration theory:
</p>
<div class="theorembodylemma">

<ul style="list-style-type:none">



<a id="autoid-45"></a>
<li>
<p>
<span class="theoremheaderplain">Lemma 12.4.2</span> <a id="autoid-46" ></a ><a id="l:baby_fubini"></a> For a continuous stochastic process \(F\), if one (which \(\ra \) both) of the two sides is
finite, then we have \(\E \l [\int _0^t F_u\,du\r ]=\int _0^t\E [F_u]\,du.\)
</p>


</li>

</ul>

</div>

<p>
In words, we can swap \(\int \,du\) and \(\E \)s as long as we aren’t dealing with \(\infty \) (warning: it doesn’t work for Ito integrals, see exercise <a
href="Exercises-on-Chapter-ref-c-ito.html#ps:fubini_ito"><b>12.8</b></a>!). We won’t include a proof in this course, but you can find one which works for both \(\int \)s and \(\sum \)s in MAS61022.
</p>

<p>
We can calculate the expectation of \(X_t\) using Lemma <a href="Ito-processes.html#l:baby_fubini">12.4.2</a>.
</p>
<span class="hidden"> \(\seteqnumber{0}{12.}{13}\)</span>



<!--


                                                                                                        Z       t              Z   t         
                                                                                 E[Xt ] = E[X0 ] + E                 Fu du + E            Gu dBu .
                                                                                                             0                    0
                                                                                                    Z   t
                                                                                       = E[X0 ] +           E [Fu ] du.
                                                                                                    0




-->



<p>


\begin{align*}
\E [X_t]&amp;=\E [X_0]+\E \l [\int _0^t F_u\,du\r ]+\E \l [\int _0^t G_u\,dB_u\r ].\\ &amp;=\E [X_0]+\int _0^t \E \l [F_u\r ]\,du.
\end{align*}
Here, Lemma <a href="Ito-processes.html#l:baby_fubini">12.4.2</a> allows us to swap \(\int \) and \(\E \) for the \(du\) integral. The term \(\E [\int _0^t G_u\,dB_u]\) is zero because Theorem <a
href="Ito-integrals.html#t:stoch_int_final">12.2.1</a> told us that \(\int _0^t G_u\,dB_u\) was martingale with zero mean.
</p>
<div class="theorembodyexample">

<ul style="list-style-type:none">



<a id="autoid-47"></a>
<li>
<p>
<span class="theoremheaderplain">Example 12.4.3</span> <a id="autoid-48" ></a >Let \(X_t\) be the Ito process satisfying
</p>

<p>
\[X_t=1+\int _0^t2B_u^2\,du+\int _0^t3 u\,dB_u.\]
</p>

<p>
Then
</p>
<span class="hidden"> \(\seteqnumber{0}{12.}{13}\)</span>



<!--


                                                                                                      Z    t                Z   t            
                                                                           E[Xt ] = E[1] + E                    2Bu2 du + E            3u dBu
                                                                                                        0                      0
                                                                                         Z        t
                                                                                 =1+2                 E[Bu2 ] du
                                                                                              0
                                                                                         Z        t
                                                                                 =1+2                 u du
                                                                                              0

                                                                                 = 1 + t2 .



-->



<p>


\begin{align*}
\E [X_t]&amp;=\E [1]+\E \l [\int _0^t2B_u^2\,du\r ]+\E \l [\int _0^t 3u\,dB_u\,\r ]\\ &amp;=1+2\int _0^t\E [B_u^2]\,du\\ &amp;=1+2\int _0^t u\,du\\ &amp;=1+t^2.
\end{align*}


</p>


</li>

</ul>

</div>
<div class="theorembodyexample">

<ul style="list-style-type:none">



<a id="autoid-49"></a>
<li>
<p>
<span class="theoremheaderplain">Example 12.4.4</span> <a id="autoid-50" ></a >Brownian motion is an Ito process. It satisfies \(B_t=B_0+\int _0^t0\,du+\int _0^t 1\,dB_u\).
</p>


</li>

</ul>

</div>

<p>
A useful fact about Ito processes is that we can ‘equate coefficients’ in much the same way as we equate the coefficients of terms in polynomials. To be precise, we have
</p>
<div class="theorembodylemma">

<ul style="list-style-type:none">



<a id="autoid-51"></a>
<li>
<p>
<span class="theoremheaderplain">Lemma 12.4.5</span> <a id="autoid-52" ></a ><a id="l:ito_coeff"></a> Suppose that
</p>
<span class="hidden"> \(\seteqnumber{0}{12.}{13}\)</span>



<!--


                                                                                                        Z   t                Z       t
                                                                                           Xt = X0 +            FuX   du +               GX
                                                                                                                                          u dBu
                                                                                                            0                    0
                                                                                                        Z   t                Z   t
                                                                                            Yt = Y0 +           FuY   du +           GYu dBu
                                                                                                        0                    0




-->



<p>


\begin{align*}
X_t&amp;=X_0+\int _0^t F^X_u\,du+\int _0^tG^X_u\,dB_u\\ Y_t&amp;=Y_0+\int _0^t F^Y_u\,du+\int _0^tG^Y_u\,dB_u
\end{align*}
are Ito processes and that \(\P [\text {for all }t, X_t=Y_t]=1\). Then,
</p>

<p>
\[\P [\text {for all }t, F^X_t=F^Y_t\text { and }G^X=G^Y_t]=1.\]
</p>

<p>


</p>


</li>

</ul>

</div>

<p>
Proof of this lemma is outside of the scope of our course. However, the result will be very important to us, since it is key to the argument that will allow to hedge financial derivatives in continuous time.
</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Exercises-on-Chapter-ref-c-ito.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Exercises on Chapter <a href=Stochastic-integration.html#c:ito>12</a></title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-66"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section Exercises on Chapter <a href=Stochastic-integration.html#c:ito>12</a> ......
-->
<h4 id="autosec-67"><span class="sectionnumber">12.5&#x2003;</span>Exercises on Chapter <a href="Stochastic-integration.html#c:ito">12</a></h4>
<a id="notes_2-autopage-67"></a>
<a id="notes_2-autofile-11"></a>

<p>
In all the following questions, \(B_t\) denotes a Brownian motion and \(\mc {F}_t\) denotes its generated filtration.
</p>
<!--
......   subsection On Ito integration ......
-->
<h5 id="autosec-68">On Ito integration</h5>
<a id="notes_2-autopage-68"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>12.1</b> <a id="ps:int_Bu"></a> Using <span class="textup">(<a href="Ito-integrals.html#eq:intBt">12.8</a>)</span>, find \(\int _v^t 1\,dB_u\), where \(0\leq v\leq t\).
</p>
</li>
<li>


<p>
<b>12.2</b> <a id="ps:expBt_L2"></a> Show that the process \(e^{B_t}\) is in \(\mc {H}^2\). (Hint: Use <span class="textup">(<a
href="Brownian-motion-definition.html#eq:lognormal_mean">11.2</a>)</span>.)
</p>
</li>
<li>


<p>
<b>12.3</b> <a id="ps:not_L2"></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> Let \(Z\sim N(0,1)\). Show that the expectation of \(e^{\frac {Z^2}{2}}\) is infinite.
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> Give an example of a continuous, adapted, stochastic process that is not in \(\mc {H}^2\).
</p>
</li>
</ul>
</li>
<li>


<p>
<b>12.4</b> <a id="ps:ito_mean_var"></a> Let \(X_t\) be an Ito process satisfying
</p>
<p>
\[X_t=2+\int _0^t t+B_u^2\,du+\int _0^t B_u^2\,dB_u.\]
</p>
<p>
Find \(\E [X_t]\).
</p>
</li>
<li>


<p>
<b>12.5</b> <a id="ps:ito_proc_test"></a> Which of the following stochastic processes are Ito processes?
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> \(X_t=0\),
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> \(Y_t=t^2+B_t\),
</p>


</li>
<li>


<p>
<span class="textnormal">(c)</span> The symmetric random walk from Section <a href="Stochastic-processes.html#s:ssrw">4.1</a>.
</p>
</li>
</ul>
</li>
<li>


<p>
<b>12.6</b> <a id="ps:os_proc"></a> Let \(V_t\) be the stochastic process given by
</p>
<p>
\[V_t=e^{-kt}v+\sigma e^{-kt}\int _0^t e^{ku}\,dB_u\]
</p>
<p>
where \(k,\sigma ,v&gt;0\) are deterministic constants. Find the mean and variance of \(V_t\).
</p>
</li>
<li>


<p>
<b>12.7</b> <a id="ps:submart"></a> Suppose that \(\mu &gt;0\) is a deterministic constant and that \(\sigma _t\in \mc {H}^2\). Let \(X_t\) be given by
</p>
<p>
\[X_t=\int _0^t\mu \,du+\int _0^t\sigma _u\,dB_u.\]
</p>
<p>
Show that \(X_t\) is a submartingale.
</p>
</li>
<li>


<p>
<b>12.8</b> <a id="ps:fubini_ito"></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> Give an example of a stochastic process \(F_t\) such that \(\int _0^t \E [F_s]\,ds=\E [\int _0^t F_s\,dB_s]\).
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> Give an example of a stochastic process \(F_t\) such that \(\int _0^t \E [F_s]\,ds\neq \E [\int _0^t F_s\,dB_s]\).
</p>
</li>
</ul>
</li>
</ul>
<!--
......    subsection Challenge Questions ......
-->
<h5 id="autosec-69">Challenge Questions</h5>
<a id="notes_2-autopage-69"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>12.9</b> <a id="ps:L2_vec_space"></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> Let \(X\) and \(Y\) be random variables in \(L^2\). Show that
</p>
<p>
\[2|\E [XY]|\leq \E [X^2]+\E [Y^2]\]
</p>
</li>
<li>


<p>
<span class="textnormal">(b)</span> Show that \(\mc {H}^2\) is a real vector space.
</p>
</li>
</ul>
</li>
<li>


<p>
<b>12.10</b> <a id="ps:ito_isom"></a> \((\star )\) Prove Lemma <a href="Existence-Ito-integrals.html#l:simple_ito_isom">12.3.3</a>.
</p>
</li>
</ul>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Stochastic-differential-equations.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Stochastic differential equations</title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-70"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     chapter Stochastic differential equations ......
-->
<h3 id="autosec-71">Chapter&nbsp;<span class="sectionnumber">13&#x2003;</span>Stochastic differential equations</h3>
<a id="notes_2-autopage-71"></a>
<a id="notes_2-autofile-12"></a>

<a id="c:sdes"></a>

<p>
The situation we have arrived at is that we know Ito integrals exist but, as yet, we are unable to calculate them or do much calculation with them. We will address this issue in Section <a
href="Stochastic-differential-equations.html#s:ito">13.1</a> but first, in order to make our calculations run smoothly, we need to introduce some new notation.
</p>

<p>
We now understand how to make sense of equations of the form
</p>

<span class="hidden"> \(\seteqnumber{0}{13.}{0}\)</span>

<!--

                                                             Z    t             Z   t
                                                 Xt = X0 +            Fu du +           Gu dBt                                       (13.1)                                  --><a id="eq:example_sde"></a><!--
                                                              0                 0

-->

<p>


\begin{equation}
\label {eq:example_sde} X_t=X_0+\int _0^t F_u\,du+\int _0^t G_u\,dB_t
\end{equation}


</p>

<p>
where \(B_t\) is Brownian motion. Note that we allow cases in which the stochastic processes \(F_u,G_u\) depend on \(X_u\) (for example, we could have \(F_u=X_t^2\)), but that \(X_t\) is an unknown
stochastic process. Equations of this type are known as <i>stochastic differential equations</i>, or SDEs for short – an unfortunate name because they have no differentiation involved! They are also sometimes
known as stochastic integral equations, but for historical reasons the term SDE has become the most commonly used.
</p>

<p>
‘Solving’ the equation <span class="textup">(<a href="Stochastic-differential-equations.html#eq:example_sde">13.1</a>)</span> essentially means finding \(X_t\) in terms of \(B_t\). If \(F_t\) and
\(G_t\) depend only on \(t\) and \(B_t\), then <span class="textup">(<a href="Stochastic-differential-equations.html#eq:example_sde">13.1</a>)</span> is just an explicit formula, which
automatically that tells us that there is a solution to <span class="textup">(<a href="Stochastic-differential-equations.html#eq:example_sde">13.1</a>)</span>. However, if \(F_t\) and/or \(G_t\)
depend on \(X_t\) (e.g.&nbsp;\(F_t=2X_t\)) then <span class="textup">(<a href="Stochastic-differential-equations.html#eq:example_sde">13.1</a>)</span> is not an explicit formula and there is no
guarantee that a solution for \(X_t\) exists.
</p>
<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-53"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 13.0.1</span> <a id="autoid-54" ></a >(\(\star \)) The theory of existence and uniqueness of solutions to SDEs relies on analysis in more delicate ways than we
have time to discuss in this course. We use the term ‘solution’ for what is usually referred to in the theory of SDEs as a ‘strong solution’.
</p>

<p>
In general SDEs, like their classical counterparts ODEs, often do not have explicit solutions, and frequently have no solutions. Happily, though, in all the cases we need to consider, we will be able to write down
explicit solutions.
</p>


</li>

</ul>

</div>

<p>
Writing \(\int \)s everywhere is cumbersome, so it is common to ‘drop the \(\int \)s’ and write <span class="textup">(<a
href="Stochastic-differential-equations.html#eq:example_sde">13.1</a>)</span> as
</p>
<span class="hidden"> \(\seteqnumber{0}{13.}{1}\)</span>



<!--



                                                                                                   dXt = Ft dt + Gt dBt                         (13.2)                 --><a id="eq:example_stoch_diff"></a><!--



-->



<p>


\begin{align}
dX_t&amp;=F_t\,dt+G_t\,dB_t\label {eq:example_stoch_diff}
\end{align}
This equation has exactly the same meaning as <span class="textup">(<a href="Stochastic-differential-equations.html#eq:example_sde">13.1</a>)</span>, it is just written in different notation (to be
clear: we are not differentiating anything). The notation \(dX_t, dB_t\) used in <span class="textup">(<a href="Stochastic-differential-equations.html#eq:example_stoch_diff">13.2</a>)</span> is
known as the notation of <i>stochastic differentials</i>, and we’ll use it from now on.
</p>

<p>
When we convert from stochastic differential form <span class="textup">(<a href="Stochastic-differential-equations.html#eq:example_stoch_diff">13.2</a>)</span> to integral form <span
class="textup">(<a href="Stochastic-differential-equations.html#eq:example_sde">13.1</a>)</span> we can choose which limits to put onto the integrals. In <span class="textup">(<a
href="Stochastic-differential-equations.html#eq:example_sde">13.1</a>)</span> we choose \([0,t]\), but if \(v\leq t\) then we can also choose \([v,t]\), giving
</p>

<p>
\[X_t=X_v+\int _v^t F_u\,du+\int _v^t G_u\,dB_u.\]
</p>

<p>
(Rigorously, we can do this because <span class="textup">(<a href="Stochastic-differential-equations.html#eq:example_sde">13.1</a>)</span> holds with \(v\) in place of \(t\), which we can then
subtract from <span class="textup">(<a href="Stochastic-differential-equations.html#eq:example_stoch_diff">13.2</a>)</span> (with \(t\) as written) to obtain limits \([v,t]\).)
</p>

<p>
We can rewrite our definition of an Ito process in our new notation.
</p>
<div class="theorembodydefn">

<ul style="list-style-type:none">



<a id="autoid-55"></a>
<li>
<p>
<span class="theoremheaderplain">Definition 13.0.2</span> <a id="autoid-56" ></a ><a id="d:ito_proc_2"></a> A stochastic process \(X_t\) is an Ito process if it satisfies
</p>

<p>
\[dX_t=F_t\,dt+G_t\,dB_t\]
</p>

<p>
for some \(G\in \mc {H}^2\) and a continuous adapted stochastic process \(F\).
</p>


</li>

</ul>

</div>

<p>
We need one more piece of notation. Given an Ito process \(X_t\), as in Definition <a href="Stochastic-differential-equations.html#d:ito_proc_2">13.0.2</a>, and a stochastic process \(H_t\), we will
often write
</p>

<span class="hidden"> \(\seteqnumber{0}{13.}{2}\)</span>

<!--



                                                          dZt = Ht dXt                                                         (13.3)                   --><a id="eq:example_stoch_diff_2"></a><!--

-->

<p>


\begin{equation}
\label {eq:example_stoch_diff_2} dZ_t=H_t\,dX_t
\end{equation}


</p>

<p>
which (as a definition) we interpret to mean that
</p>
<span class="hidden"> \(\seteqnumber{0}{13.}{3}\)</span>



<!--



                                                                                        dZt = Ht (Ft dt + Gt dBt )

                                                                                            = Ht Ft dt + Ht Gt dBt .



-->



<p>


\begin{align*}
dZ_t&amp;=H_t(F_t\,dt+G_t\,dB_t)\\ &amp;=H_tF_t\,dt+H_tG_t\,dB_t.
\end{align*}
In integral form this represents
</p>

<p>
\[Z_t=Z_0+\int _0^tH_uF_u\,du+\int _0^t H_uG_u\,dB_u.\]
</p>

<p>
Of course, it is much neater to write <span class="textup">(<a href="Stochastic-differential-equations.html#eq:example_stoch_diff_2">13.3</a>)</span>.
</p>
<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-57"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 13.0.3</span> <a id="autoid-58" ></a >(\(\star \)) There is a limiting procedure that can extend the Ito integral, for a suitable class of stochastic processes
\(Z\), to define \(\int _0^t H_u\,dZ_u\) directly: in similar style to <span class="textup">(<a href="Existence-Ito-integrals.html#eq:ito_simple_limit">12.12</a>)</span> but with increments of
\(Z_t\) in place of increments of \(B_t\). This approach relies on some difficult analysis, and we won’t discuss it in this course.
</p>


</li>

</ul>

</div>
<!--
......    section Ito’s formula ......
-->
<h4 id="autosec-75"><span class="sectionnumber">13.1&#x2003;</span>Ito’s formula</h4>
<a id="notes_2-autopage-75"></a>



<a id="s:ito"></a>

<p>
We have commented that, whilst we do know that Ito integrals exist, we are not yet able to do any serious calculations with them. In fact, the situation is similar to that of conditional expectation: direct calculation
is usually difficult and, instead, we prefer to work with Ito integrals via a set of useful properties. If you think about it, this is also the situation in classical calculus – you rely on the chain and product rules,
integration by parts, etc.
</p>

<p>
From <a href="Ito-integrals.html#eq:intBt">12.8</a>, we already know that there are differences between Ito calculus and classical calculus. In fact, there is bad news: <i>none</i> of the usual
rules<sup>1</sup> used of classical calculus hold in Ito calculus.
</p>

<p>
There is also good news: Ito calculus does have its own version of the chain rule, which is known as <i>Ito’s formula</i>. Perhaps surprisingly, this alone turns out to be enough for most purposes<sup>2</sup>.
</p>

<p>
As in Definition <a href="Ito-processes.html#d:ito_proc">12.4.1</a>, let \(X\) be an Ito process satisfying
</p>

<span class="hidden"> \(\seteqnumber{0}{13.}{3}\)</span>

<!--



                                                            dXt = Ft dt + Gt dBt                                                              (13.4)                            --><a id="eq:ito_differential"></a><!--

-->

<p>


\begin{equation}
\label {eq:ito_differential} dX_t=F_t\,dt+G_t\,dB_t
\end{equation}


</p>

<p>
where \(G\in \mc {H}^2\) and \(F\) is a continuous adapted process.
</p>
<div role="note" class="footnotes">

<a id="notes_2-autopage-76"></a>

<p>
<sup>1</sup>&nbsp;Meaning: the chain rule, product rule, quotient rule, integration by parts, inverse function rule, substitution rule, implicit differentiation rule, \(\dots \)
</p>

<p>
<sup>2</sup>&nbsp;Actually, Ito calculus has a product rule too, but we won’t need it.
</p>



</div>



<div class="theorembodylemma">

<ul style="list-style-type:none">



<a id="autoid-59"></a>
<li>
<p>
<span class="theoremheaderplain">Lemma 13.1.1 (Ito’s formula)</span> <a id="autoid-60" ></a >Suppose that, for \(t\in \R \) and \(x\in \R \), \(f(t,x)\) is a deterministic function that is
differentiable in \(t\) and twice differentiable in \(x\). Then \(Z_t=f(t,X_t)\) is an Ito process and
</p>

<p>
\[dZ_t=\l \{\frac {\p f}{\p t}(t,X_t) + F_t\frac {\p f}{\p x}(t,X_t) + \frac {1}{2}G_t^2\frac {\p ^2 f}{\p x^2}(t,X_t)\r \}\,dt+ G_t\frac {\p f}{\p x}(t,X_t)\,dB_t.\]
</p>

<p>


</p>


</li>

</ul>

</div>

<p>
As in classical calculus, it is common to suppress the arguments \((t,X_t)\) of \(f\) and its derivatives. This results in simply
</p>

<span class="hidden"> \(\seteqnumber{0}{13.}{4}\)</span>

<!--


                                                                      1 ∂2f
                                                      (                        )
                                                          ∂f      ∂f                         ∂f
                                              dZt =          + Ft    + G2t 2       dt + Gt      dBt .                                         (13.5)                           --><a id="eq:ito_formula"></a><!--
                                                          ∂t      ∂x 2 ∂x                    ∂x
-->

<p>


\begin{equation}
\label {eq:ito_formula} dZ_t=\l \{\frac {\p f}{\p t} + F_t\frac {\p f}{\p x} + \frac {1}{2}G_t^2\frac {\p ^2 f}{\p x^2}\r \}\,dt+ G_t\frac {\p f}{\p x}\,dB_t.
\end{equation}


</p>

<p>
which is the notation we’ll usually use. It is sometimes helpful to simplify the expression even further, using <span class="textup">(<a
href="Stochastic-differential-equations.html#eq:example_stoch_diff_2">13.3</a>)</span> and <span class="textup">(<a
href="Stochastic-differential-equations.html#eq:ito_differential">13.4</a>)</span>, to \(dZ_t=\{\frac {\p f}{\p t} + \frac {1}{2}G_t^2\frac {\p ^2 f}{\p x^2}\}\,dt+ \frac {\p f}{\p
x}\,dX_t.\)
</p>

<p>
Before we say a few words about the proof, let us practice using Ito’s formula. We will need it repeatedly throughout the whole of remainder of the course.
</p>
<div class="theorembodyexample">

<ul style="list-style-type:none">



<a id="autoid-61"></a>
<li>
<p>
<span class="theoremheaderplain">Example 13.1.2</span> <a id="autoid-62" ></a ><a id="ex:intBtBt"></a> Let us apply Ito’s formula to calculate \(dZ_t\) where \(Z_t=B_t^2\). We have
\(Z_t=f(t,B_t)\) where \(f(t,x)=x^2\), which gives \(\frac {\p f}{\p t}=0\), \(\frac {\p f}{\p x}=2x\) and \(\frac {\p ^2f}{\p x^2}=2\). We’ll also use that \(B_t\) is an Ito process satisfying
\(dB_t=0\,dt+1\,dB_t\). From Ito’s formula,
</p>
<span class="hidden"> \(\seteqnumber{0}{13.}{5}\)</span>



<!--



                                                                                                     1
                                                                                                              
                                                                                dZt = 0 + (0)(2Bt ) + (12 )(2)     dt + (1)(2Bt ) dBt
                                                                                                     2
                                                                                    = 1 dt + 2Bt dBt .



-->



<p>


\begin{align*}
dZ_t &amp;=\l (0+(0)(2B_t)+\frac 12(1^2)(2)\r )\,dt+(1)(2B_t)\,dB_t\\ &amp;=1\,dt + 2B_t\,dB_t.
\end{align*}
In integral form this reads
</p>

<p>
\[Z_t=Z_0+\int _0^t 1\,du+\int _0^t 2B_u\,dB_u.\]
</p>

<p>
Rearranging, we obtain that
</p>

<span class="hidden"> \(\seteqnumber{0}{13.}{5}\)</span>

<!--


                                                      t              Bt2  t
                                                Z
                                                          Bu dBu =       − .                                             (13.6)                                      --><a id="eq:intBtBt"></a><!--
                                                  0                  2    2
-->

<p>


\begin{equation}
\label {eq:intBtBt} \int _0^t B_u\,dB_u=\frac {B_t^2}{2}-\frac {t}{2}.
\end{equation}


</p>

<p>
This shows that Ito calculus behaves very differently to classical calculus (of course, \(\int _0^t u\,du=\frac {u^2}{2}\)).
</p>


</li>

</ul>

</div>
<div class="theorembodyexample">

<ul style="list-style-type:none">



<a id="autoid-63"></a>
<li>
<p>
<span class="theoremheaderplain">Example 13.1.3</span> <a id="autoid-64" ></a >Suppose that \(X\) satisfies \(dX_t=\mu \,dt+\sigma \,dB_t\), where \(\mu \in \R \) and \(\sigma &gt;0\) are
deterministic constants. Let \(Z_t=X_te^t\). We want to find \(dZ_t\).
</p>

<p>
We have \(Z_t=f(t,X_t)\) where \(f(t,x)=xe^t\), and \(F_t=\mu \), \(G_t=\sigma \) so by Ito’s formula,
</p>
<span class="hidden"> \(\seteqnumber{0}{13.}{6}\)</span>



<!--



                                                                                                 1
                                                                                                            
                                                                           dZt = Xt e + (µ)(e ) + (σ 2 )(0)
                                                                                      t        t
                                                                                                                 dt + (σ)(et ) dBt
                                                                                                 2
                                                                              = (Xt + µ) et dt + σet dBt .



-->



<p>


\begin{align*}
dZ_t&amp;=\l (X_te^t + (\mu )(e^t) + \frac 12(\sigma ^2)(0)\r )\,dt+(\sigma ) (e^t)\,dB_t\\ &amp;=\l (X_t+\mu \r )e^t\,dt+\sigma e^t\,dB_t.
\end{align*}


</p>

<p>


</p>


</li>

</ul>

</div>
<div class="theorembodyexample">

<ul style="list-style-type:none">



<a id="autoid-65"></a>
<li>
<p>
<span class="theoremheaderplain">Example 13.1.4</span> <a id="autoid-66" ></a >Suppose that we want to calculate \(\E [B_t^4]\).
</p>

<p>
We define \(Z_t=B_t^4\) and use Ito’s formula to find \(dZ_t\). We have \(Z_t=f(t,B_t)\) where \(f(t,x)=x^4\). Note that Brownian motion \(B_t\) is an Ito process, with \(dB_t=0\,dt+1\,dB_t\). So,
</p>
<span class="hidden"> \(\seteqnumber{0}{13.}{6}\)</span>



<!--



                                                                                                1
                                                                                                                         
                                                                          dZt = 0 + (0)(4Bt3 ) + (12 )(12Bt2 )                 dt + (1)(4Bt3 ) dBt
                                                                                                2
                                                                              = 6Bt2 dt + 4Bt3 dBt .



-->



<p>


\begin{align*}
dZ_t&amp;=\l (0+(0)(4B_t^3)+\frac 12(1^2)(12B_t^2)\r )\,dt+(1)(4B_t^3)\,dB_t\\ &amp;=6B_t^2\,dt+4B_t^3\,dB_t.
\end{align*}
Hence, in integral form,
</p>

<p>
\[Z_t=Z_0+\int _0^t 6B_u^2\,du+\int _0^t 4B_u^3\,dB_u.\]
</p>

<p>
Taking expectations, and noting that \(Z_0=B_0^4=0\),
</p>
<span class="hidden"> \(\seteqnumber{0}{13.}{6}\)</span>



<!--


                                                                                               Z      t                 Z   t              
                                                                                 E[Zt ] = E                6Bu2 du] + E            4Bu3 dBu
                                                                                                   0                       0
                                                                                           Z   t       h      i
                                                                                       =           E 6Bu2 du + 0
                                                                                           0
                                                                                           Z   t
                                                                                       =           6u du
                                                                                           0
                                                                                           6t2
                                                                                       =
                                                                                            2
                                                                                       = 3t2 .



-->



<p>


\begin{align*}
\E [Z_t] &amp;=\E \l [\int _0^t 6B_u^2\,du]\r ]+\E \l [\int _0^t 4B_u^3\,dB_u\r ]\\ &amp;=\int _0^t \E \l [6B_u^2\r ]\,du +0\\ &amp;=\int _0^t 6 u\,du\\ &amp;=\frac {6t^2}{2}\\
&amp;=3t^2.
\end{align*}
Here, we used Lemma <a href="Ito-processes.html#l:baby_fubini">12.4.2</a> to swap \(\int \) and \(\E \) for the \(\,du\) integral, and to deduce the second line we recall from Theorem <a
href="Ito-integrals.html#t:stoch_int_final">12.2.1</a> that Ito integrals \(\int _0^t\ldots \,dB_t\) are martingales with mean zero.
</p>

<p>
The result we have obtained matches that from exercise <a href="Exercises-on-Chapter-ref-c-bm.html#ps:bm_moments"><b>11.4</b></a>, but with much less work!
</p>


</li>

</ul>

</div>
<!--
......    subsection Sketch proof of Ito’s formula             ......
-->
<h5 id="autosec-80">Sketch proof of Ito’s formula \((\star )\)</h5>
<a id="notes_2-autopage-80"></a>



<p>
The proof of Ito’s formula is very technical, and even some advanced textbooks on stochastic calculus omit a full proof. We are now getting used to the principle that (in continuous time) proofs of most important
results about stochastic processes make heavy use of analysis; in this case, Taylor’s theorem. We’ll attempt to give just an indication of where <span class="textup">(<a
href="Stochastic-differential-equations.html#eq:ito_formula">13.5</a>)</span> comes from.
</p>

<p>
Fix an interval \([0,t]\) and take \(t_k\) such that
</p>

<p>
\[0=t_0&lt;t_1&lt;t_2&lt;\ldots &lt;t_n=t.\]
</p>

<p>
We plan eventually to take a limit as \(n\to \infty \), where the minimal distance between two neighbouring \(t_k\) goes to zero. Note that this in similar style to the limit used in the construction of Ito
integrals. We’ll use the notation (just in this section)
</p>
<span class="hidden"> \(\seteqnumber{0}{13.}{6}\)</span>



<!--



                                                                                                             ∆t = tk+1 − tk

                                                                                                            ∆B = Btk+1 − Btk

                                                                                                            ∆X = Xtk+1 − Xtk .




-->



<p>


\begin{align*}
\Delta t&amp;=t_{k+1}-t_k\\ \Delta B&amp;=B_{t_{k+1}}-B_{t_k}\\ \Delta X&amp;=X_{t_{k+1}}-X_{t_k}.\\
\end{align*}


</p>

<p>
We begin by writing
</p>

<p>
\[f(t,X_t)-f(0,X_0)=\sum \limits _{k=0}^{n-1} f(t_{k+1},X_{t_{k+1}})-f(t_{k},X_{t_{k}}).\]
</p>

<p>
Then, we apply the two dimensional version of Taylor’s Theorem to \(f\) on the time interval \([t_k,t_{k+1}]\) to give us
</p>
<span class="hidden"> \(\seteqnumber{0}{13.}{6}\)</span>



<!--



                                                                                                        ∂f      ∂f      1 ∂2f         ∂2f        1 ∂2f
                                                                  f (tk+1 , Xtk+1 ) − f (tk , Xtk ) =      ∆t +    ∆X +       (∆X)2
                                                                                                                                    +     ∆X∆t +       (∆t)2
                                                                                                        ∂t      ∂x      2 ∂x2         ∂x2        2 ∂x2
                                                                                       (13.7)               + [higher order terms]                                              --><a id="eq:ito_taylor"></a><!--



-->



<p>


\begin{align}
f(t_{k+1},X_{t_{k+1}})-f(t_{k},X_{t_{k}}) &amp;=\frac {\p f}{\p t}\Delta t+\frac {\p f}{\p x}\Delta X + \frac 12\frac {\p ^2 f}{\p x^2}(\Delta X)^2 + \frac {\p ^2 f}{\p
x^2}\Delta X\Delta t + \frac 12\frac {\p ^2 f}{\p x^2}(\Delta t)^2 \notag \\ &amp;\hspace {3pc} + \text {[higher order terms]} \label {eq:ito_taylor}
\end{align}
We suppress the argument \((t_k,X_{t_k})\) of all partial derivatives of \(f\). In the ‘higher order terms’ we have terms containing \((\Delta X)^3, \Delta t(\Delta X)^2\) and so on. Using the SDE <span
class="textup">(<a href="Stochastic-differential-equations.html#eq:ito_differential">13.4</a>)</span> we have
</p>
<span class="hidden"> \(\seteqnumber{0}{13.}{7}\)</span>



<!--


                                                                                                                   Z   tk+1             Z   tk+1
                                                                                         ∆X = Xtk+1 − Xtk =                   Fu du +              Gu dBu
                                                                                                                    tk                  tk

                                                                                                                ≈ Ftk ∆t + Gtk ∆B.



-->



<p>


\begin{align*}
\Delta X=X_{t_{k+1}}-X_{t_k}&amp;=\int _{t_k}^{t_{k+1}} F_u\,du+ \int _{t_k}^{t_{k+1}} G_u\,dB_u\\ &amp;\approx F_{t_k}\Delta t + G_{t_k}\Delta B.
\end{align*}
Summing <span class="textup">(<a href="Stochastic-differential-equations.html#eq:ito_taylor">13.7</a>)</span> over \(\sum _k:=\sum _{k=0}^{n-1}\) and using this approximation, we have
</p>

<p>
\[f(t,X_t)-f(0,X_0)=I_1+I_2+I_3+J_1+J_2+J_3+\text {[higher order terms]}\]
</p>

<p>
where
</p>

<p>
\[ \begin {alignedat}{2} I_1&amp;=\sum \limits _k \frac {\p f}{\p t}\Delta t &amp;&amp; \to \int _0^t \frac {\p f}{\p x}\,du\\ I_2&amp;=\sum \limits _k \frac {\p f}{\p
x}F_{t_k}\Delta t &amp;&amp; \to \int _0^t \frac {\p f}{\p x} F_u\,du\\ I_3&amp;=\sum \limits _k \frac {\p f}{\p x}G_{t_k}\Delta B &amp;&amp; \to \int _0^t \frac {\p f}{\p x}
G_u\,dB_u\\ J_1&amp;=\frac 12 \sum \limits _k \frac {\p ^2 f}{\p x^2}G_{t_k}^2(\Delta B)^2 \hspace {5pc} &amp;&amp; \to \frac 12 \int _0^t \frac {\p ^2 f}{\p x^2}G_{u}^2\,du\\
J_2&amp;=\sum \limits _k \frac {\p ^2 f}{\p x^2}F_{t_k}G_{t_k}(\Delta B)(\Delta t) &amp;&amp; \to 0 \\ J_3&amp;=\sum \limits _k \frac {\p ^2 f}{\p x^2}F_{t_k}^2(\Delta t)^2
&amp;&amp; \to 0 \end {alignedat} \]
</p>

<p>
As we let \(n\to \infty \), and the \(t_k\) become closer together, \(\Delta t \to 0\) and the convergence shown takes place. In the case of \(I_1\) and \(I_2\) this is essentially by definition of the (classical)
integral. For \(I_3\), it is by the definition of the Ito integral, as in <span class="textup">(<a href="Stochastic-integration.html#eq:stoch_int_approx">12.3</a>)</span>. For \(J_1\), \(J_2\) and
\(J_3\) the picture is more complicated; convergence in this case follows by an extension of exercise <a href="Exercises-on-Chapter-ref-c-bm.html#ps:second_order_ito"><b>11.7</b></a>. Essentially,
exercise <a href="Exercises-on-Chapter-ref-c-bm.html#ps:second_order_ito"><b>11.7</b></a> tells us that terms of order \(\Delta t\) matter and that \((\Delta B)^2\approx \Delta t\), resulting in
</p>

<p>
\[J_1\approx \frac 12 \sum \limits _k \frac {\p ^2 f}{\p x^2}G_{t_k}^2\Delta t \hspace {3pc}\to \frac 12 \int _0^t \frac {\p ^2 f}{\p x^2}G_{u}^2\,du.\]
</p>

<p>
However, \((\Delta t)^2\) and \((\Delta t)(\Delta B)\approx (\Delta t)^{3/2}\) are both much smaller than \(\Delta t\), with the result that the terms \(J_2\) and \(J_3\) vanish as \(\Delta t\to
0\). The higher order terms in <span class="textup">(<a href="Stochastic-differential-equations.html#eq:ito_taylor">13.7</a>)</span> also vanish. Providing rigorous arguments to take all these
limits is the bulk of the work involved in a full proof of Ito’s formula.
</p>

<p>
After the limit has been taken, Ito’s formula is obtained by collecting the non-zero terms \(I_1,I_2,I_3,J_1\) together and writing the result in the notation of stochastic differentials.
</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Geometric-Brownian-motion.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Geometric Brownian motion</title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-81"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section Geometric Brownian motion ......
-->
<h4 id="autosec-82"><span class="sectionnumber">13.2&#x2003;</span>Geometric Brownian motion</h4>
<a id="notes_2-autopage-82"></a>
<a id="notes_2-autofile-13"></a> <a id="s:gbm"></a>

<p>
In this section we focus on a particular SDE, namely
</p>

<span class="hidden"> \(\seteqnumber{0}{13.}{7}\)</span>

<!--



                                                     dXt = αXt dt + σXt dBt                                                    (13.8)                                                --><a id="eq:gbm"></a><!--

-->

<p>


\begin{equation}
\label {eq:gbm} dX_t=\alpha X_t\, dt+\sigma X_t\, dB_t
\end{equation}


</p>

<p>
where \(\alpha \in \R \) and \(\sigma \geq 0\) are deterministic constants. The parameter \(\alpha \) is known as the <i>drift</i>, and \(\sigma \) is known as the <i>volatility</i>. Equation <span
class="textup">(<a href="Geometric-Brownian-motion.html#eq:gbm">13.8</a>)</span> will be important to us because it will be our next step in establishing better models for stock prices (to be continued,
in Section <a href="The-Black-Scholes-model.html#s:black_scholes_model">15.1</a>).
</p>

<p>
The solution to equation <span class="textup">(<a href="Geometric-Brownian-motion.html#eq:gbm">13.8</a>)</span>, which we will shortly show exists, is known as <i>geometric Brownian motion</i>.
</p>

<p>
The key step to solving <span class="textup">(<a href="Geometric-Brownian-motion.html#eq:gbm">13.8</a>)</span> is to work with the logarithm of \(X\). With this aim in mind, we <i>assume</i> (for
now) that there is a solution \(X\) that is strictly positive, and consider the process
</p>

<p>
\[Z_t=\log X_t.\]
</p>

<p>
Of course our assumption may not be true - but if such a solution does exist we hope to (do some calculations and with \(Z\) and) find an explicit formula for it, at which point we can go back and check we really
do have a solution.
</p>
<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-67"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 13.2.1</span> <a id="autoid-68" ></a >Taking logarithms is a natural idea to try. To see this, consider the special case \(\sigma =0\), where we find ourselves
back in the world of differential equations: \(x(t)=\int _0^t \alpha x(u)\,du\). The fundamental theorem of calculus gives \(\frac {dx}{dt}=\alpha x\). We can solve this equation by considering \(z=\log
x\), obtaining
</p>

<p>
\[\frac {dz}{dt}=\frac {dz}{dx}\frac {dx}{dt}=\frac {1}{x}\alpha x=\alpha \]
</p>

<p>
Thus \(z(t)=\alpha t+C\) and \(x(t)=e^{z(t)}=C&apos;e^{\alpha t}\).
</p>


</li>

</ul>

</div>

<p>
Using Ito’s formula, with \(Z_t=\log X_t\) (i.e. \(f(t,x)=\log x\)) we obtain
</p>
<span class="hidden"> \(\seteqnumber{0}{13.}{8}\)</span>



<!--



                                                                                                  1  1       −1                     1
                                                                                                                    
                                                                                dZt = 0 + αXt       + (σXt )2 2          dt + σXt      dBt
                                                                                                  Xt 2       Xt                     Xt
                                                                                           1
                                                                                                 
                                                                                      = α − σ2        dt + σ dBt .
                                                                                           2



-->



<p>


\begin{align*}
dZ_t&amp;=\l (0+\alpha X_t\frac {1}{X_t}+\frac 12(\sigma X_t)^2\frac {-1}{X_t^2}\r )\,dt + \sigma X_t \frac {1}{X_t}\,dB_t\\ &amp;=\l (\alpha -\frac 12\sigma ^2\r )\,dt+\sigma
\,dB_t.
\end{align*}
In integral form this gives us
</p>
<span class="hidden"> \(\seteqnumber{0}{13.}{8}\)</span>



<!--


                                                                                                          t1          t
                                                                                                      Z                  Z
                                                                                          Zt = Z0 +    α − σ 2 du +     σ dBu
                                                                                                           2
                                                                                                    0              0
                                                                                                         1
                                                                                                             
                                                                                             = Z0 + α − σ 2 t + σBt .
                                                                                                         2



-->



<p>


\begin{align*}
Z_t&amp;=Z_0+\int _0^t\alpha -\frac {1}{2}\sigma ^2\,du+\int _0^t\sigma \,dB_u\\ &amp;=Z_0+\l (\alpha -\frac 12\sigma ^2\r )t+\sigma B_t.
\end{align*}
Since \(Z_t=\log X_t\), raising both sides to the power \(e\) gives us
</p>

<span class="hidden"> \(\seteqnumber{0}{13.}{8}\)</span>

<!--


                                                                               
                                                 Xt = X0 exp (α − 12 σ 2 )t + σBt .                                                          (13.9)                      --><a id="eq:gbm_soln"></a><!--

-->

<p>


\begin{equation}
\label {eq:gbm_soln} X_t=X_0\exp \l ((\alpha -\tfrac 12\sigma ^2)t+\sigma B_t\r ).
\end{equation}


</p>

<p>
As we said, this was all based on the assumption that a (strictly positive) solution exists. But, now we have found the formula <span class="textup">(<a
href="Geometric-Brownian-motion.html#eq:gbm_soln">13.9</a>)</span>, we can go back and check that it does really give us a solution. This part is left for you, see exercise <a
href="Exercises-on-Chapter-ref-c-sdes.html#ps:gbm_check"><b>13.11</b></a>.
</p>

<p>
For future use, applying <span class="textup">(<a href="Geometric-Brownian-motion.html#eq:gbm_soln">13.9</a>)</span> at times \(t\) and \(T\), we obtain that
</p>

<span class="hidden"> \(\seteqnumber{0}{13.}{9}\)</span>

<!--


                                                                                     
                                        XT = Xt exp (α − 12 σ 2 )(T − t) + σ(BT − Bt ) .                                              (13.10)                        --><a id="eq:gbm_soln_tT"></a><!--

-->

<p>


\begin{equation}
\label {eq:gbm_soln_tT} X_T=X_t\exp \l ((\alpha -\tfrac 12\sigma ^2)(T-t)+\sigma (B_T-B_t)\r ).
\end{equation}


</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|The-Ornstein-Uhlenbeck-process.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — The Ornstein–Uhlenbeck process </title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-84"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section The Ornstein--Uhlenbeck process       ......
-->
<h4 id="autosec-85"><span class="sectionnumber">13.3&#x2003;</span>The Ornstein–Uhlenbeck process \((\Delta )\)</h4>
<a id="notes_2-autopage-85"></a>
<a id="notes_2-autofile-14"></a> <a id="s:ou_proc"></a>

<p>
**
</p>

<p>
** interest rates and the Vasicek model
</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Stochastic-exponentials-martingale-representation.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Stochastic exponentials and martingale representation</title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-86"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section Stochastic exponentials and martingale representation ......
-->
<h4 id="autosec-87"><span class="sectionnumber">13.4&#x2003;</span>Stochastic exponentials and martingale representation</h4>
<a id="notes_2-autopage-87"></a>
<a id="notes_2-autofile-15"></a> <a id="s:stoch_exp"></a>

<p>
In this section we look at a close relative of the SDE <span class="textup">(<a href="Geometric-Brownian-motion.html#eq:gbm">13.8</a>)</span> for geometric Brownian motion. In particular, we look at
</p>

<span class="hidden"> \(\seteqnumber{0}{13.}{10}\)</span>

<!--



                                                               dXt = σt Xt dBt                                                                          (13.11)                 --><a id="eq:stoch_exp"></a><!--

-->

<p>


\begin{equation}
\label {eq:stoch_exp} dX_t=\sigma _tX_t\,dB_t
\end{equation}


</p>

<p>
with the initial condition \(X_0=1\). Here, \(\sigma _t\) is a stochastic process. By comparison to <span class="textup">(<a href="Geometric-Brownian-motion.html#eq:gbm">13.8</a>)</span>, we have
set \(\alpha =0\) (which makes our life easier) but \(\sigma \) is no longer a deterministic constant (which makes our life harder).
</p>

<p>
The key idea is the same: we assume that a strictly positive solution exists, take logarithms \(Z_t=\log X_t\), then look for an explicit formula for \(Z\), and in turn an explicit formula for \(X\), which we can
then go back and check is really a solution.
</p>

<p>
From Ito’s formula we have
</p>
<span class="hidden"> \(\seteqnumber{0}{13.}{11}\)</span>



<!--



                                                                                                               1         −1                    1
                                                                                                                             
                                                                                               dZt = 0 + 0 + (σt Xt )2 2          dt + σt Xt      dBt
                                                                                                               2         Xt                    Xt
                                                                                                      1
                                                                                                   = − σt2 dt + σt dBt .
                                                                                                      2



-->



<p>


\begin{align*}
dZ_t&amp;=\l (0+0+\frac 12(\sigma _t X_t)^2\frac {-1}{X_t^2}\r )\,dt + \sigma _t X_t \frac {1}{X_t}\,dB_t\\ &amp;=-\frac 12\sigma _t^2\,dt+\sigma _t\,dB_t.
\end{align*}
This gives us
</p>

<p>
\[Z_t=Z_0+\int _0^t \sigma _u\,dB_u-\frac 12\int _0^t\sigma _u^2\,du\]
</p>

<p>
and hence
</p>

<span class="hidden"> \(\seteqnumber{0}{13.}{11}\)</span>

<!--


                                                         t              1       t
                                                    Z                      Z            
                                      Xt = X0 exp            σu dBu −               σu2 du .                                        (13.12)                                --><a id="eq:stoch_exp_pre"></a><!--
                                                     0                  2   0

-->

<p>


\begin{equation}
\label {eq:stoch_exp_pre} X_t=X_0\exp \l (\int _0^t\sigma _u\,dB_u -\frac {1}{2}\int _0^t\sigma _u^2\,du\r ).
\end{equation}


</p>

<p>
It can be checked (again, left for you, see <a href="Exercises-on-Chapter-ref-c-sdes.html#ps:stoch_exp_check"><b>13.12</b></a>) that this formula really does solve <span class="textup">(<a
href="Stochastic-exponentials-martingale-representation.html#eq:stoch_exp">13.11</a>)</span>.
</p>
<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-69"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 13.4.1</span> <a id="autoid-70" ></a >If \(\sigma \) is a deterministic constant, then <span class="textup">(<a
href="Stochastic-exponentials-martingale-representation.html#eq:stoch_exp_pre">13.12</a>)</span> becomes precisely <span class="textup">(<a
href="Geometric-Brownian-motion.html#eq:gbm_soln">13.9</a>)</span> with \(\alpha =0\); as we would expect since this is also how <span class="textup">(<a
href="Stochastic-exponentials-martingale-representation.html#eq:stoch_exp">13.11</a>)</span> is connected too <span class="textup">(<a
href="Geometric-Brownian-motion.html#eq:gbm">13.8</a>)</span>.
</p>


</li>

</ul>

</div>

<p>
In view of <span class="textup">(<a href="Stochastic-exponentials-martingale-representation.html#eq:stoch_exp_pre">13.12</a>)</span> we have:
</p>
<div class="theorembodydefn">

<ul style="list-style-type:none">



<a id="autoid-71"></a>
<li>
<p>
<span class="theoremheaderplain">Definition 13.4.2</span> <a id="autoid-72" ></a >The <i>stochastic exponential</i> of the process \(\sigma _t\) is
</p>

<p>
\[\mc {E}_\sigma (t)=\exp \l (\int _0^t\sigma _u\,dB_u-\frac {1}{2}\int _0^t\sigma _u^2\,du\r ).\]
</p>

<p>


</p>


</li>

</ul>

</div>

<p>
Of course, we have shown that \(\mc {E}_\sigma (t)\) solves <span class="textup">(<a href="Stochastic-exponentials-martingale-representation.html#eq:stoch_exp">13.11</a>)</span>, and
noting that \(\mc {E}_\sigma (0)=1\) we thus have
</p>

<span class="hidden"> \(\seteqnumber{0}{13.}{12}\)</span>

<!--

                                                           Z   t
                                            Eσ (t) = 1 +           σu Eσ (u) dBu .                        (13.13)                                     --><a id="eq:stoch_exp_int"></a><!--
                                                           0

-->

<p>


\begin{equation}
\label {eq:stoch_exp_int} \mc {E}_\sigma (t)=1+\int _0^t\sigma _u\mc {E}_\sigma (u)\,dB_u.
\end{equation}


</p>

<p>
We record this equation here because we’ll need it in the next section.
</p>
<!--
......   subsection The martingale representation theorem               ......
-->
<h5 id="autosec-90">The martingale representation theorem \((\star )\)</h5>
<a id="notes_2-autopage-90"></a>



<a id="s:mart_repr_thm"></a>

<p>
Note that this section is off-syllabus, since it is marked with a \((\star )\). However, since it covers a result that we will need in our analysis of the Black-Scholes model, it will still be covered in lectures.
</p>

<p>
Recall from Theorem <a href="Ito-integrals.html#t:stoch_int_final">12.2.1</a> that Ito integrals \(\int _0^t F_u\,dB_u\) are martingales. This might make us wonder if, given a martingale \(M_t\in
\mc {H}^2\), whether it is possible to write \(M\) as
</p>

<p>
\[M_t=M_0+\int _0^t h_u\,dB_u\]
</p>

<p>
for some stochastic process \(h\). Here, we follow common convention in denoting \(h_t\) with a lower case letter. The answer is strongly positive:
</p>
<div class="theorembodytheorem">

<ul style="list-style-type:none">



<a id="autoid-73"></a>
<li>
<p>
<span class="theoremheaderplain">Theorem 13.4.3 (Martingale Representation Theorem)</span> <a id="autoid-74" ></a ><a id="t:mart_repr"></a> Let \(M_t\in \mc {H}^2\) be a continuous
martingale. Fix \(T\in (0,\infty )\). Then there exists a stochastic process \(h_t\in \mc {H}^2\) such that
</p>

<p>
\[M_t=M_0+\int _0^t h_u\,dB_u\]
</p>

<p>
for all \(t\in [0,T]\).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc">Sketch of Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> Thanks to <span class="textup">(<a
href="Stochastic-exponentials-martingale-representation.html#eq:stoch_exp_int">13.13</a>)</span>, we already know that this theorem holds if \(M_0=1\) and \(M_t\) is the stochastic exponential of
some stochastic process \(\sigma _t\) – in this case we take \(h_t=\sigma _t\mc {E}_\sigma (t)\). The proof of the martingale representation theorem, which we don’t include in this course, works by showing
that <i>any</i> continuous martingale \(M_t\in \mc {H}^2\) can be approximated by a sequence \(M^{(n)}_t\) of continuous martingales that are themselves stochastic exponentials. As a consequence, the
martingale representation theorem tells us that the process \(h_t\) exists, but does not provide us with a formula for \(h_t\). &#x2003;&#x2003;&#x220E;
</p>

<p>
The martingale representation theorem illustrates the importance of Ito integrals, and suggests that they are likely to be helpful in situations involving continuous time martingales. In fact, Theorem <a
href="Stochastic-exponentials-martingale-representation.html#t:mart_repr">13.4.3</a> will sit right at the heart of the argument that we will use (in Section <a
href="Completeness.html#s:bs_compl">15.2</a>) to show that hedging strategies exist in continuous time.
</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Exercises-on-Chapter-ref-c-sdes.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Exercises on Chapter <a href=Stochastic-differential-equations.html#c:sdes>13</a></title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-92"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section Exercises on Chapter <a href=Stochastic-differential-equations.html#c:sdes>13</a> ......
-->
<h4 id="autosec-93"><span class="sectionnumber">13.5&#x2003;</span>Exercises on Chapter <a href="Stochastic-differential-equations.html#c:sdes">13</a></h4>
<a id="notes_2-autopage-93"></a>
<a id="notes_2-autofile-16"></a>

<p>
In all the following questions, \(B_t\) denotes a Brownian motion and \(\mc {F}_t\) denotes its generated filtration.
</p>
<!--
......   subsection On Ito’s formula ......
-->
<h5 id="autosec-94">On Ito’s formula</h5>
<a id="notes_2-autopage-94"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>13.1</b> <a id="ps:int_form"></a> Write the following equations in integral form.
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> \(dX_t=2t\,dt+B_t\,dB_t\) over the time interval \([0,t]\),
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> \(dY_t= t\,dt\) over the time interval \([t,T]\).
</p>
</li>
</ul>
<p>
Write down a differential equation satisfied by \(Y_t\). Is \(X_t\) differentiable?
</p>
</li>
<li>


<p>
<b>13.2</b> <a id="ps:ito_basic"></a> Apply Ito’s formula to find an expression for the stochastic differential of \(Z_t=t^3X_t\), where \(dX_t=\alpha \,dt+\beta \,dB_t\) and \(\alpha ,\beta \in \R
\) are deterministic constants.
</p>
</li>
<li>


<p>
<b>13.3</b> <a id="ps:various_diff"></a> In each case, find the stochastic differential \(dZ_t\), with coefficients in terms of \(t\), \(B_t\) and \(Z_t\).
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> \(Z_t=tB_t^2\)
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> \(Z_t=e^{\alpha t}\), where \(\alpha &gt;0\) is a deterministic constant.
</p>


</li>
<li>


<p>
<span class="textnormal">(c)</span> \(Z_t=(X_t)^{-1}\), where \(dX_t=t^2\,dt+B_t\,dB_t\).
</p>


</li>
<li>


<p>
<span class="textnormal">(d)</span> \(Z_t=\sin (X_t)\), where \(dX_t=\cos (X_t)\,dt+\cos (X_t)\,dB_t\).
</p>
</li>
</ul>
</li>
<li>


<p>
<b>13.4</b> <a id="ps:Btn_diff"></a> Find \(dF_t\) where \(F_t=B_t^n\), where \(n\geq 2\). Hence, show that
</p>
<p>
\[\E [B_t^n]=\frac {n(n-1)}{2}\int _0^t\E [B_u^{n-2}]\,du.\]
</p>
<p>
Check that this is consistent with the formula obtained in part (c) of exercise <a href="Exercises-on-Chapter-ref-c-bm.html#ps:bm_moments"><b>11.4</b></a>.
</p>
</li>
<li>


<p>
<b>13.5</b> <a id="ps:ito_mart"></a> Show that the following processes are martingales:
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> \(X_t=e^{t/2}\cos (B_t)\),
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> \(Y_t=(B_t+t)e^{-B_t-t/2}\).
</p>
</li>
</ul>
</li>
<li>


<p>
<b>13.6</b> <a id="ps:inttBt"></a> Use Ito’s formula to show that
</p>
<p>
\[tB_t=\int _0^t u\,dB_u+\int _0^t B_u\,du.\]
</p>
<p>


</p>
</li>
</ul>
<!--
......   subsection On stochastic differential equations ......
-->
<h5 id="autosec-95">On stochastic differential equations</h5>
<a id="notes_2-autopage-95"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>13.7</b> <a id="ps:sde_Evar_ode"></a> Suppose that \(X_t\) satisfies \(X_0=1\) and \(dX_t= (2+2t)\,dt+ B_t\,dB_t\).
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> Find \(\E [X_t]\) as a function of \(t\).
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> Let \(Y_t=X_t^2\). Calculate \(dY_t\) and hence find \(\var (X_t)\) as a function of \(t\).
</p>


</li>
<li>


<p>
<span class="textnormal">(c)</span> Suppose that \(X&apos;_t\) satisfies \(X&apos;_t=1\) and \(dX&apos;_t=(2+2t)\,dt+G_t\,dB_t\), where \(G_t\) is some unknown function of \(t\) and \(B_t\).
Based on your solutions to (a) and (b), comment on whether \(X_t\) and \(X&apos;_t\) are likely to have the same mean and/or variance.
</p>
</li>
</ul>
</li>
<li>


<p>
<b>13.8</b> <a id="ps:sde_E_ode"></a> Suppose that \(X_t\) satisfies \(X_0=1\) and \(dX_t=\alpha X_t\,dt+\sigma _t\,dB_t\), where \(\alpha \) is a deterministic constant and \(\sigma _t\) is a
stochastic process. Find \(\E [X_t]\) as a function of \(t\).
</p>
</li>
<li>


<p>
<b>13.9</b> <a id="ps:sde_Evar_ode_2"></a> Suppose that \(X_t\) satisfies \(X_t=1\) and \(dX_t=X_t\,dB_t\). Show that \(\var (X_t)=e^t-1\).
</p>
</li>
<li>


<p>
<b>13.10</b> <a id="ps:stoch_eq_ex"></a> Consider the stochastic differential equation
</p>
<p>
\[dX_t=3X_t^{1/3}\,dt+3X_t^{2/3}\,dB_t\]
</p>
<p>
with the initial condition \(X_0=0\).
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> Show that \(Z_t=B_t^3\) is a solution of this equation.
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> Can you think of another solution?
</p>
</li>
</ul>
</li>
<li>


<p>
<b>13.11</b> <a id="ps:gbm_check"></a> Check that <span class="textup">(<a href="Geometric-Brownian-motion.html#eq:gbm_soln">13.9</a>)</span> is a solution of <span class="textup">(<a
href="Geometric-Brownian-motion.html#eq:gbm">13.8</a>)</span>.
</p>
</li>
<li>


<p>
<b>13.12</b> <a id="ps:stoch_exp_check"></a> Check that <span class="textup">(<a href="Stochastic-exponentials-martingale-representation.html#eq:stoch_exp_pre">13.12</a>)</span> is a
solution of <span class="textup">(<a href="Stochastic-exponentials-martingale-representation.html#eq:stoch_exp">13.11</a>)</span>.
</p>
<p>


</p>
</li>
</ul>
<!--
......    subsection Challenge Questions ......
-->
<h5 id="autosec-96">Challenge Questions</h5>
<a id="notes_2-autopage-96"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>13.13</b> <a id="ps:mrt_explicit"></a> Fix \(T&gt;0\).
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> Let \(Y\) be an \(\mc {F}_T\) measurable random variable such that \(Y\in L^2\). Show that \(M_t=\E [Y\|\mc {F}_t]\) is a martingale for \(t\in [0,T]\).
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> You may assume that the stochastic process \(M_t\) in part (a) is continuous. Hence, for any given \(Y\in \mc {F}_T\), the martingale representation theorem, from
Section <a href="Stochastic-exponentials-martingale-representation.html#s:mart_repr_thm">13.4</a>, tells us that there exists a stochastic process \(h_t\) such that
</p>
<p>
\[M_t=M_0+\int _0^t h_u\,dB_u.\]
</p>
<p>
for all \(t\in [0,T]\). Find an explicit formula for \(h_t\) in each of the following cases.
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(i)</span> \(Y=B_T^2\)
</p>


</li>
<li>


<p>
<span class="textnormal">(ii)</span> \(Y=B_T^3\)
</p>


</li>
<li>


<p>
<span class="textnormal">(iii)</span> \(Y=e^{\sigma B_T}\), where \(\sigma &gt;0\) is a deterministic constant.
</p>
</li>
</ul>
<p>
<i>Hint: Use the various connections that we’ve already found (in lemmas, exercises, examples, etc) between Brownian motion and martingales. For example, for (i) you might look at the formula for \(dZ_t\) where
\(Z_t=B_t^2\).</i>
</p>
</li>
</ul>
</li>
</ul>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Stochastic-processes-in-continuous-time.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Stochastic processes in continuous time</title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-97"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     chapter Stochastic processes in continuous time ......
-->
<h3 id="autosec-98">Chapter&nbsp;<span class="sectionnumber">14&#x2003;</span>Stochastic processes in continuous time</h3>
<a id="notes_2-autopage-98"></a>
<a id="notes_2-autofile-17"></a>

<a id="c:stoch_procs_3"></a>

<p>
We’ve already made several comparisons between ordinary differential equations and SDEs. We make a further connection in this section: we show how SDEs can be used to represent solutions to a particular family
of partial differential equations. We’ll also develop a little bit of general theory concerning the Markov property.
</p>
<!--
......   section The Feynman-Kac formula ......
-->
<h4 id="autosec-99"><span class="sectionnumber">14.1&#x2003;</span>The Feynman-Kac formula</h4>
<a id="notes_2-autopage-99"></a>



<a id="s:fk"></a>

<p>
Consider \(F(t,x)\) where \(t\in [0,T]\) and \(x\in \R \). We will begin by looking at the partial differential equation
</p>
<span class="hidden"> \(\seteqnumber{0}{14.}{0}\)</span>



<!--



                                                                            ∂F                  ∂F         1        ∂2F
                                                                               (t, x) + α(t, x)                         (t, x) = 0
                                                                                                   (t, x) + β(t, x)2 2(14.1)                                  --><a id="eq:fk1a"></a><!--
                                                                            ∂t                  ∂x         2        ∂x
                                                                                                                       (T, x) = Φ(x)
                                                                                                                     F(14.2)                                  --><a id="eq:fk1b"></a><!--



-->



<p>


\begin{align}
\frac {\p F}{\p t}(t,x)+\alpha (t,x)\frac {\p F}{\p x}(t,x)+\frac {1}{2}\beta (t,x)^2\frac {\p ^2F}{\p x^2}(t,x)&amp;=0\label {eq:fk1a}\\ F(T,x)&amp;=\Phi (x)\label {eq:fk1b}
\end{align}
Here, \(\alpha (t,x)\) and \(\beta (t,x)\) are (deterministic) continuous functions, and \(\Phi (x)\) is a function known as the <i>boundary condition</i>.
</p>
<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-75"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 14.1.1</span> <a id="autoid-76" ></a >(\(\star \)) Those familiar with partial differential equations may want to hear the ‘proper’ terminology: this is a second
order parabolic PDE with a terminal boundary condition.
</p>


</li>

</ul>

</div>

<p>
We will now show that the solutions of this PDE can be written in terms the solutions to a SDE. In particular, let \(X\) be a stochastic process that satisfies
</p>

<span class="hidden"> \(\seteqnumber{0}{14.}{2}\)</span>

<!--



                                         dXu = α(u, Xu ) du + β(u, Xu ) dBu .                                        (14.3)                                                       --><a id="eq:fk_base"></a><!--

-->

<p>


\begin{equation}
\label {eq:fk_base} dX_u=\alpha (u,X_u)\,du+\beta (u,X_u)\,dB_u.
\end{equation}


</p>

<p>
We will need to consider solutions to this SDE where we vary the initial value of \(x\), and also the time at which the ‘initial’ value occurs. For given \(x\in \R \) and \(t\in [0,T]\) we write the subscripts \(\P
_{t,x}\) (and \(\E _{t,x}\)) to specify that \(X\) represents the solution of <span class="textup">(<a href="Stochastic-processes-in-continuous-time.html#eq:fk_base">14.3</a>)</span> with the
initial condition that \(X_t=x\) (and we are then interested in \(X_u\) during time \(u\in [t,T]\)). We will continue to use \(\P \) and \(\E \) to denote starting at time \(0\) with unspecified initial value
\(X_0\). We assume also that \(\beta (t,X_t)\frac {\p F}{\p x}(u,X_u)\) is in \(\mc {H}^2\), to ensure that the Ito integrals in the proof really exist.
</p>

<p>
The connection is as follows.
</p>
<div class="theorembodylemma">

<ul style="list-style-type:none">



<a id="autoid-77"></a>
<li>
<p>
<span class="theoremheaderplain">Lemma 14.1.2</span> <a id="autoid-78" ></a ><a id="l:fk_1"></a> Suppose that \(F\) is a solution of <span class="textup">(<a
href="Stochastic-processes-in-continuous-time.html#eq:fk1a">14.1</a>)</span> and <span class="textup">(<a
href="Stochastic-processes-in-continuous-time.html#eq:fk1b">14.2</a>)</span>. Then,
</p>

<p>
\[F(t,x)=\E _{t,x}\l [\Phi (X_T)\r ]\]
</p>

<p>
for all \(x\in \R \) and \(t\in [0,T]\).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc">Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> We apply Ito’s formula to \(Z_t=F(t,X_t)\), giving
</p>

<p>
\[dZ_t=\l (\frac {\p F}{\p t}+\alpha (t,X_t)\frac {\p F}{\p x}+\frac 12\beta (t,X_t)^2\frac {\p ^2 F}{\p x^2}\r )\,dt + \beta (t,X_t) \frac {\p F}{\p x}\,dB_t\]
</p>

<p>
where, as usual, we have suppressed the \((t,X_t)\) arguments of the partial derivatives of \(F\). We know that \(F\) satisfies the PDE <span class="textup">(<a
href="Stochastic-processes-in-continuous-time.html#eq:fk1a">14.1</a>)</span>, which means the first term on the right hand side of the above vanishes. Writing the result out with integrals, and taking
the time limits to be \([t,T]\), then gives
</p>

<p>
\[F(T,X_T)=F(t,X_t)+\int _t^T\beta (u,X_u) \frac {\p F}{\p x}(u,X_u)\,dB_u.\]
</p>

<p>
We now take expectations \(\E _{t,x}\), and recall from Theorem <a href="Ito-integrals.html#t:stoch_int_final">12.2.1</a> that the expectation of integrals with respect to \(dB_t\) is zero. Note that
here, to apply Theorem <a href="Ito-integrals.html#t:stoch_int_final">12.2.1</a>, we use that \(\beta (t,X_t)\frac {\p F}{\p x}(u,X_u)\) is in \(\mc {H}^2\). This leaves us with
</p>

<p>
\[\E _{t,x}[F(T,X_T)]=\E _{t,x}[F(t,X_t)]\]
</p>

<p>
Under \(\E _{t,x}\) we have \(X_t=x\), so \(F(t,X_t)=F(t,x)\), which is deterministic. From <span class="textup">(<a
href="Stochastic-processes-in-continuous-time.html#eq:fk1b">14.2</a>)</span> we have \(F(T,X_T)=\Phi (T)\), which is also deterministic. Hence we have
</p>

<p>
\[\E _{t,x}[\Phi (X_T)]=F(t,x)\]
</p>

<p>
as required. &#x2003;&#x2003;&#x220E;
</p>

<p>
Lemma <a href="Stochastic-processes-in-continuous-time.html#l:fk_1">14.1.2</a>, <span class="textup">(<a href="Stochastic-processes-in-continuous-time.html#eq:fk1a">14.1</a>)</span>
is very useful, from a theoretical point of view, but it is not quite what we need for later. The PDE that will turn out to be important for option pricing is
</p>
<span class="hidden"> \(\seteqnumber{0}{14.}{3}\)</span>



<!--



                                                                           ∂F                  ∂F         1           2
                                                                                                                   2∂ F
                                                                              (t, x) + α(t, x)    (t, x) + β(t, x)(14.4) (t, x) − rF (t, x) = 0                                   --><a id="eq:fk2a"></a><!--
                                                                           ∂t                  ∂x         2          ∂x2
                                                                                                                  (14.5)          F (T, x) = Φ(x)                                 --><a id="eq:fk2b"></a><!--



-->



<p>


\begin{align}
\frac {\p F}{\p t}(t,x)+\alpha (t,x)\frac {\p F}{\p x}(t,x)+\frac {1}{2}\beta (t,x)^2\frac {\p ^2F}{\p x^2}(t,x)-rF(t,x)&amp;=0\label {eq:fk2a}\\ F(T,x)&amp;=\Phi (x)\label
{eq:fk2b}
\end{align}
where \(\alpha ,\beta , \Phi \) are as before and \(r\) is a deterministic constant. We can treat this PDE in a similar style, even using the same SDE for \(X\); we just need an extra term in the calculations.
</p>
<div class="theorembodylemma">

<ul style="list-style-type:none">



<a id="autoid-79"></a>
<li>
<p>
<span class="theoremheaderplain">Lemma 14.1.3</span> <a id="autoid-80" ></a ><a id="l:fk_2"></a> Suppose that \(F\) is a solution of <span class="textup">(<a
href="Stochastic-processes-in-continuous-time.html#eq:fk2a">14.4</a>)</span> and <span class="textup">(<a
href="Stochastic-processes-in-continuous-time.html#eq:fk2b">14.5</a>)</span>. Then,
</p>

<span class="hidden"> \(\seteqnumber{0}{14.}{5}\)</span>

<!--



                                      F (t, x) = e−r(T −t) Et,x [Φ(XT )]                                           (14.6)                                                   --><a id="eq:fk_2_eq"></a><!--

-->

<p>


\begin{equation}
\label {eq:fk_2_eq} F(t,x)=e^{-r(T-t)}\E _{t,x}\l [\Phi (X_T)\r ]
\end{equation}


</p>

<p>
for all \(x\in \R \) and \(t\in [0,T]\).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc">Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> This time we apply Ito’s formula to the process \(Z_t=e^{-rt}F(t,X_t)\). We obtain
</p>
<span class="hidden"> \(\seteqnumber{0}{14.}{6}\)</span>



<!--



                                                                                                                  1
                                                                                                                                          !
                                                                                      −rt ∂F              −rt ∂F                  ∂2F                              ∂F
                                                               dZt = −re     −rt
                                                                                   F +e        + α(t, Xt )e      + β(t, Xt )2 e−rt 2          dt + β(t, Xt )e−rt      dBt
                                                                                          ∂t                  ∂x  2               ∂x                               ∂x
                                                                                                      1
                                                                                                                            !
                                                                                   ∂F             ∂F             ∂2F                                  ∂F
                                                                   =e  −rt
                                                                             −rF +    + α(t, Xt )    + β(t, Xt )2 2             dt + e−rt β(t, Xt )      dBt .
                                                                                   ∂t             ∂x  2          ∂x                                   ∂x



-->



<p>


\begin{align*}
dZ_t &amp;=\l (-re^{-rt}F+e^{-rt}\frac {\p F}{\p t}+\alpha (t,X_t)e^{-rt}\frac {\p F}{\p x}+\frac 12\beta (t,X_t)^2e^{-rt}\frac {\p ^2 F}{\p x^2}\r )\,dt+\beta
(t,X_t)e^{-rt}\frac {\p F}{\p x}\,dB_t\\ &amp;=e^{-rt}\l (-rF+\frac {\p F}{\p t}+\alpha (t,X_t)\frac {\p F}{\p x}+\frac 12\beta (t,X_t)^2\frac {\p ^2 F}{\p x^2}\r
)\,dt+e^{-rt}\beta (t,X_t)\frac {\p F}{\p x}\,dB_t.
\end{align*}
We know that \(F\) satisfies <span class="textup">(<a href="Stochastic-processes-in-continuous-time.html#eq:fk2a">14.4</a>)</span>, so the first term on the right hand side vanishes. Writing the
result as integrals with time interval \([t,T]\) we obtain
</p>

<p>
\[e^{-rT}F(T,X_T)=e^{-rt}F(t,X_t)+\int _t^T e^{-ru}\beta (u,X_u)\frac {\p F}{\p x}(u,X_u)\,dB_u.\]
</p>

<p>
The second term on the right is an Ito integral, and hence has mean zero. Taking expectations \(\E _{t,x}\) leaves us with
</p>

<p>
\[\E _{t,x}\l [e^{-rT}F(T,X_T)\r ]=\E _{t,x}\l [e^{-rt}F(t,X_t)\r ].\]
</p>

<p>
Under \(\E _{t,x}\) we have \(X_t=x\), so \(F(t,X_t)=F(t,x)\) which is deterministic. We obtain that
</p>

<p>
\[e^{-r(T-t)}\E _{t,x}\l [F(T,X_T)\r ]=F(t,x)\]
</p>

<p>
and using <span class="textup">(<a href="Stochastic-processes-in-continuous-time.html#eq:fk2b">14.5</a>)</span> then gives us
</p>

<p>
\[e^{-r(T-t)}\E _{t,x}\l [\Phi (X_T)\r ]=F(t,x)\]
</p>

<p>
as required. &#x2003;&#x2003;&#x220E;
</p>
<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-81"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 14.1.4</span> <a id="autoid-82" ></a >Setting \(r=0\) in Lemma <a href="Stochastic-processes-in-continuous-time.html#l:fk_2">14.1.3</a> gets us
back to the statement of Lemma <a href="Stochastic-processes-in-continuous-time.html#l:fk_1">14.1.2</a>.
</p>


</li>

</ul>

</div>

<p>
We can start to see the connection to finance emerging in <span class="textup">(<a href="Stochastic-processes-in-continuous-time.html#eq:fk_2_eq">14.6</a>)</span>. If we set \(t=0\), we obtain
</p>

<p>
\[F(0,x)=e^{-rT}\E _{0,x}[\Phi (X_T)]\]
</p>

<p>
which bears a resemblance to the risk-neutral valuation formula we found in Chapter <a href="The-binomial-model.html#c:bin_model">5</a>. The connection will be explored when we come to apply Lemma
<a href="Stochastic-processes-in-continuous-time.html#l:fk_2">14.1.3</a>, in Section <a href="The-Black-Scholes-equation.html#s:bs_eq">15.3</a>.
</p>

<p>
Both Lemma <a href="Stochastic-processes-in-continuous-time.html#l:fk_1">14.1.2</a> and <a href="Stochastic-processes-in-continuous-time.html#l:fk_2">14.1.3</a> assert that, for some
particular PDE, if a solution exists then it has a particular form. They assert uniqueness of solutions, without proving that a solution exists. In fact, in both cases, a (unique) solution does exist; this can be proved
either using theory from the PDE world, or by using delicate real analysis to show explicitly that \(\E _{t,x}[\Phi (X_T)]\) is differentiable. We don’t include this step in our course.
</p>

<p>
Lemmas <a href="Stochastic-processes-in-continuous-time.html#l:fk_1">14.1.2</a>, <a href="Stochastic-processes-in-continuous-time.html#l:fk_2">14.1.3</a> and variations on the same
theme are collectively known as ‘the’ <i>Feynman-Kac formula</i>. They are named after the Richard Feynman (a theoretical physicist, famous for his work in quantum mechanics) and Mark Kac (pronounced
“Kats”, a mathematician famous for his contributions to probability theory).
</p>
<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-83"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 14.1.5</span> <a id="autoid-84" ></a >\((\star )\) There are many other families of PDEs that have relationships to other families of stochastic processes.
These connections are exploited by researchers to transfer information and results between the ‘dual’ worlds of stochastic processes and PDEs.
</p>


</li>

</ul>

</div>
<div class="theorembodyexample">

<ul style="list-style-type:none">



<a id="autoid-85"></a>
<li>
<p>
<span class="theoremheaderplain">Example 14.1.6</span> <a id="autoid-86" ></a >In cases where we can solve <span class="textup">(<a
href="Stochastic-processes-in-continuous-time.html#eq:fk_base">14.3</a>)</span>, we can use the Feynman-Kac formula to find explicit solutions to PDEs. For example, consider
</p>
<span class="hidden"> \(\seteqnumber{0}{14.}{6}\)</span>



<!--



                                                                                        ∂F         1 ∂2F
                                                                                           (t, x) + σ 2 2 (t, x) = 0
                                                                                        ∂t         2 ∂x
                                                                                                               f (T, x) = x2 .



-->



<p>


\begin{align*}
\frac {\p F}{\p t}(t,x)+\frac 12\sigma ^2\frac {\p ^2 F}{\p x^2}(t,x)&amp;=0\\ f(T,x)&amp;=x^2.
\end{align*}
Here, \(\sigma \geq 0\) is a deterministic constant and \(t,x\in \R \).
</p>

<p>
We have \(\alpha (t,x)=0\), \(\beta (t,x)=\sigma \) (both constants), and \(\Phi (x)=x^2\). From Lemma <a href="Stochastic-processes-in-continuous-time.html#l:fk_1">14.1.2</a> the solution
is given by
</p>

<p>
\[F(t,x)=\E _{t,x}[X_T^2]\]
</p>

<p>
where \(dX_u=0\,du+\sigma \,dB_u=\sigma \,dB_u\). This means that
</p>
<span class="hidden"> \(\seteqnumber{0}{14.}{6}\)</span>



<!--


                                                                                                  Z   T
                                                                                  XT = Xt + σ             dBu = Xt + σ(BT − Bt ).
                                                                                                  t




-->



<p>


\begin{align*}
X_T&amp;=X_t+\sigma \int _t^T\,dB_u =X_t+\sigma (B_T-B_t).
\end{align*}
Therefore,
</p>
<span class="hidden"> \(\seteqnumber{0}{14.}{6}\)</span>



<!--


                                                                                              h                        i
                                                                               F (t, x) = Et,x (Xt + σ(BT − Bt ))2
                                                                                          h                        i
                                                                                      = E (x + σ(BT − Bt ))2
                                                                                          h                                         i
                                                                                      = E x2 + σ 2 (BT − Bt )2 + 2xσ(BT − Bt )

                                                                                      = x2 + σ 2 (T − t).



-->



<p>


\begin{align*}
F(t,x)&amp;=\E _{t,x}\l [\l (X_t+\sigma (B_T-B_t)\r )^2\r ]\\ &amp;=\E \l [\l (x+\sigma (B_T-B_t)\r )^2\r ]\\ &amp;=\E \l [x^2+\sigma ^2(B_T-B_t)^2+2x\sigma (B_T-B_t)\r ]\\
&amp;=x^2+\sigma ^2(T-t).
\end{align*}
Here, we use that \(X_t=x\) under \(\E _{t,x}\) and that \(B_T-B_t\sim B_{T-t}\sim N(0,T-t)\).
</p>

<p>
See exercises <a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#ps:fk_1"><b>14.1</b></a> and <a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#ps:fk_2"><b>14.2</b></a> for
further examples of this method.
</p>


</li>

</ul>

</div>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|The-Markov-property.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — The Markov property</title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-106"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section The Markov property ......
-->
<h4 id="autosec-107"><span class="sectionnumber">14.2&#x2003;</span>The Markov property</h4>
<a id="notes_2-autopage-107"></a>
<a id="notes_2-autofile-18"></a>

<p>
The notation \(\E _{t,x}[\ldots ]\) from Section <a href="Stochastic-processes-in-continuous-time.html#s:fk">14.1</a>, along with conditional expectation, allows us to formally express one of the
most useful concepts in probability theory: the Markov property.
</p>

<p>
Those of you taking the MAS61023 version of the course have already studied a more extensive treatment of the Markov property, in discrete time, in Section <a
href="The-strong-Markov-property.html#s:rw_markov_prop">8.4</a>. We’ll use slightly different notation here.
</p>

<p>
The idea of the Markov property is the following. Suppose that we have a stochastic process \((X_t)\), and that we have waited up until time \(t\), so the information visible to us is given by \(\mc {F}_t\). We
want to make a best guesses for some information about \(X_T\) where \(T&gt;t\). In symbols this means that we have chosen some (deterministic) function \(\Phi \) and we are interested in
</p>

<p>
\[\E [\Phi (X_T)\|\mc {F}_t].\]
</p>

<p>
In principle, we have access to all the information in \(\mc {F}_t\). However, in many cases it holds that <sup>1</sup>
</p>

<span class="hidden"> \(\seteqnumber{0}{14.}{6}\)</span>

<!--



                                          E[Φ(XT ) | Ft ] = Et,Xt [Φ(XT )].                                      (14.7)                                                --><a id="eq:markov_property"></a><!--

-->

<p>


\begin{equation}
\label {eq:markov_property} \E [\Phi (X_T)\|\mc {F}_t]=\E _{t,X_t}[\Phi (X_T)].
\end{equation}


</p>

<p>
Recall our intuition for conditional expectation: we view the left hand side of <span class="textup">(<a href="The-Markov-property.html#eq:markov_property">14.7</a>)</span> as our best guess for
\(\Phi (X_T)\), based on the information we have seen during \([0,t]\). On the right hand side, we simply start at time \(t\), fix the value of \(X_t\), run the stochastic process until time \(T\), and take
expectations. Thus, the right hand side relies on much less information (in particular, we ignore the values of \(X_u\) for \(u\in [0,t)\) and only need to know \(X_t\)).
</p>

<p>
Equation <span class="textup">(<a href="The-Markov-property.html#eq:markov_property">14.7</a>)</span> is known as the <i>Markov property</i> for the stochastic process \(X\). Not all stochastic
processes are Markov, but many of the most useful ones are. Intuitively, the future (random) behaviour of a Markov process depends on its current value – but, crucially, the future doesn’t depend on the
<i>whole</i> history of the process, just on the current value.
</p>

<p>
For our purposes we need only know that:
</p>
<div role="note" class="footnotes">

<a id="notes_2-autopage-108"></a>

<p>
<sup>1</sup>&nbsp;Formally, viewing random variables as functions on \(\Omega \), this equation reads \(\E [\Phi (X_T)](\omega )=\E _{t,X_t(\omega )}[\Phi (X_T)]\).
</p>



</div>



<div class="theorembodylemma">

<ul style="list-style-type:none">



<a id="autoid-87"></a>
<li>
<p>
<span class="theoremheaderplain">Lemma 14.2.1</span> <a id="autoid-88" ></a ><a id="l:markov:gbm"></a> All Ito processes satisfy the Markov property.
</p>


</li>

</ul>

</div>

<p>
In particular, the formula <span class="textup">(<a href="The-Markov-property.html#eq:markov_property">14.7</a>)</span> holds when \(X\) is Brownian motion, and when \(X\) is geometric Brownian
motion.
</p>
<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-89"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 14.2.2</span> <a id="autoid-90" ></a >\((\Delta )\) \((\star )\) In Section <a href="The-strong-Markov-property.html#s:rw_markov_prop">8.4</a>
we introduced the strong Markov property for random walks. All Ito processes are strongly Markov, so <span class="textup">(<a href="The-Markov-property.html#eq:markov_property">14.7</a>)</span>
also holds at stopping times \(T\).
</p>


</li>

</ul>

</div>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Exercises-on-Chapter-ref-c-stoch_procs_3.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Exercises on Chapter <a href=Stochastic-processes-in-continuous-time.html#c:stoch_procs_3>14</a></title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-110"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section Exercises on Chapter <a href=Stochastic-processes-in-continuous-time.html#c:stoch_procs_3>14</a> ......
-->
<h4 id="autosec-111"><span class="sectionnumber">14.3&#x2003;</span>Exercises on Chapter <a href="Stochastic-processes-in-continuous-time.html#c:stoch_procs_3">14</a></h4>
<a id="notes_2-autopage-111"></a>
<a id="notes_2-autofile-19"></a>
<!--
......   subsection On the Feymann-Kac formula ......
-->
<h5 id="autosec-112">On the Feymann-Kac formula</h5>
<a id="notes_2-autopage-112"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>14.1</b> <a id="ps:fk_1"></a> Find an explicit formula for the solution of the PDE
</p>
<span class="hidden"> \(\seteqnumber{0}{14.}{7}\)</span>


<!--


                                                                                         ∂f             ∂f
                                                                                            (t, x) − 2t    (t, x) = 0
                                                                                         ∂t             ∂x
                                                                                                        f (T, x) = ex .



-->


<p>


\begin{align*}
\frac {\p f}{\p t}(t,x)-2t\,\frac {\p f}{\p x}(t,x)&amp;=0\\ f(T,x)&amp;=e^x.
\end{align*}


</p>
</li>
<li>


<p>
<b>14.2</b> <a id="ps:fk_2"></a> Find an explicit formula for the solution of the PDE
</p>
<span class="hidden"> \(\seteqnumber{0}{14.}{7}\)</span>


<!--


                                                                                   ∂f          ∂f          1 ∂2f
                                                                                      (t, x) +    (t, x) +       (t, x) = 0
                                                                                   ∂t          ∂x          2 ∂x2
                                                                                                              f (T, x) = x2 .



-->


<p>


\begin{align*}
\frac {\p f}{\p t}(t,x)+\frac {\p f}{\p x}(t,x)+\frac 12\frac {\p ^2 f}{\p x^2}(t,x)&amp;=0\\ f(T,x)&amp;=x^2.
\end{align*}


</p>
</li>
<li>


<p>
<b>14.3</b> <a id="ps:fk_gamma"></a> Let \(T&gt;0\). Let \(F\) be the solution of the PDE
</p>
<span class="hidden"> \(\seteqnumber{0}{14.}{7}\)</span>


<!--


                                                                      ∂F                  ∂F          1         ∂2F         ∂γ
                                                                         (t, x) + α(t, x)               β(t, x)2 2 (t, x) +
                                                                                             (t, x) + (14.8)                   (t) = 0                        --><a id="eq:fk_gamma_1"></a><!--
                                                                      ∂t                  ∂x          2         ∂x          ∂t
                                                                                                     (14.9)               F (T, x) = Φ(x).                    --><a id="eq:fk_gamma_2"></a><!--



-->


<p>


\begin{align}
\frac {\p F}{\p t}(t,x)+\alpha (t,x)\frac {\p F}{\p x}(t,x)+\frac 12\beta (t,x)^2\frac {\p ^2 F}{\p x^2}(t,x)+\frac {\p \gamma }{\p t}(t)&amp;=0\label {eq:fk_gamma_1}\\
F(T,x)&amp;=\Phi (x).\label {eq:fk_gamma_2}
\end{align}
Here, \(\alpha (t,x)\), \(\beta (t,x)\), \(\gamma (t)\) and \(\Phi (x)\) are known functions.
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> Let \(X_t\) satisfy \(dX_u=\alpha (u,x)\,du+\beta (u,x)\,dB_u.\) Define \(Z_t=F(t,X_t)+\gamma (t)\). Use Ito’s formula to find \(dZ_t\).
</p>
</li>
<li>


<p>
<span class="textnormal">(b)</span> Show that \(F(t,x)=\E _{t,x}\l [\Phi (X_T)\r ]+\gamma (T)-\gamma (t).\)
</p>
</li>
</ul>
</li>
</ul>
<!--
......    subsection Challenge Questions ......
-->
<h5 id="autosec-113">Challenge Questions</h5>
<a id="notes_2-autopage-113"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>14.4</b> <a id="ps:non_markov"></a> Give an example of a stochastic process that is adapted to the generated filtration \((\mc {F}_t)\) of a Brownian motion \((B_t)\), but which does not satisfy the
Markov property.
</p>
</li>
</ul>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|The-Black-Scholes-model.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — The Black-Scholes model</title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-114"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     chapter The Black-Scholes model ......
-->
<h3 id="autosec-115">Chapter&nbsp;<span class="sectionnumber">15&#x2003;</span>The Black-Scholes model</h3>
<a id="notes_2-autopage-115"></a>
<a id="notes_2-autofile-20"></a>

<a id="c:bs"></a>

<p>
Our discussion of finance, in continuous time, will be centred around the <b>Black-Scholes model</b>. The Black-Scholes model is, in some sense, the continuous time version of the binomial model from Section
<a href="The-binomial-model-definition.html#s:binom">5.4</a>. Moving into continuous time has one big advantage: we can make our stock price process more realistic.
</p>
<!--
......   section The Black-Scholes market ......
-->
<h4 id="autosec-116"><span class="sectionnumber">15.1&#x2003;</span>The Black-Scholes market</h4>
<a id="notes_2-autopage-116"></a>



<a id="s:black_scholes_model"></a>

<p>
The <b>Black-Scholes market</b> contains two assets, cash and stock. In analogy to our discrete time model, cash earns interest at a deterministic rate, whereas the value of stock fluctuates randomly. As in
discrete time, the model has some parameters: \(r,\mu \) and \(\sigma \), all real valued deterministic constants.
</p>

<p>
Here is the model:
</p>
<ul style="list-style-type:none">


<li>
<p>
• The value of a unit of <b>stock</b> at time \(t\) is \(S_t\), where \(S_t\) is a geometric Brownian motion (from Section <a href="Geometric-Brownian-motion.html#s:gbm">13.2</a>) given by the SDE
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{0}\)</span>
<!--


                                         dSt = µSt dt + σSt dBt ,                                         (15.1)                                                                  --><a id="eq:stock_price"></a><!--

-->
<p>


\begin{equation}
\label {eq:stock_price} dS_t=\mu S_t\,dt+\sigma S_t\,dB_t,
\end{equation}


</p>
<p>
with initial value \(S_0\). Here, of course, \(B_t\) is a Brownian motion. From <span class="textup">(<a href="Geometric-Brownian-motion.html#eq:gbm_soln">13.9</a>)</span> we know that the
(unique) solution of this SDE is \(S_t=S_0e^{(\mu -\frac 12\sigma ^2)t+\sigma B_t}\).
</p>
</li>
<li>


<p>
• If we hold \(x\) units of <b>cash</b> at the start of a time interval of length \(t\), its final value will be \(xe^{rt}\). This is the definition of ‘cash earning interest at continuous rate \(r&gt;0\) for time \(t\)’.
</p>
<p>
A neater way of representing it is that we think of cash as an asset whose value changes over time. That is, the value of a ‘unit of cash’ at time \(t\) is given by
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{1}\)</span>
<!--


                                               dCt = rCt dt.                                               (15.2)                                                                   --><a id="eq:cash_price"></a><!--

-->
<p>


\begin{equation}
\label {eq:cash_price} dC_t=r C_t\,dt.
\end{equation}


</p>
<p>
with initial condition \(C_0=1\), and (unique) solution \(C_t=e^{rt}\).
</p>
</li>
</ul>

<p>
It might be appealing to ‘divide by \(dt\)’ and write <span class="textup">(<a href="The-Black-Scholes-model.html#eq:cash_price">15.2</a>)</span> as an ODE, in the form \(\frac
{dC_t}{dt}=rC_t\) (with solution \(C_t=C_0e^{rt}\)). Justifying this step rigorously requires an application of the fundamental theorem of calculus. Whilst it would be mathematically correct, it is not what we
want; <span class="textup">(<a href="The-Black-Scholes-model.html#eq:cash_price">15.2</a>)</span> is better because its form is more compatible with the SDE <span class="textup">(<a
href="The-Black-Scholes-model.html#eq:stock_price">15.1</a>)</span>.
</p>
<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-91"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 15.1.1</span> <a id="autoid-92" ></a >We write the initial value of the stock as \(S_0\). We will use \(s\) as a variable. Note that this is different to our use of
\(s\) in discrete time, in which we set \(s=S_0\).
</p>


</li>

</ul>

</div>

<p>
As usual, we work over a filtered space \((\Omega ,\mc {F},(\mc {F}_t),\P )\) where the filtration \(\mc {F}_t\) is generated by the Brownian motion \(B_t\), that is
</p>

<p>
\[\mc {F}_t=\sigma (B_u\-u\leq t).\]
</p>

<p>
Here, \(B_t\) is the same Brownian motion that drives the random stock price in <span class="textup">(<a href="The-Black-Scholes-model.html#eq:stock_price">15.1</a>)</span>. Within the
Black-Scholes model, \(B_t\) is the only source of randomness that we’ll need.
</p>

<p>
As in the binomial model, we assume that we can borrow both cash and stock, and hold real valued amounts in each case. Thus, our definition of a portfolio remains the same as before:
</p>
<div class="theorembodydefn">

<ul style="list-style-type:none">



<a id="autoid-93"></a>
<li>
<p>
<span class="theoremheaderplain">Definition 15.1.2</span> <a id="autoid-94" ></a >A <b>portfolio</b> is a pair \(h=(x,y)\) where \(x\in \R \) denotes an amount of cash and \(y\in \R \) denotes a
number of units of stock. The value of this portfolio at time \(t\) is
</p>

<p>
\[V^h_t=xC_t+yS_t.\]
</p>

<p>


</p>


</li>

</ul>

</div>

<p>
However, our definition of a portfolio <i>strategy</i> needs to be upgraded. Previously, at each time \(t\in \N \) we had a round of buying/selling, and then in between times \(t\mapsto t+1\) we had
stock/cash changing in value. Now, both these process must occur together, continuously. Happily, we have already developed the theoretical framework to do this:
</p>
<div class="theorembodydefn">

<ul style="list-style-type:none">



<a id="autoid-95"></a>
<li>
<p>
<span class="theoremheaderplain">Definition 15.1.3</span> <a id="autoid-96" ></a >A <b>portfolio strategy</b> is a pair of continuous stochastic processes \((h_t)=(x_t,y_t)\) where both \(x_t\)
and \(y_t\) are adapted to the filtration \(\mc {F}_t\). The value of \((h_t)\) at time \(t\) is
</p>

<p>
\[V^h_t=x_tC_t+y_tS_t.\]
</p>

<p>


</p>


</li>

</ul>

</div>

<p>
Note that here we break our usual convention of writing random quantities in capitals and deterministic quantities in lower case. The amounts of cash \(x_t\) and stock \(y_t\) that we hold at a given time are
stochastic processes. (Just like in discrete time.)
</p>

<p>
We have required that our portfolio strategies be continuous. This assumption is helpful from a mathematical point of view, because we have only developed Ito integration for continuous processes, but it is not
entirely realistic. In reality, it is possible to buy/sell large amounts of stock in a single transaction. We’ll put this issue to one side for now, but we will return to discuss discontinuities and related matters (such as
transaction costs) in Sections <a href="Application-extension-Black-Scholes-model.html#s:transaction_costs">16.1</a> and <a
href="Discontinuous-stock-prices-heavy-tails.html#s:discont">17.3</a>.
</p>
<div class="theorembodydefn">

<ul style="list-style-type:none">



<a id="autoid-97"></a>
<li>
<p>
<span class="theoremheaderplain">Definition 15.1.4</span> <a id="autoid-98" ></a ><a id="d:sf"></a> A portfolio strategy \((h_t)\) is said to be <b>self-financing</b> if
</p>

<span class="hidden"> \(\seteqnumber{0}{15.}{2}\)</span>

<!--



                                              dVth = xt dCt + yt dSt .                                              (15.3)                                                                 --><a id="eq:sf"></a><!--

-->

<p>


\begin{equation}
\label {eq:sf} dV^h_t=x_t\,dC_t+y_t\,dS_t.
\end{equation}


</p>

<p>


</p>


</li>

</ul>

</div>

<p>
We will need a little thought to understand why this definition captures the concept of a portfolio being self-financing. To do so, we need to think of a stochastic differential \(dX_t\) as ‘the change in \(X\) over a
short time interval. That is, if we choose time limits \([t,t+\delta ]\) where \(\delta \) is small then \(Y_t dX_t\) represents \(\int _{t}^{t+\delta }Y_u\,dX_u\approx Y_t(X_{t+\delta }-X_t)\). Note
that we use \(Y_t\) and not \(Y_{t+\delta }\) here to match the definition of the Ito integral in <span class="textup">(<a
href="Existence-Ito-integrals.html#eq:ito_simple_limit">12.12</a>)</span>. So, approximately, <span class="textup">(<a href="The-Black-Scholes-model.html#eq:sf">15.3</a>)</span> means
that
</p>

<p>
\[V^h_{t+\delta }-V^h_t=x_t(C_{t+\delta }-C_t)+y_t(S_{t+\delta }-S_t)\]
</p>

<p>
This means that \(x_t\) and \(y_t\) are chosen in such a way as the changes in \(C\) and \(S\) entirely explain the variation in the value \(V^h\) during the time interval \([t,t+\delta ]\). In other words, we
haven’t injected any value in, nor taken any value out. Formally, imposing this condition for all \(t\) in a limit as \(\delta \downarrow 0\) results in <span class="textup">(<a
href="The-Black-Scholes-model.html#eq:sf">15.3</a>)</span>.
</p>

<p>
Finally, and exactly as before:
</p>
<div class="theorembodydefn">

<ul style="list-style-type:none">



<a id="autoid-99"></a>
<li>
<p>
<span class="theoremheaderplain">Definition 15.1.5</span> <a id="autoid-100" ></a >We say that a self-financing portfolio strategy \((h_t)\) is an <b>arbitrage possibility</b> if
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{3}\)</span>



<!--



                                                                                                   V0h = 0

                                                                                             P[Vth ≥ 0] = 1

                                                                                             P[Vth > 0] > 0




-->



<p>


\begin{align*}
V^h_0&amp;=0\\ \P [V^h_t\geq 0]&amp;=1\\ \P [V^h_t&gt; 0]&amp;&gt;0\\
\end{align*}


</p>


</li>

</ul>

</div>
<div class="theorembodydefn">

<ul style="list-style-type:none">



<a id="autoid-101"></a>
<li>
<p>
<span class="theoremheaderplain">Definition 15.1.6</span> <a id="autoid-102" ></a >A <b>contingent claim</b> with date of exercise \(T\) is any random variable of the form \(X=\Phi (S_T)\), where
\(\Phi :[0,\infty )\to \R \) is a deterministic function.
</p>

<p>
We say that a portfolio strategy \(h_t=(x_t,y_t)\) <b>hedges</b> (or <b>replicates</b>) \(X\) if \((h_t)\) is self-financing and \(V^h_T=X\).
</p>


</li>

</ul>

</div>

<p>
For now, we restrict ourselves to portfolios \(h_t=(x_t,y_t)\) containing only cash and stock. Later on, in Chapter <a href="Application-extension-Black-Scholes-model.html#c:bs_extensions">16</a>,
we will also consider portfolios that include financial derivatives (such as call/put options).
</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Completeness.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Completeness</title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-123"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section Completeness ......
-->
<h4 id="autosec-124"><span class="sectionnumber">15.2&#x2003;</span>Completeness</h4>
<a id="notes_2-autopage-124"></a>
<a id="notes_2-autofile-21"></a> <a id="s:bs_compl"></a>

<p>
We’ll begin our analysis of the Black-Scholes model by showing that, in the Black-Scholes market, we can replicate any contingent claim that has a well-defined expectation. This is, essentially, what is meant by
completeness in the Black-Scholes model.
</p>
<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-103"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 15.2.1</span> <a id="autoid-104" ></a >The Black-Scholes model uses Ito integration. Up to now, whenever we wrote an Ito integral \(\int _0^t F_t\,dB_t\)
we were careful to check that \(F\in \mc {H}^2\). From now on, we won’t go to the trouble of checking this condition (although it does always hold). We’ll say slightly more about this issue in Section <a
href="Discontinuous-stock-prices-heavy-tails.html#s:discont">17.3</a>
</p>


</li>

</ul>

</div>

<p>
In the binomial model we discovered the importance of the so-called risk-neutral world, \(\Q \). We will see that the corresponding concept is equally important in continuous time.
</p>
<div class="theorembodydefn">

<ul style="list-style-type:none">



<a id="autoid-105"></a>
<li>
<p>
<span class="theoremheaderplain">Definition 15.2.2</span> <a id="autoid-106" ></a >The <b>risk-netural world</b> \(\Q \) is the probability measure under which \(S_t\) evolves according to the SDE
</p>

<span class="hidden"> \(\seteqnumber{0}{15.}{3}\)</span>

<!--



                                                                    dSt = rSt dt + σSt dBt .                                                          (15.4)            --><a id="eq:rnw"></a><!--

-->

<p>


\begin{equation}
\label {eq:rnw} dS_t=rS_t\,dt+\sigma S_t\,dB_t.
\end{equation}


</p>

<p>
Here, \(B_t\) has the same distribution (i.e.&nbsp;Brownian motion) under \(\Q \) as in the ‘real’ world \(\P \).
</p>


</li>

</ul>

</div>

<p>
The key point here is that, compared to the ‘real’ dynamics of \(S_t\), given in <span class="textup">(<a href="The-Black-Scholes-model.html#eq:stock_price">15.1</a>)</span>, we have replaced \(\mu
\) with \(r\).
</p>
<div class="theorembodydefn">

<ul style="list-style-type:none">



<a id="autoid-107"></a>
<li>
<p>
<span class="theoremheaderplain">Definition 15.2.3</span> <a id="autoid-108" ></a >As in Section <a href="Geometric-Brownian-motion.html#s:gbm">13.2</a>, we refer to \(r\) as the <b>drift</b>
and to \(\sigma \) as the <b>volatility</b>.
</p>


</li>

</ul>

</div>

<p>
The next lemma, at first glance, appears rather odd. It gives an awkward looking condition under which we can replicate a contingent claim. The point, as we will see immediately after, is that it turns out we can
always satisfy this condition.
</p>

<p>
For reasons that will become clear in Section <a href="American-Exotic-options.html#s:exotics">17.2</a>, in this section we’ll tend to write \(X\) (instead of our usual \(\Phi (S_T)\)) for contingent claims.
</p>
<div class="theorembodylemma">

<ul style="list-style-type:none">



<a id="autoid-109"></a>
<li>
<p>
<span class="theoremheaderplain">Lemma 15.2.4</span> <a id="autoid-110" ></a ><a id="l:compl_prep"></a> Let \(X\in \mc {F}_T\) be a contingent claim in the Black-Scholes market with exercise
time \(T\). Suppose that the stochastic process
</p>

<p>
\[M_t=e^{-rT}\E ^\Q \l [X\|\mc {F}_t\r ]\]
</p>

<p>
exists and has the stochastic differential
</p>

<span class="hidden"> \(\seteqnumber{0}{15.}{4}\)</span>

<!--



                                                                               dMt = ft dZt                                                                     (15.5)        --><a id="eq:wtf"></a><!--

-->

<p>


\begin{equation}
\label {eq:wtf} dM_t=f_t \,dZ_t
\end{equation}


</p>

<p>
where \(Z_t=e^{-rt}S_t\), for some (continuous, adapated) stochastic process \(f_t\). Then there exists a replicating portfolio strategy for \(X\).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc">Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> We are looking for a portfolio strategy \(h_t=(x_t,y_t)\) such that both
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{5}\)</span>



<!--



                                                                                                      VTh = X                            ,            (15.6)             --><a id="eq:repl_rep"></a><!--

                                                                                                    dVth = xt dCt + yt dSt .                           (15.7)             --><a id="eq:repl_sf"></a><!--



-->



<p>


\begin{align}
V^h_T&amp;=X\hspace {6pc},\label {eq:repl_rep}\\ dV^h_t&amp;=x_tdC_t+y_tdS_t.\label {eq:repl_sf}
\end{align}
Here, the first equation is ‘replication’ and the second is ‘self-financing’. The portfolio strategy we will use is
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{7}\)</span>



<!--



                                                                                                       xt = Mt − e−rt ft St
                                                                                                                                     


                                                                                                       yt = ft .



-->



<p>


\begin{align*}
x_t&amp;=\l (M_t-e^{-rt}f_tS_t\r )\\ y_t&amp;=f_t.
\end{align*}
It is immediate that \(x_t\) and \(y_t\) are continuous and adapted, so \(h_t=(x_t,y_t)\) is a portfolio strategy and we must check <span class="textup">(<a
href="Completeness.html#eq:repl_rep">15.6</a>)</span> and <span class="textup">(<a href="Completeness.html#eq:repl_sf">15.7</a>)</span> hold. Recalling that \(C_t=e^{rt}\), we note that
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{7}\)</span>



<!--



                                                                                                    Vth = xt Ct + yt St

                                                                                                          = ert Mt − ft St + ft St

                                                                                                          = ert Mt .                                   (15.8)             --><a id="eq:Vht_ito"></a><!--



-->



<p>


\begin{align}
V^h_t &amp;=x_tC_t+y_tS_t\notag \\ &amp;=e^{rt}M_t-f_tS_t+f_tS_t\notag \\ &amp;=e^{rt}M_t.\label {eq:Vht_ito}
\end{align}
Hence \(V^h_T=e^{rT}M_T=e^{rT}e^{-rT}\E ^\Q [X\|\mc {F}_T]=X\), because \(X\in \mc {F}_T\). This checks <span class="textup">(<a href="Completeness.html#eq:repl_rep">15.6</a>)</span>
i.e.&nbsp;\((h_t)\) replicates \(X\).
</p>

<p>
Now, for <span class="textup">(<a href="Completeness.html#eq:repl_sf">15.7</a>)</span>. We need to apply Ito’s formula to obtain \(dV^h_t\), and we’ll do it using <span class="textup">(<a
href="Completeness.html#eq:Vht_ito">15.8</a>)</span>. This means that we need to calculate \(dM_t\), which we can do using <span class="textup">(<a
href="Completeness.html#eq:wtf">15.5</a>)</span>, meaning that we’ll need to start by finding an expression for \(dZ_t\).
</p>

<p>
Using Ito’s formula on \(Z_t=e^{rt}S_t\) we obtain that
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{8}\)</span>



<!--



                                                                                       dZt = −rSt e−rt + µSt e−rt + 0 dt + σSt e−rt dBt
                                                                                                                             


                                                                                            = e−rt St (µ − r) dt + σe−rt St dBt .



-->



<p>


\begin{align*}
dZ_t&amp;=\l (-rS_te^{-rt}+\mu S_t e^{-rt}+0\r )\,dt+\sigma S_t e^{-rt}\,dB_t\\ &amp;=e^{-rt}S_t(\mu -r)\,dt+\sigma e^{-rt}S_t\,dB_t.
\end{align*}
This represents \(Z\) as an Ito process. Hence, using <span class="textup">(<a href="Completeness.html#eq:wtf">15.5</a>)</span>,
</p>

<p>
\[dM_t=e^{-rt}f_tS_t(\mu -r)\,dt+\sigma e^{-rt}f_tS_t\,dB_t\]
</p>

<p>
and we are now ready to apply Ito’s formula to \(V^h_t=e^{rt}M_t\). We obtain
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{8}\)</span>



<!--



                                                                                dVth = rert Mt + e−rt ft St (µ − r)ert + 0 dt + σe−rt ft St ert dBt
                                                                                                                                 


                                                                                      = rert Mt − rft St dt + ft [µSt dt + σSt dBt ]
                                                                                                          


                                                                                      = Mt − e−rt ft St        rert dt + ft [µSt dt + σSt dBt ] .
                                                                                                                   


                                                                                      = Mt − e−rt ft St dCt + ft dSt .
                                                                                                          




-->



<p>


\begin{align*}
dV^h_t &amp;=\l (re^{rt}M_t+e^{-rt}f_tS_t(\mu -r)e^{rt}+0\r )\,dt+\sigma e^{-rt}f_tS_te^{rt}\,dB_t\\ &amp;=\l (re^{rt}M_t-rf_tS_t\r )\,dt+f_t\l [\mu S_t\,dt+\sigma S_t\,dB_t\r
]\\ &amp;=\l (M_t-e^{-rt}f_tS_t\r )\l [re^{rt}\,dt\r ]+f_t\l [\mu S_t\,dt+\sigma S_t\,dB_t\r ].\\ &amp;=\l (M_t-e^{-rt}f_tS_t\r )\,dC_t+f_t\,dS_t.
\end{align*}
The second and third lines are collecting terms, so that in the final line we can use the definitions of \(dC_t\) and \(dS_t\) from <span class="textup">(<a
href="The-Black-Scholes-model.html#eq:cash_price">15.2</a>)</span> and <span class="textup">(<a href="The-Black-Scholes-model.html#eq:stock_price">15.1</a>)</span>. Recalling the
definitions of \(x_t\) and \(y_t\) we now have
</p>

<p>
\[dV^h_t=x_t\,dC_t+y_t\,dS_t\]
</p>

<p>
and, as required, we have checked <span class="textup">(<a href="Completeness.html#eq:repl_sf">15.7</a>)</span> i.e.&nbsp;\((h_t)\) is self-financing. &#x2003;&#x2003;&#x220E;
</p>
<div class="theorembodytheorem">

<ul style="list-style-type:none">



<a id="autoid-111"></a>
<li>
<p>
<span class="theoremheaderplain">Theorem 15.2.5</span> <a id="autoid-112" ></a ><a id="t:bs_compl"></a> Let \(X\in \mc {F}_T\) be a contingent claim in the Black-Scholes market with exercise
time \(T\). Suppose that \(\E ^\Q [|X|]&lt;\infty \). Then there exists a replicating portfolio strategy for \(X\).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc">Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> We define \(M_t=e^{-rT}\E ^\Q \l [X\|\mc {F}_t\r ]\) and look to apply Lemma <a
href="Completeness.html#l:compl_prep">15.2.4</a>. Note that since \(\E ^\Q [|X|]&lt;\infty \) this conditional expectation is well defined. From Example <a href="Martingales.html#ex:m2">3.3.9</a>
(which is easily adapted to continuous time) we have that \(\E [X\|\mc {F}_t]\) is a martingale. Hence, since \(e^{-rT}\) is just a constant, we know that \(M_t\) is a martingale.
</p>

<p>
The key step is the next one: use the martingale representation theorem (Theorem <a href="Stochastic-exponentials-martingale-representation.html#t:mart_repr">13.4.3</a>), in the risk neutral world
\(\Q \), to say that under \(\Q \) there exists a process \(g_t\) such that
</p>

<span class="hidden"> \(\seteqnumber{0}{15.}{8}\)</span>

<!--



                                                  dMt = gt dBt .                                                  (15.9)                                                                 --><a id="eq:dMt_gtBt"></a><!--

-->

<p>


\begin{equation}
\label {eq:dMt_gtBt} dM_t=g_t\,dB_t.
\end{equation}


</p>

<p>
Let \(Z_t=e^{-rt}S_t\), as in Lemma <a href="Completeness.html#l:compl_prep">15.2.4</a>. Under \(\Q \), the dynamics of \(S\) are that \(dS_t=rS_t\,dt+\sigma S_t\,dB_t\), so in world \(\Q \)
when we apply Ito’s formula to \(Z_t\) we obtain
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{9}\)</span>



<!--



                                                                                      dZt = −re−rt St + rSt e−rt + 0 dt + σe−rt St dBt
                                                                                                                      


                                                                                          = σZt dBt .



-->



<p>


\begin{align*}
dZ_t&amp;=\l (-re^{-rt}S_t+rS_te^{-rt}+0\r )\,dt+\sigma e^{-rt}S_t\,dB_t\\ &amp;=\sigma Z_t\,dB_t.
\end{align*}
Combining with <span class="textup">(<a href="Completeness.html#eq:dMt_gtBt">15.9</a>)</span> we obtain
</p>

<p>
\[dM_t=\frac {g_t}{\sigma Z_t}\sigma Z_t\,dB_t=\frac {g_t}{\sigma Z_t}\,dZ_t.\]
</p>

<p>
This shows that <span class="textup">(<a href="Completeness.html#eq:wtf">15.5</a>)</span> holds, with \(f_t=\frac {g_t}{\sigma Z_t}\). Finally, we apply Lemma <a
href="Completeness.html#l:compl_prep">15.2.4</a> and deduce that there exists a replicating portfolio strategy for \(X\). &#x2003;&#x2003;&#x220E;
</p>

<p>
In some ways, Theorem <a href="Completeness.html#t:bs_compl">15.2.5</a> is very unsatisfactory. It asserts that (essentially, all) contingent claims can be replicated, but it doesn’t tell us how to find a
replicating portfolio. The root cause of this issue is that we used the martingale representation theorem – which told us the process \(g\) existed, but couldn’t give us an explicit formula for \(g\). Without
calculating \(g\), we can’t calculate \(x_t,y_t\) either.
</p>

<p>
Of course, to trade in a real market, we would need a replicating portfolio \(h_t=(x_t,y_t)\), or at the very least a way to numerically estimate one. With this in mind, in the next section, we will show how to find
a replicating portfolio explicitly. The argument we will use to do so relies on <i>already knowing</i> that a replicating portfolio exists; for this reason, we needed to prove Theorem <a
href="Completeness.html#t:bs_compl">15.2.5</a> first.
</p>

<p>
Another issue is that we have not addressed is to ask if our replicating portfolio is unique. Potentially, two different replicating portfolios could exist. We will show in the next section that the replicating portfolio is,
in fact, unique.
</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|The-Black-Scholes-equation.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — The Black-Scholes equation</title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-130"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section The Black-Scholes equation ......
-->
<h4 id="autosec-131"><span class="sectionnumber">15.3&#x2003;</span>The Black-Scholes equation</h4>
<a id="notes_2-autopage-131"></a>
<a id="notes_2-autofile-22"></a> <a id="s:bs_eq"></a>

<p>
We now look at how a replicating portfolio can be found explicitly, for a given contingent claim \(\Phi (S_T)\). We will, from now on, assume that our model is free of arbitrage.
</p>

<p>
In the case of the binomial model we found ourselves solving pairs of linear equations for each time-step; now, in continuous time, we will instead find ourselves solving a partial differential equation. This is natural –
our linear equations told us how things changed across a single time-step, and PDEs can describe the changing state of a system in continuous time.
</p>

<p>
Let \(\Phi (S_T)\) be a contingent claim in the Black-Scholes market (with parameters \(r,\mu ,\sigma \)), and suppose that \(F(t,s)\) is a (suitably differentiable) function such that \(F(t,S_t)\) denotes
the value of the contingent claim \(\Phi (S_T)\) at time \(t\in [0,T]\). Then, as we will show in Theorem <a href="The-Black-Scholes-equation.html#t:bs_repl">15.3.1</a>, for all \(s&gt; 0\) and
\(t\in [0,T]\) we have
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{9}\)</span>



<!--



                                                                                ∂F             ∂F         1      ∂2F
                                                                                   (t, s) + rs                         s) − rF (t, s) = 0,
                                                                                                  (t, s) + s2 σ 2 2 (t,(15.10)                                                            --><a id="eq:bs_eq"></a><!--
                                                                                ∂t             ∂s         2      ∂s
                                                                                                               (15.11)       F (T, s) = Φ(s).                                     --><a id="eq:bs_boundary"></a><!--



-->



<p>


\begin{align}
\frac {\p F}{\p t}(t,s)+rs\frac {\p F}{\p s}(t,s)+\frac 12s^2\sigma ^2\frac {\p ^2 F}{\p s^2}(t,s)-rF(t,s)&amp;=0,\label {eq:bs_eq}\\ F(T,s)&amp;=\Phi (s)\label {eq:bs_boundary}.
\end{align}
This is known as the <b>Black-Scholes equation</b>. It dates from a now famous research article by Fischer Black and Myron Scholes<sup>1</sup>, published in 1973. The rigorous mathematical basis for the
model was provided, also in 1973, by Robert C.&nbsp;Merton<sup>2</sup> In 1997 Merton and Scholes received the Nobel prize in economics, in recognition of their contributions (Black died in 1995, and Nobel
prizes are only awarded to the living).
</p>
<div role="note" class="footnotes">

<a id="notes_2-autopage-132"></a>

<p>
<sup>1</sup>&nbsp;Black, Fischer; Myron Scholes (1973). "The Pricing of Options and Corporate Liabilities". Journal of Political Economy. 81 (3): 637–654.
</p>

<p>
<sup>2</sup>&nbsp;Merton, Robert C. (1973). "Theory of Rational Option Pricing". Bell Journal of Economics and Management Science. The RAND Corporation.
</p>



</div>



<div class="theorembodytheorem">

<ul style="list-style-type:none">



<a id="autoid-113"></a>
<li>
<p>
<span class="theoremheaderplain">Theorem 15.3.1</span> <a id="autoid-114" ></a ><a id="t:bs_repl"></a> Let \(\Phi (S_T)\) be a contingent claim such that \(\E ^\Q [\Phi (S_T)]&lt;\infty
\). Then a replicating portfolio for \(\Phi (S_T)\) is given by
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{11}\)</span>



<!--



                                                                                                           1                    1
                                                                                                                                                     !
                                                                                                                 ∂F                     ∂2F
                                                                                                     xt =             (t, St ) + σ 2 St2 2 (t, St )
                                                                                                          rCt ∂t                2       ∂s
                                                                                                          ∂F
                                                                                                     yt =    (t, St )
                                                                                                          ∂s



-->



<p>


\begin{align*}
x_t&amp;=\frac {1}{rC_t}\l (\frac {\p F}{\p t}(t,S_t)+\frac {1}{2}\sigma ^2S_t^2\frac {\p ^2F}{\p s^2}(t,S_t)\r )\\ y_t&amp;=\frac {\p F}{\p s}(t,S_t)
\end{align*}
where \(F(t,s)\) is the solution to <span class="textup">(<a href="The-Black-Scholes-equation.html#eq:bs_eq">15.10</a>)</span>,<span class="textup">(<a
href="The-Black-Scholes-equation.html#eq:bs_boundary">15.11</a>)</span>. The value of this portfolio at time \(t\) is equal
</p>

<span class="hidden"> \(\seteqnumber{0}{15.}{11}\)</span>

<!--



                                                   F (t, St ) = e−r(T −t) EQ [Φ(ST ) | Ft ],                                                      (15.12)                   --><a id="eq:bs_rnv_pre"></a><!--

-->

<p>


\begin{equation}
\label {eq:bs_rnv_pre} F(t,S_t)=e^{-r(T-t)}\E ^\Q [\Phi (S_T)\|\mc {F}_t],
\end{equation}


</p>

<p>
and in particular its value at time \(0\) is
</p>

<span class="hidden"> \(\seteqnumber{0}{15.}{12}\)</span>

<!--



                                                                e−rT EQ [Φ(ST )].                                                                          (15.13)               --><a id="eq:bs_rnv"></a><!--

-->

<p>


\begin{equation}
\label {eq:bs_rnv} e^{-rT}\E ^\Q [\Phi (S_T)].
\end{equation}


</p>

<p>


</p>


</li>

</ul>

</div>

<p>
The formulae given for \(x_t,y_t\) are a big improvement on Theorem <a href="Completeness.html#t:bs_compl">15.2.5</a>, because a computer can simulate solutions to <span class="textup">(<a
href="The-Black-Scholes-equation.html#eq:bs_eq">15.10</a>)</span>, as well as their partial derivatives, without (much) difficulty. This allows computation of the replicating portfolio in real-time. You are
not expected to memorize these formulae for \(h_t=(x_t,y_t)\). The other formula in Theorem <a href="The-Black-Scholes-equation.html#t:bs_repl">15.3.1</a> can be found on the formula sheet, in
Appendix <a href="Formula-sheet-part-two.html#s:formula_sheet_2">E</a>.
</p>

<p>
Of course, <span class="textup">(<a href="The-Black-Scholes-equation.html#eq:bs_rnv">15.13</a>)</span> is known as the <b>risk-neutral valuation formula</b>, in direct analogy to the discreet
time version we found in Proposition <a href="Hedging-in-one-period-model.html#p:one_period_pricing">5.2.6</a>.
</p>

<p>
We will most of this section proving the claims in Theorem <a href="The-Black-Scholes-equation.html#t:bs_repl">15.3.1</a>.
</p>

<p>
<span class="textsc">Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> First let us deduce that <span class="textup">(<a
href="The-Black-Scholes-equation.html#eq:bs_boundary">15.11</a>)</span>. Equation <span class="textup">(<a href="The-Black-Scholes-equation.html#eq:bs_boundary">15.11</a>)</span> is
known as the boundary condition, because it relates to the exercise time \(T\). It holds because, by definition of \(F(t,S_t)\), at the exercise time \(T\) the value of \(\Phi (S_T)\) must be equal \(F(T,S_T)\)
i.e.&nbsp;\(\Phi (S_T)=F(T,S_T)\). Since \(S_T\) may take any positive value we simply replace \(S_T\) with a general \(s&gt;0\).
</p>

<p>
Note that we don’t need to worry about \(s&lt;0\) because \(S_t\) is a geometric Brownian motion, which (from Section <a href="Geometric-Brownian-motion.html#s:gbm">13.2</a>) is always positive.
</p>

<p>
We now work towards proving that <span class="textup">(<a href="The-Black-Scholes-equation.html#eq:bs_eq">15.10</a>)</span> holds. From Theorem <a
href="Completeness.html#t:bs_compl">15.2.5</a> we know that \(\Phi (S_T)\) can be replicated by a self-financing portfolio strategy \(h_t=(x_t,y_t)\). Therefore, because we assume that our model is free
of arbitrage, the value of this portfolio strategy at time \(t\) must be equal to \(F(t,S_t)\):
</p>

<span class="hidden"> \(\seteqnumber{0}{15.}{13}\)</span>

<!--



                                                   F (t, St ) = Vth = xt Ct + yt St                                                         (15.14)                   --><a id="eq:deriv_replicate"></a><!--

-->

<p>


\begin{equation}
\label {eq:deriv_replicate} F(t,S_t)=V^h_t=x_tC_t+y_tS_t
\end{equation}


</p>

<p>
In particular, this implies that \(dF(t,S_t)=dV^h_t\). We plan to calculate both these stochastic differentials, written out in full, and then use Lemma <a href="Ito-processes.html#l:ito_coeff">12.4.5</a>
to equate the \(dt\) and \(dB_t\) coefficients. It will turn out that this leads to precisely <span class="textup">(<a href="The-Black-Scholes-equation.html#eq:bs_eq">15.10</a>)</span>, and along the
way we will discover formulae for \(x_t\) and \(y_t\).
</p>

<p>
Since \((h_t)\) is self-financing we have
</p>

<span class="hidden"> \(\seteqnumber{0}{15.}{14}\)</span>

<!--



                                                                                                                dVth = xt dCt + yt dSt .

-->

<p>


\begin{equation*}
dV^h_t=x_t\,dC_t+y_t\,dS_t.
\end{equation*}


</p>

<p>
Substituting in <span class="textup">(<a href="The-Black-Scholes-model.html#eq:stock_price">15.1</a>)</span> and <span class="textup">(<a
href="The-Black-Scholes-model.html#eq:cash_price">15.2</a>)</span>, this becomes
</p>

<span class="hidden"> \(\seteqnumber{0}{15.}{14}\)</span>

<!--



                                         dVth = (xt rCt + yt µSt ) dt + yt σSt dBt .                                                       (15.15)                   --><a id="eq:deriv_self_fin_2"></a><!--

-->

<p>


\begin{equation}
\label {eq:deriv_self_fin_2} dV^h_t=(x_t r C_t +y_t\mu S_t) \,dt+y_t\sigma S_t \,dB_t.
\end{equation}


</p>

<p>
Next: recalling that \(dS_t=\mu S_t \,dt+\sigma S_t \,dB_t\), by Ito’s formula we have
</p>

<span class="hidden"> \(\seteqnumber{0}{15.}{15}\)</span>

<!--


                                                                  1
                                                                                      !
                                                     ∂F       ∂F          ∂2F                        ∂F
                                   dF (t, St ) =        + µSt    + σ 2 St2 2              dt + σSt      dBt                                              (15.16)              --><a id="eq:deriv_bs"></a><!--
                                                     ∂t       ∂s  2       ∂s                         ∂s
-->

<p>


\begin{equation}
\label {eq:deriv_bs} dF(t,S_t)=\l (\frac {\p F}{\p t}+\mu S_t\frac {\p F}{\p s}+\frac 12\sigma ^2S_t^2\frac {\p ^2 F}{\p s^2}\r )\,dt + \sigma S_t \frac {\p F}{\p s}\,dB_t
\end{equation}


</p>

<p>
where we have suppressed the \((t,S_t)\) arguments of the partial derivatives of \(F\).
</p>
<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-115"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 15.3.2</span> <a id="autoid-116" ></a >Here, we assume, without justifying ourselves, that \(F(t,s)\) is differentiable (once in \(t\) and twice in \(s\)). This
is a minor issue that can be dealt with using appropriate results from analysis, but it is beyond the scope of our course.
</p>


</li>

</ul>

</div>

<p>
Equating the \(dB_t\) coefficients between <span class="textup">(<a href="The-Black-Scholes-equation.html#eq:deriv_self_fin_2">15.15</a>)</span> and <span class="textup">(<a
href="The-Black-Scholes-equation.html#eq:deriv_bs">15.16</a>)</span> gives us that
</p>

<p>
\[y_t=\frac {\p F}{\p s}.\]
</p>

<p>
With this in hand, equating the \(dt\) coefficients gives us
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{16}\)</span>



<!--



                                                                                     ∂F       ∂F  1       ∂2F           ∂F
                                                                                        + µSt                  xt rCt +
                                                                                                 + σ 2 St2 2 = (15.17)     µSt                                   --><a id="eq:deriv_self_fin_3"></a><!--
                                                                                     ∂t       ∂s  2       ∂s            ∂s



-->



<p>


\begin{align}
\frac {\p F}{\p t}+\mu S_t\frac {\p F}{\p s}+\frac 12\sigma ^2S_t^2\frac {\p ^2 F}{\p s^2} &amp;=x_t r C_t + \frac {\p F}{\p s}\mu S_t\label {eq:deriv_self_fin_3}
\end{align}
and the terms \(\mu S_t\frac {\p F}{\p s}\) cancel giving
</p>

<p>
\[\frac {\p F}{\p t}+\frac 12\sigma ^2S_t^2\frac {\p ^2 F}{\p s^2}=x_t r C_t.\]
</p>

<p>
so as
</p>

<p>
\[x_t=\frac {\frac {\p F}{\p t}+\frac 12\sigma ^2S_t^2\frac {\p ^2 F}{\p s^2}}{rC_t}.\]
</p>

<p>
Using <span class="textup">(<a href="The-Black-Scholes-equation.html#eq:deriv_replicate">15.14</a>)</span> to substitute in for \(C_t\) in <span class="textup">(<a
href="The-Black-Scholes-equation.html#eq:deriv_self_fin_3">15.17</a>)</span>, we obtain
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{17}\)</span>



<!--



                                                                                          ∂F  1       ∂2F       F − yt S t
                                                                                                                                    
                                                                                             + σ 2 St2 2 = xt r
                                                                                          ∂t  2       ∂s            xt
                                                                                                                     ∂F
                                                                                                          = rF − rSt    .
                                                                                                                     ∂s



-->



<p>


\begin{align*}
\frac {\p F}{\p t}+\frac 12\sigma ^2S_t^2\frac {\p ^2 F}{\p s^2} &amp;=x_t r \l (\frac {F-y_tS_t}{x_t}\r )\\ &amp;=rF-rS_t\frac {\p F}{\p s}.
\end{align*}
This is equation <span class="textup">(<a href="The-Black-Scholes-equation.html#eq:bs_eq">15.10</a>)</span>, but with \(S_t\) in place of \(s\). Equation <span class="textup">(<a
href="The-Black-Scholes-equation.html#eq:bs_eq">15.10</a>)</span> follows, because we can see from <span class="textup">(<a
href="Geometric-Brownian-motion.html#eq:gbm_soln">13.9</a>)</span> that \(S_t\) takes values on the whole of the positive reals \((0,\infty )\). Note that we have also discovered formulae for
\(x_t,y_t\) along the way, which must satisfy \(F(t,S_t)=V^h_t\) because they were derived to satisfy <span class="textup">(<a
href="The-Black-Scholes-equation.html#eq:deriv_replicate">15.14</a>)</span>.
</p>

<p>
Next we use Lemma <a href="Stochastic-processes-in-continuous-time.html#l:fk_2">14.1.3</a>, which tells us that the solution to be Black-Scholes equation can be written as
</p>

<p>
\[F(t,s)=e^{-r(T-t)}\E _{t,s}^\Q [\Phi (S_T)].\]
</p>

<p>
Note that here we take expectation in the risk neutral world \(\Q \), in which \(S_t\) follows \(dS_t=rS_t\,dt+\sigma S_t\,dB_t\) (in the notation of Lemma <a
href="Stochastic-processes-in-continuous-time.html#l:fk_2">14.1.3</a> we have \(\alpha (t,s)=rs\) and \(\beta (r,s)=\sigma s\)). We deduce that the value at time \(t\) of the replicating
portfolio is
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{17}\)</span>



<!--



                                                                                                                     t,St [Φ(ST )]
                                                                                             F (t, St ) = e−r(T −t) EQ



-->



<p>


\begin{align*}
F(t,S_t) &amp;=e^{-r(T-t)}\E ^\Q _{t,S_t}[\Phi (S_T)]
\end{align*}


</p>

<p>
To finish the proof, we use that \(S_t\) is a Markov process. By the Markov property at time \(t\), from Lemma <a href="The-Markov-property.html#l:markov:gbm">14.2.1</a>, we have
</p>

<p>
\[\E ^\Q _{t,S_t}[\Phi (S_T)]=\E ^\Q [\Phi (S_T)\|\mc {F}_t].\]
</p>

<p>
Setting \(t=0\), and recalling that \(\mc {F}_0\) is the trivial \(\sigma \)-field (containing no information) we have
</p>

<p>
\[\E ^\Q [\Phi (S_T)\|\mc {F}_0]=\E ^\Q [\Phi (S_T)],\]
</p>

<p>
as required. &#x2003;&#x2003;&#x220E;
</p>
<div class="theorembodycor">

<ul style="list-style-type:none">



<a id="autoid-117"></a>
<li>
<p>
<span class="theoremheaderplain">Corollary 15.3.3</span> <a id="autoid-118" ></a ><a id="cor:repl_uniq"></a> The replicating portfolio given in Theorem <a
href="The-Black-Scholes-equation.html#t:bs_repl">15.3.1</a> for \(\Phi (S_T)\) is unique.
</p>


</li>

</ul>

</div>

<p>
<span class="textsc">Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> The calculations in the proof of Theorem <a
href="The-Black-Scholes-equation.html#t:bs_repl">15.3.1</a> showed that any replicating portfolio (consisting solely of stocks and cash) could be written in terms of the solution to the Black-Scholes
equation, as in the statement of Theorem <a href="The-Black-Scholes-equation.html#t:bs_repl">15.3.1</a>. It is known from the world of PDEs that the Black-Scholes equation has a unique solution, so the
replicating portfolio is also unique. &#x2003;&#x2003;&#x220E;
</p>
<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-119"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 15.3.4</span> <a id="autoid-120" ></a >We have now seen that the Feynman-Kac formula is important to mathematical finance; it is the key to establishing the
risk-neutral valuation formula <span class="textup">(<a href="The-Black-Scholes-equation.html#eq:bs_rnv">15.13</a>)</span>. This formula links arbitrage free pricing theory to Brownian motion,
through the stochastic differential equation \(dS_t=\mu S_t\,dt+\sigma S_t\, dB_t\).
</p>

<p>
The Feynman-Kac formula has much wider applications too. We have already mentioned heat diffusion and movements of particles within fluids, and we could re-phrase our ‘by hand’ results from Section <a
href="Brownian-motion-heat-equation-star.html#s:heat">11.3</a> in terms of the Feynman-Kac formula. We list two further examples here:
</p>
<ul style="list-style-type:none">


<li>
<p>
• It is used to describe solutions to the Schro&#x0308;dinger equation, a PDE which is the equivalent in quantum mechanics of Newton’s second law (i.e.&nbsp;\(F=ma\), the ‘law of motion’).
</p>


</li>
<li>


<p>
• It is used, in a variety of SDE based models, by mathematicians trying to model evolution, to analyse the positions and/or proportions of genes within a population.
</p>
</li>
</ul>

<p>
There are many others – Brownian motion sits right at the heart of the physical world.
</p>


</li>

</ul>

</div>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Martingales-risk-neutral-world.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Martingales and ‘the risk-neutral world’</title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-136"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section Martingales and ‘the risk-neutral world’ ......
-->
<h4 id="autosec-137"><span class="sectionnumber">15.4&#x2003;</span>Martingales and ‘the risk-neutral world’</h4>
<a id="notes_2-autopage-137"></a>
<a id="notes_2-autofile-23"></a>

<p>
In this section we give a (brief) explanation of where the term ‘risk-neutral world’ comes from. Offering explanations for mathematical wording is something of a dangerous game – in practice terminology often
arises from accidents of history. There are many cases where “Someone’s Theorem” was not discovered by the same Someone whose name is generally quoted.
</p>

<p>
As we saw in Proposition <a href="Portfolios-arbitrage-martingales.html#p:risk_free_martingale">5.5.6</a>, in the risk neutral world \(\Q \) the discounted stock price is a martingale. In continuous
time we have the precise equivalent:
</p>
<div class="theorembodylemma">

<ul style="list-style-type:none">



<a id="autoid-121"></a>
<li>
<p>
<span class="theoremheaderplain">Lemma 15.4.1</span> <a id="autoid-122" ></a ><a id="l:rnw_mart_pre"></a> The stochastic process
</p>

<p>
\[\frac {S_t}{C_t}\]
</p>

<p>
is a martingale in the risk-neutral world \(\Q \).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc">Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> Recall that \(C_t=e^{rt}\). Thus we are interested in the process \(X_t=e^{-rt}S_t\). In
the risk-neutral world \(\Q \) the process \(S_t\) satisfies \(dS_t=rS_t\,dt+\sigma S_t\,dB_t\), so by Ito’s formula we have
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{17}\)</span>



<!--



                                                                                    dXt = −re−rt St + rSt e−rt + 0 dt + σSt e−rt dBt
                                                                                                                    


                                                                                         = σSt e−rt dBt



-->



<p>


\begin{align*}
dX_t&amp;=\l (-re^{-rt}S_t+rS_te^{-rt}+0\r )\,dt+\sigma S_te^{-rt}\,dB_t\\ &amp;=\sigma S_te^{-rt}\,dB_t
\end{align*}
By Theorem <a href="Ito-integrals.html#t:stoch_int_final">12.2.1</a>, we have that \(X_t\) is a martingale (under \(\Q \)). &#x2003;&#x2003;&#x220E;
</p>

<p>
In fact, more is true. Our next result says that, in the risk neutral world, once we have discounted for interest rates (i.e.&nbsp;divided by \(C_t\)), the price of <i>any</i> contingent claim is a martingale. As we
saw in Section <a href="Martingales.html#s:martingales">3.3</a>, martingales model fair games that are (on average) neither advantageous or disadvantageous to their players. The term ‘risk-neutral’
captures the fact that, inside the risk-neutral world, if we forget about interest rates, buying/selling on the stock market would be a fair game.
</p>

<p>
It is important to remember that we do not believe that the risk-neutral world is the real world. We believe in the absence of arbitrage, and we only care about the risk neutral world because it is useful when
calculating arbitrage free prices.
</p>
<div class="theorembodyprop">

<ul style="list-style-type:none">



<a id="autoid-123"></a>
<li>
<p>
<span class="theoremheaderplain">Proposition 15.4.2</span> <a id="autoid-124" ></a ><a id="p:rnw_mart"></a> Let \(\Phi (S_T)\) be a contingent claim and let \(\Pi _t\) denote the price of this
contingent claim at time \(t\). Then
</p>

<p>
\[\frac {\Pi _t}{C_t}\]
</p>

<p>
is a martingale in the risk-neutral world \(\Q \).
</p>


</li>

</ul>

</div>

<p>
<span class="textsc">Proof:</span><span style="width:5.38533pt; display:inline-block"><!----></span> Our strategy, which is based on the proof of Lemma <a
href="Martingales-risk-neutral-world.html#l:rnw_mart_pre">15.4.1</a>, is to set \(X_t=\frac {\Pi _t}{C_t}=e^{-rt}\Pi _t\) and calculate \(dX_t\) using Itos formula. If \(X_t\) is to be a martingale,
it should have the form \(dX_t=(\ldots )\,dB_t\), in which case we can use Theorem <a href="Ito-integrals.html#t:stoch_int_final">12.2.1</a> to finish the proof. We’ll carry out the whole proof in the
risk-neutral world \(\Q \).
</p>

<p>
To avoid arbitrage, \(\Pi _t\) is equal to the value of the replicating portfolio for \(\Phi (S_T)\) at time \(t\). Hence, by Theorem <a href="The-Black-Scholes-equation.html#t:bs_repl">15.3.1</a>,
</p>

<span class="hidden"> \(\seteqnumber{0}{15.}{17}\)</span>

<!--



                                                       Πt = F (t, St ).                                                     (15.18)                                         --><a id="eq:PiF"></a><!--

-->

<p>


\begin{equation}
\label {eq:PiF} \Pi _t=F(t,S_t).
\end{equation}


</p>

<p>
Recall that, in the risk neutral world \(\Q \), we have \(dS_t=r S_t\,dt+\sigma S_t\,dB_t\). By Ito’s formula (applied in the risk neutral world!), we have
</p>

<p>
\[d\Pi _t=\l (\frac {\p F}{\p t}+rS_t\frac {\p F}{\p x}+\frac 12\sigma ^2S_t^2\frac {\p ^2 F}{\p x^2}\r )\,dt+\sigma S_t\frac {\p F}{\p x}\,dB_t\]
</p>

<p>
where we have suppressed the \((t,S_t)\) arguments of \(F\) and its partial derivatives. We know that \(F\) satisfies the Black-Scholes PDE <span class="textup">(<a
href="The-Black-Scholes-equation.html#eq:bs_eq">15.10</a>)</span>. Hence,
</p>

<p>
\[d\Pi _t=rF\,dt+\sigma S_t\frac {\p F}{\p x}\,dB_t\]
</p>

<p>
and using <span class="textup">(<a href="Martingales-risk-neutral-world.html#eq:PiF">15.18</a>)</span> again we have
</p>

<p>
\[d\Pi _t=r\Pi _t\,dt+\sigma S_t\frac {\p F}{\p x}\,dB_t\]
</p>

<p>
which represents \(\Pi _t\) as an Ito process.
</p>

<p>
We have \(X_t=e^{-rt}\Pi _t\). Using Ito’s formula again, this gives us
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{18}\)</span>



<!--



                                                                                                                         ∂F −rt
                                                                               dXt = −re−rt Πt + rΠt e−rt + 0 dt + σSt
                                                                                                            
                                                                                                                            e dBt
                                                                                                                         ∂x
                                                                                           ∂F −rt
                                                                                   = σSt      e dBt .
                                                                                           ∂x



-->



<p>


\begin{align*}
dX_t&amp;=\l (-re^{-rt}\Pi _t+r\Pi _te^{-rt}+0\r )\,dt+\sigma S_t\frac {\p F}{\p x}e^{-rt}\,dB_t\\ &amp;=\sigma S_t\frac {\p F}{\p x}e^{-rt}\,dB_t.
\end{align*}
Hence, by Theorem <a href="Ito-integrals.html#t:stoch_int_final">12.2.1</a>, \(X_t\) is a martingale (under \(\Q \)). &#x2003;&#x2003;&#x220E;
</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|The-Black-Scholes-formula.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — The Black-Scholes formula</title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-140"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section The Black-Scholes formula ......
-->
<h4 id="autosec-141"><span class="sectionnumber">15.5&#x2003;</span>The Black-Scholes formula</h4>
<a id="notes_2-autopage-141"></a>
<a id="notes_2-autofile-24"></a> <a id="s:bs_eu_call"></a>

<p>
In principle, Theorem <a href="The-Black-Scholes-equation.html#t:bs_repl">15.3.1</a> tells us the arbitrage free price, under the Black-Scholes model, of any contingent claim (such that \(\E ^\Q [\Phi
(S_T)]\) exists). In many cases the only way to evaluate <span class="textup">(<a href="The-Black-Scholes-equation.html#eq:bs_rnv">15.13</a>)</span> is with numerics. However, in some cases it is
possible to derive an explicit formulae.
</p>

<p>
In this section, we find explicit formulae for the case of European call options. The result is often referred to as the <b>Black-Scholes formula</b>.
</p>

<p>
We begin from the formula given to us by Theorem <a href="The-Black-Scholes-equation.html#t:bs_repl">15.3.1</a>: the price of the contingent claim \(\Phi (S_T)\) at time \(0\) is
</p>

<span class="hidden"> \(\seteqnumber{0}{15.}{18}\)</span>

<!--



                                           F (t, St ) = e−r(T −t) EQ [Φ(ST ) | Ft ] .                                   (15.19)                                        --><a id="eq:call_rnv"></a><!--

-->

<p>


\begin{equation}
\label {eq:call_rnv} F(t,S_t)=e^{-r(T-t)}\E ^\Q \l [\Phi (S_T)\|\mc {F}_t\r ].
\end{equation}


</p>

<p>
Here, since we take expectation in the risk-neutral world \(\Q \), the stock price process \(S_t\) has dynamics
</p>

<p>
\[dS_t=rS_t\,dt+\sigma S_t\,dB_t.\]
</p>

<p>
From <span class="textup">(<a href="Geometric-Brownian-motion.html#eq:gbm_soln_tT">13.10</a>)</span> we have
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{19}\)</span>



<!--


                                                                                                                                   
                                                                                        ST = St exp (r − 21 σ 2 )(T − t) + σ(BT − B(15.20)
                                                                                                                                   t)                                    --><a id="eq:gbm_tT"></a><!--

                                                                                           = St eZ                                  (15.21)                               --><a id="eq:gbm_Z"></a><!--



-->



<p>


\begin{align}
S_T &amp;=S_t\exp \l ((r-\tfrac 12\sigma ^2)(T-t)+\sigma (B_T-B_t)\r )\label {eq:gbm_tT}\\ &amp;=S_te^Z\label {eq:gbm_Z}
\end{align}
where \(Z\sim N\l [(r-\tfrac 12\sigma ^2)(T-t),\sigma ^2(T-t)\r ]=N[u,v^2]\) is independent of \(\mc {F}_t\). Here, we use \(u\) and \(v\) to keep our notation manageable.
</p>

<p>
Before we attempt to price a call option, let us work through a simpler case.
</p>
<div class="theorembodyexample">

<ul style="list-style-type:none">



<a id="autoid-125"></a>
<li>
<p>
<span class="theoremheaderplain">Example 15.5.1</span> <a id="autoid-126" ></a >We look to find the price, at time \(t\in [0,T]\), of the contingent claim \(\Phi (S_T)=2S_T+1\). From <span
class="textup">(<a href="The-Black-Scholes-formula.html#eq:call_rnv">15.19</a>)</span>, the price is
</p>

<p>
\[e^{-r(T-t)}\E ^\Q \l [2S_T+1\|\mc {F}_t\r ].\]
</p>

<p>
Using <span class="textup">(<a href="The-Black-Scholes-formula.html#eq:gbm_Z">15.21</a>)</span> we obtain
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{21}\)</span>



<!--


                                                                                                                                                    h                            i
                                                                                e−r(T −t) EQ [2ST + 1 | Ft ] = e−r(T −t) EQ 2St eZ + 1 | Ft
                                                                                                                                                           h                i       
                                                                                                                         = e−r(T −t) 2St EQ eZ | Ft + 1
                                                                                                                                                           h       i            
                                                                                                                         = e−r(T −t) 2St EQ eZ + 1
                                                                                                                                                                                                  
                                                                                                                                                                1   2 )(T −t)+ 1 σ 2 (T −t)
                                                                                                                         = e−r(T −t) 2St e(r− 2 σ                              2              +1
                                                                                                                                                                            
                                                                                                                         = e−r(T −t) 2St er(T −t) + 1

                                                                                                                         = 2St + e−r(T −t)



-->



<p>


\begin{align*}
e^{-r(T-t)}\E ^\Q \l [2S_T+1\|\mc {F}_t\r ] &amp;=e^{-r(T-t)}\E ^\Q \l [2S_te^Z+1\|\mc {F}_t\r ]\\ &amp;=e^{-r(T-t)}\l (2S_t\E ^\Q \l [e^Z\|\mc {F}_t\r ]+1\r )\\
&amp;=e^{-r(T-t)}\l (2S_t\E ^\Q \l [e^Z\r ]+1\r )\\ &amp;=e^{-r(T-t)}\l (2S_te^{(r-\tfrac 12\sigma ^2)(T-t)+\frac 12\sigma ^2(T-t)}+1\r )\\ &amp;=e^{-r(T-t)}\l
(2S_te^{r(T-t)}+1\r )\\ &amp;=2S_t + e^{-r(T-t)}
\end{align*}
Here, we use that \(S_t\) is \(\mc {F}_t\) measurable, and that \(Z\) is independent of \(\mc {F}_t\). We use <span class="textup">(<a
href="Brownian-motion-definition.html#eq:lognormal_mean">11.2</a>)</span> to calculate \(\E [e^Z]\).
</p>

<p>
Note that the price obtained corresponds to the hedging strategy of, at time \(0\), owning two units of stock, plus \(e^{-rT}\) cash. The value of this portfolio at time \(t\) is then
\(2S_t+e^{rt}e^{-rT}=2S_t+e^{-r(T-t)}\).
</p>


</li>

</ul>

</div>

<p>
Using the <span class="textup">(<a href="The-Black-Scholes-formula.html#eq:call_rnv">15.19</a>)</span> in combination with either <span class="textup">(<a
href="The-Black-Scholes-formula.html#eq:gbm_tT">15.20</a>)</span> or <span class="textup">(<a href="The-Black-Scholes-formula.html#eq:gbm_Z">15.21</a>)</span> is usually the best way to
compute explicit pricing formulae. See exercises <a href="Exercises-on-Chapter-ref-c-bs.html#ps:pricing_simplest"><b>15.2</b></a>-<a
href="Exercises-on-Chapter-ref-c-bs.html#ps:pricing_binary"><b>15.5</b></a> for more examples in the same style.
</p>

<p>
We’ll give one more example in these notes. Consider the case of a call option with strike price \(K\) and exercise date \(T\). This case is not easy, and it will involve some hefty calculations because of the \(\max
\) present in the contingent claim:
</p>

<p>
\[\Phi (S_T)=\max (S_T-K,0).\]
</p>

<p>
We are now looking to evaluate
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{21}\)</span>



<!--



                                                                                                             F (t, St ) = e−r(T −t) EQ [Φ(ST ) | Ft ]

                                                                                                                         = e−r(T −t) EQ [Φ(St eZ ) | Ft ],



-->



<p>


\begin{align*}
F(t,S_t) &amp;=e^{-r(T-t)}\E ^\Q [\Phi (S_T)\|\mc {F}_t] \\ &amp;=e^{-r(T-t)}\E ^\Q [\Phi (S_te^Z)\|\mc {F}_t],
\end{align*}
where we use <span class="textup">(<a href="The-Black-Scholes-formula.html#eq:gbm_Z">15.21</a>)</span>. Writing \(s=S_t\in m\mc {F}_n\) and using the probability density function of \(Z\) gives
us
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{21}\)</span>



<!--


                                                                                                Z   ∞
                                                                     F (t, s) = e    −r(T −t)
                                                                                                         Φ(sez )fZ (z) dz
                                                                                                    −∞
                                                                                                                                                        !
                                                                                                         Z    ∞
                                                                             = e−r(T −t) 0 +                            (sez − K)fZ (z) dz
                                                                                                             log(K/s)
                                                                                                    ∞                    1    (z−u)2
                                                                                                Z
                                                                             = e−r(T −t)                     (sez − K) √    e− 2v2 dz
                                                                                                    log(K/s)            2πv
                                                                                                               A                                                                         B
                                                                                 z                             }|                               {       z                                }|            {
                                                                                                    ∞  1                        (z−u)2                                       ∞       1    (z−u)2
                                                                                                Z                                                                       Z
                                                                                                                               − 2v2
                                                                             = e−r(T −t) (15.22) sez √     e                                   dz − e−r(T −t)                     K√    e− 2v2 dz          --><a id="eq:bs_form_pre"></a><!--
                                                                                          log(K/s)     2πv                                                               log(K/s)   2πv


-->



<p>


\begin{align}
F(t,s) &amp;=e^{-r(T-t)}\int _{-\infty }^\infty \Phi (se^z)f_Z(z)\,dz\notag \\ &amp;=e^{-r(T-t)}\l (0+\int _{\log (K/s)}^\infty (se^z-K)f_Z(z)\,dz\r )\notag \\
&amp;=e^{-r(T-t)}\int _{\log (K/s)}^\infty (se^z-K)\frac {1}{\sqrt {2\pi }v}e^{-\frac {(z-u)^2}{2v^2}}\,dz\notag \\ &amp;=\,\stackrel {\mc {A}}{\overbrace {e^{-r(T-t)}\int _{\log
(K/s)}^\infty se^z\frac {1}{\sqrt {2\pi }v}e^{-\frac {(z-u)^2}{2v^2}}\,dz}} -\stackrel {\mc {B}}{\overbrace {e^{-r(T-t)}\int _{\log (K/s)}^\infty K\frac {1}{\sqrt {2\pi
}v}e^{-\frac {(z-u)^2}{2v^2}}\,dz}}\label {eq:bs_form_pre}
\end{align}
Here, to deduce the second line, we split the integral into the cases \(se^Z&lt; K\) and \(se^Z\geq K\). In the first case, \(\Phi (se^Z)=\max (se^Z-K,0)=0\).
</p>

<p>
The strategy now is to treat \(\mc {A}\) and \(\mc {B}\) separately. We plan to re-write each of \(\mc {A}\) and \(\mc {B}\) in terms of \(\mc {N}(z)=\frac {1}{\sqrt {2\pi }}\int _{-\infty }^z
e^{-x^2}\,dx\), the cumulative distribution function of the \(N(0,1)\) distribution.
</p>

<p>
Let’s look at the the \(\mc {B}\) term first. Setting \(y=-z\), we have
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{22}\)</span>



<!--



                                                                                                       K −r(T −t) −∞           (−y−u)2
                                                                                                                                   Z
                                                                                                    B=√    e                 e− 2v2 (−1) dy
                                                                                                       2πv        − log(K/s)
                                                                                                       K −r(T −t) log(s/K) − (y+u) 2
                                                                                                                 Z
                                                                                                     =√    e                e 2v2 dy
                                                                                                       2πv        −∞




-->



<p>


\begin{align*}
\mc {B} &amp;=\frac {K}{\sqrt {2\pi } v} e^{-r(T-t)}\int _{-\log (K/s)}^{-\infty } e^{-\frac {(-y-u)^2}{2v^2}}(-1)\,dy\\ &amp;=\frac {K}{\sqrt {2\pi } v} e^{-r(T-t)}\int ^{\log
(s/K)}_{-\infty }e^{-\frac {(y+u)^2}{2v^2}}\,dy
\end{align*}
and setting \(x-\frac {y+u}{v}\) we have
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{22}\)</span>



<!--


                                                                                                                                           1
                                                                                                        K −r(T −t)
                                                                                                                                       Z
                                                                                                                                           v
                                                                                                                                             (log(s/K)+u)               x2
                                                                                                     B=√     e                                                      e− 2 v dx
                                                                                                         2πv                           −∞
                                                                                                                                                             1
                                                                                                                                   1
                                                                                                                               Z
                                                                                                                                   v
                                                                                                                                     (log(s/K)+u)               x2
                                                                                                         = Ke−r(T −t)                                       √ e− 2 dx
                                                                                                                                −∞                           2π
                                                                                                                                 1     s
                                                                                                                                                                    
                                                                                                         = Ke       −r(T −t)
                                                                                                                               N   log                          +u           .
                                                                                                                                 v     K



-->



<p>


\begin{align*}
\mc {B} &amp;=\frac {K}{\sqrt {2\pi } v} e^{-r(T-t)}\int ^{\frac {1}{v}\l (\log (s/K)+u\r )}_{-\infty }e^{-\frac {x^2}{2}}v\,dx\\ &amp;=Ke^{-r(T-t)}\int ^{\frac {1}{v}\l (\log
(s/K)+u\r )}_{-\infty }\frac {1}{\sqrt {2\pi }}e^{-\frac {x^2}{2}}\,dx\\ &amp;=Ke^{-r(T-t)}\,\mc {N}\l [\frac {1}{v}\l \{\log \l (\frac {s}{K}\r )+u\r \}\r ].
\end{align*}


</p>

<p>
For the \(\mc {A}\) term, we have an extra factor \(e^{z}\). To handle this factor we will have to complete the square inside the exponential term before we make the \(x\) substitution (i.e.&nbsp;the same
technique as in exercise <a href="Exercises-on-Chapter-ref-c-bm.html#ps:lognormal_mean"><b>11.5</b></a>). Again setting \(y=-z\) we have
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{22}\)</span>



<!--



                                                                                  s                −∞    Z             (−y−u)2
                                                                         A= √         e−r(T −t)                 e−y e− 2v2 (−1) dy
                                                                                  2πv            − log(K/s)
                                                                                                Z log(s/K)
                                                                                  s                                   (y+u)2
                                                                            =   √     e−r(T −t)                e−y e− 2v2 dy
                                                                                  2πv            −∞
                                                                                                Z log(s/K)
                                                                                  s                                   −1 h 2
                                                                                                                                                    i
                                                                            =   √     e−r(T −t)
                                                                                                               exp          y + (2u + 2v )y + u
                                                                                                                                          2        2
                                                                                                                                                        dy
                                                                                  2πv            −∞                   2v 2
                                                                                                Z log(s/K)
                                                                                  s                                   −1 
                                                                                                                                       2                   
                                                                            =   √     e−r(T −t)
                                                                                                               exp           y + (u + v ) − (u + v ) + u
                                                                                                                                       2                2 2 2
                                                                                                                                                                 dy
                                                                                  2πv            −∞                   2v 2
                                                                                                                                   (y + (u + v 2 )2 )
                                                                                                                Z log(s/K)                            !
                                                                                  s    −r(T −t)+
                                                                                                 (u+v 2 )2 −u2
                                                                            =   √     e              2v  2
                                                                                                                           exp −                        dy
                                                                                  2πv                            −∞                      2v 2



-->



<p>


\begin{align*}
\mc {A} &amp;=\frac {s}{\sqrt {2\pi } v}e^{-r(T-t)}\int _{-\log (K/s)}^{-\infty } e^{-y}e^{-\frac {(-y-u)^2}{2v^2}}(-1)\,dy\\ &amp;=\frac {s}{\sqrt {2\pi } v}e^{-r(T-t)}\int
^{\log (s/K)}_{-\infty } e^{-y}e^{-\frac {(y+u)^2}{2v^2}}\,dy\\ &amp;=\frac {s}{\sqrt {2\pi } v}e^{-r(T-t)}\int ^{\log (s/K)}_{-\infty } \exp \l (\frac {-1}{2v^2}\l
[y^2+(2u+2v^2)y+u^2\r ]\r )\,dy\\ &amp;=\frac {s}{\sqrt {2\pi } v}e^{-r(T-t)}\int ^{\log (s/K)}_{-\infty } \exp \l (\frac {-1}{2v^2}\l [\l (y+(u+v^2)\r )^2-(u+v^2)^2+u^2\r ]\r
)\,dy\\ &amp;=\frac {s}{\sqrt {2\pi } v}e^{-r(T-t)+\frac {(u+v^2)^2-u^2}{2v^2}}\int ^{\log (s/K)}_{-\infty }\exp \l (-\frac {(y+(u+v^2)^2)}{2v^2}\r )\,dy
\end{align*}
Noting that \(r(T-t)=u+\frac 12v^2\), it is easily seen that \(-r(T-t)+\frac {(u+v^2)^2-u^2}{2v^2}=0\), so the first exponential term is simply equal to \(1\). Setting \(x=\frac {y+(u+v^2)}{2v^2}\) we
obtain
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{22}\)</span>



<!--


                                                                                                              Z 1 (log(s/K)+u+v2 )                                           !
                                                                                                         s       v                          x2
                                                                                                    A= √                           exp −         v dx
                                                                                                         2πv −∞                             2
                                                                                                        Z 1 (log(s/K)+u+v2 )
                                                                                                                              1
                                                                                                                                               !
                                                                                                           v                                x2
                                                                                                     =s                      √ exp −              dx
                                                                                                         −∞                   2π             2
                                                                                                             1          s
                                                                                                                                   
                                                                                                     = sN        log        +u+v     2
                                                                                                                                          .
                                                                                                             v         K



-->



<p>


\begin{align*}
\mc {A} &amp;=\frac {s}{\sqrt {2\pi } v}\int _{-\infty }^{\frac {1}{v}\l (\log (s/K)+u+v^2\r )}\exp \l (-\frac {x^2}{2}\r )v\,dx\\ &amp;=s\int _{-\infty }^{\frac {1}{v}\l (\log
(s/K)+u+v^2\r )}\frac {1}{\sqrt {2\pi }}\exp \l (-\frac {x^2}{2}\r )\,dx\\ &amp;=s\,\mc {N}\l [\frac {1}{v}\l \{\log \l (\frac {s}{K}\r )+u+v^2\r \}\r ].
\end{align*}


</p>

<p>
Substituting back in for \(u\) and \(v\), and recalling that we use the shorthand \(s=S_t\), we obtain the following formula for price, at time \(t\in [0,T]\), of a European call option with strike price \(K\) and
exercise date \(T\).
</p>

<span class="hidden"> \(\seteqnumber{0}{15.}{22}\)</span>

<!--



                                           F (t, St ) = St N [d1 ] − Ke−r(T −t) N [d2 ]                                                                                 (15.23)                             --><a id="eq:bs_formula"></a><!--

-->

<p>


\begin{equation}
\label {eq:bs_formula} F(t,S_t)= S_t\,\mc {N}[d_1]-Ke^{-r(T-t)}\,\mc {N}[d_2]
\end{equation}


</p>

<p>
where
</p>
<span class="hidden"> \(\seteqnumber{0}{15.}{23}\)</span>



<!--



                                                                                                       1          St                                        1 2
                                                                                                                                                                                
                                                                                                d1 = √       log     + r+                                     σ (T − t)
                                                                                                    σ T −t        K                                         2
                                                                                                       1          St                                        1 2
                                                                                                                                                                   
                                                                                                d2 = √       log     + r−                                     σ (T − t) .
                                                                                                    σ T −t        K                                         2



-->



<p>


\begin{align*}
d_1&amp;=\frac {1}{\sigma \sqrt {T-t}}\l \{\log \l (\frac {S_t}{K}\r )+\l (r+\frac 12\sigma ^2\r )(T-t)\r \}\\ d_2&amp;=\frac {1}{\sigma \sqrt {T-t}}\l \{\log \l (\frac
{S_t}{K}\r )+\l (r-\frac 12\sigma ^2\r )(T-t)\r \}.
\end{align*}
This expression for \(F(t,S_t)\) is known as the Black-Scholes formula. It is historically significant, which is the only reason that we have included it within the course. The precise form of the formula is not very
important, and you are certainly not expected to remember it. However, the discovery by Black and Scholes that the absence of arbitrage led to explicit pricing formulae for commonly used derivatives (such as calls
and puts), revolutionized the financial world.
</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Exercises-on-Chapter-ref-c-bs.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Exercises on Chapter <a href=The-Black-Scholes-model.html#c:bs>15</a></title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-143"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section Exercises on Chapter <a href=The-Black-Scholes-model.html#c:bs>15</a> ......
-->
<h4 id="autosec-144"><span class="sectionnumber">15.6&#x2003;</span>Exercises on Chapter <a href="The-Black-Scholes-model.html#c:bs">15</a></h4>
<a id="notes_2-autopage-144"></a>
<a id="notes_2-autofile-25"></a>

<p>
All questions refer to the Black-Scholes model, and use the the same notation as in the rest of this chapter.
</p>
<!--
......   subsection On the Black Scholes model ......
-->
<h5 id="autosec-145">On the Black Scholes model</h5>
<a id="notes_2-autopage-145"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>15.1</b> <a id="ps:bs_explicit"></a> Let \(c\in \R \) be a deterministic constant. Show that the functions \(f(t,s)=cs\) and \(g(t,s)=ce^{rt}\) are both solutions of the Black-Scholes PDE <span
class="textup">(<a href="The-Black-Scholes-equation.html#eq:bs_eq">15.10</a>)</span>.
</p>
</li>
<li>


<p>
<b>15.2</b> <a id="ps:pricing_simplest"></a> Consider the contingent claim \(\Phi (S_T)=K\). Use the risk neutral valuation formula <span class="textup">(<a
href="The-Black-Scholes-equation.html#eq:bs_rnv">15.13</a>)</span> to show that its price, at time \(t\), is \(Ke^{-r(T-t)}\).
</p>
</li>
<li>


<p>
<b>15.3</b> <a id="ps:pricing_log"></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> Find the price, at time \(t\), of the contingent claim \(\Phi (S_T)=\log (S_T)\). Show that at time \(t=0\) this gives a price of
</p>
<p>
\[e^{-rT}\l (\log S_0+(r-\tfrac 12\sigma ^2)T\r ).\]
</p>
</li>
<li>


<p>
<span class="textnormal">(b)</span> An excitable mathematician suggests the following hedging strategy:
</p>
<blockquote>
<p>
<i>“At time \(0\), I will buy \(\log S_0\) units of stock. Then I’ll wait until time \(T\). The stock will be worth \(S_T\) then so then I will have \(\log (S_T)\) worth in stock. This means that at time \(0\)
the arbitrage free price of the contingent claim \(\log (S_T)\) is actually \(\log S_0\), and therefore the formula in part (a) can’t be true.”</i>
</p>
</blockquote>
<p>
Where is the flaw in this argument?
</p>
</li>
</ul>
</li>
<li>


<p>
<b>15.4</b> <a id="ps:pricing_gbm_beta"></a> Let \(\beta \geq 2\).
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> Calculate \(dY_t\) where \(Y_t=S_t^\beta \), in the risk neutral world \(\Q \). Hence, show that \(Y_t\) is a geometric Brownian motion and find its parameters.
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> Show that the arbitrage free price, at time \(t\), of the contingent claim \(\Phi (S_T)=S_T^\beta \) is given by
</p>
<p>
\[S_t^\beta \exp \l \{-r(T-t)(1-\beta ) -\tfrac 12\sigma ^2\beta (T-t)(1-\beta )\r \}.\]
</p>
<p>


</p>
</li>
</ul>
</li>
<li>


<p>
<b>15.5</b> <a id="ps:pricing_binary"></a> Let \(0&lt;\alpha &lt;\beta \) and \(K&gt;0\) be deterministic constants. A binary option is a contract with contingent claim
</p>
<p>
\[\Phi (S_T)= \begin {cases} K &amp; \text { if }S_T\in [\alpha ,\beta ]\\ 0 &amp; \text { otherwise}.                      \end {cases} \]
</p>
<p>
Find an explicit formula (in terms of the cumulative distribution function of the \(N(0,1)\) distribution) for the value of this contingent claim at time \(t\in [0,T]\).
</p>
</li>
<li>


<p>
<b>15.6</b> <a id="ps:P_mart_bs"></a> Find a deterministic process \(F_t\) such that \(\frac {S_t}{F_t}\) is a martingale under \(\P \).
</p>
</li>
<li>


<p>
<b>15.7</b> <a id="ps:pricing_linear"></a> Given a contingent claim \(\Phi (S_T)\), let \(\Pi _t(\Phi )\) denote the price of this contingent claim at time \(t\in [0,T]\). Let \(\Phi _1(S_T)\) and
\(\Phi _2(S_T)\) be two contingent claims, with exercise date \(T\), and let \(\alpha ,\beta \in \R \) be deterministic constants. Show that
</p>
<p>
\[\Pi _t(\alpha \Phi _1+\beta \Phi _2)=\alpha \Pi _t(\Phi _1)+\beta \Pi _t(\Phi _2)\]
</p>
<p>
for all \(t\in [0,T]\).
</p>
<p>


</p>
</li>
</ul>
<!--
......   subsection Challenge Questions ......
-->
<h5 id="autosec-147">Challenge Questions</h5>
<a id="notes_2-autopage-147"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>15.8</b> <a id="ps:excitable"></a> Our excitable mathematician from exercise <a href="Exercises-on-Chapter-ref-c-bs.html#ps:pricing_log"><b>15.3</b></a> is back. In response to <a
href="Exercises-on-Chapter-ref-c-bs.html#ps:pricing_gbm_beta"><b>15.4</b></a>, they say
</p>
<blockquote>
<p>
<i>The situation in exercise <a href="Exercises-on-Chapter-ref-c-bs.html#ps:pricing_gbm_beta"><b>15.4</b></a>, is equivalent to a ‘new’ Black-Scholes model in which the stock asset is not \(S_t\), but
\(Y_t\). Since, by part (a) of <a href="Exercises-on-Chapter-ref-c-bs.html#ps:pricing_gbm_beta"><b>15.4</b></a>, \(Y_t\) follows a geometric Brownian motion, this new model is actually just our
usual Black-Scholes model but with different parameters. In this new model, we can hedge a single unit of the new ‘\(Y_t\)’ stock by simply buying a single unit of the new stock. So, the arbitrage free price of a
single unit of the new stock will be \(Y_t=S_t^\beta \) and the answer claimed in <a href="Exercises-on-Chapter-ref-c-bs.html#ps:pricing_gbm_beta"><b>15.4</b></a>(b) is wrong.</i>
</p>
</blockquote>
<p>
Where is the flaw in this argument?
</p>
</li>
</ul>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Application-extension-Black-Scholes-model.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Application and extension of the Black-Scholes model</title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-149"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     chapter Application and extension of the Black-Scholes model ......
-->
<h3 id="autosec-150">Chapter&nbsp;<span class="sectionnumber">16&#x2003;</span>Application and extension of the Black-Scholes model</h3>
<a id="notes_2-autopage-150"></a>
<a id="notes_2-autofile-26"></a>

<a id="c:bs_extensions"></a>

<p>
In this section we study the issue of how to make enough connections between the Black-Scholes model and reality that it can be used in the process of trading financial derivatives. We include some (perhaps
surprising) information about what the Black-Scholes model is used for, in practice.
</p>
<!--
......   section Transaction costs and parity relations ......
-->
<h4 id="autosec-151"><span class="sectionnumber">16.1&#x2003;</span>Transaction costs and parity relations</h4>
<a id="notes_2-autopage-151"></a>



<a id="s:transaction_costs"></a>

<p>
In our definition of the Black-Scholes market we assumed that it was possible to buy and sell, continuously, without any cost to doing so. In reality, there are costs incurred each time a stock is bought/sold, in the
form of administrative cost and taxes.
</p>

<p>
For most contingent claims \(\Phi (S_T)\), the replicating portfolio \(h_t=(x_t,y_t)\) given by Theorem <a href="The-Black-Scholes-equation.html#t:bs_repl">15.3.1</a> changes continuously with time.
This would mean continually incurring transaction costs, which is not desirable.
</p>

<p>
Our first idea for dealing with transaction costs comes form the (wishful) observation that it would be nice if we could replicate contingent claims with a constant portfolio \(h_t=(x,y)\) that did not vary with time.
</p>
<div class="theorembodydefn">

<ul style="list-style-type:none">



<a id="autoid-127"></a>
<li>
<p>
<span class="theoremheaderplain">Definition 16.1.1</span> <a id="autoid-128" ></a >A constant portfolio is a portfolio that we buy at time \(0\), and which we then hold until time \(T\).
</p>


</li>

</ul>

</div>

<p>
That is, we don’t trade stock for cash, or cash for stock, during \((0,T)\). Note that the hedging portfolios \(h_t=(x_t,y_t)\) that we found in Theorem <a
href="The-Black-Scholes-equation.html#t:bs_repl">15.3.1</a> are (typically) non-constant, since \(y_t=\frac {\p F}{\p s}\) will generally not be constant. Worse, Corollary <a
href="The-Black-Scholes-equation.html#cor:repl_uniq">15.3.3</a> showed that these hedging portfolios were unique: there are no other self-financing portfolio strategies, based only on cash and stock, which
replicate \(\Phi (S_T)\).
</p>

<p>
A possible way around this limitation is to allow ourselves to hold portfolios that include options, as well as just cash and stock. Let us illustrate this idea with European call/put options. First, we need some
notation. Given a contingent claim \(\Phi (S_T)\) with exercise date \(T\) we write \(\Pi _t(\Phi )\) for the price of this contingent claim at time \(t\), and \(h^{\Phi }_t=(x^\Phi _t,y^\Phi _t)\) for its
replicating portfolio.
</p>

<p>
In the case of European call/put options, the key to finding constant replicating portfolios is the ‘put-call parity relation’, which we’ll now introduce (although we have touched on the discrete time version of it in
exercise <a href="Exercises-on-Chapter-ref-c-bin_model.html#ps:put_call_parity"><b>5.4</b></a>). Let \(\Phi ^{call}\) and \(\Phi ^{put}\) denote the contingent claims corresponding respectively
to European call and put options, both with strike price \(K\) and exercise date \(T\). Let \(\Phi ^{stock}\) and \(\Phi ^{cash}\) denote the contingent claims corresponding respectively to (the value at time
\(T\) of) a single unit of stock, and a single unit of cash. Thus we have
</p>
<span class="hidden"> \(\seteqnumber{0}{16.}{0}\)</span>



<!--



                                                                                                   Φcash (ST ) = 1

                                                                                                  Φstock (ST ) = ST

                                                                                                   Φcall (ST ) = max(ST − K, 0)

                                                                                                    Φput (ST ) = max(K − ST , 0).



-->



<p>


\begin{align*}
\Phi ^{cash}(S_T)&amp;=1\\ \Phi ^{stock}(S_T)&amp;=S_T\\ \Phi ^{call}(S_T)&amp;=\max (S_T-K,0)\\ \Phi ^{put}(S_T)&amp;=\max (K-S_T,0).
\end{align*}
The <b>put-call parity relation</b> states that
</p>

<span class="hidden"> \(\seteqnumber{0}{16.}{0}\)</span>

<!--



                                               Φput (ST ) = Φcall (ST ) + KΦcash (ST ) − Φstock (ST ).                                          (16.1)                               --><a id="eq:put-call"></a><!--

-->

<p>


\begin{equation}
\label {eq:put-call} \Phi ^{put}(S_T)=\Phi ^{call}(S_T)+K\Phi ^{cash}(S_T) -\Phi ^{stock}(S_T).
\end{equation}


</p>

<p>
This can be verified from the definitions of the functions, and considering the two cases \(S_T\geq K\) and \(S_T\leq K\) separately. Doing so is left for you, in exercise <a
href="Exercises-on-Chapter-ref-c-bs_extensions.html#ps:put-call"><b>16.1</b></a>. It follows (strictly speaking, using the result of exercise <span class="textup">(<a
href="Exercises-on-Chapter-ref-c-bs.html#ps:pricing_linear"><b>15.7</b></a>)</span>) that if we buy a portfolio, at time \(0\), consisting of
</p>
<ul style="list-style-type:none">


<li>
<p>
• one European call option (with strike \(K\) and exercise \(T\)),
</p>


</li>
<li>


<p>
• \(Ke^{-rT}\) units of cash,
</p>


</li>
<li>


<p>
• minus one units of stock,
</p>
</li>
</ul>

<p>
then at time \(T\) this portfolio will have the same payoff as a European put option (with strike \(K\) and exercise \(T\)).
</p>

<p>
We could rearrange <span class="textup">(<a href="Application-extension-Black-Scholes-model.html#eq:put-call">16.1</a>)</span> into the form \(\Phi ^{call}(S_T)=\ldots \) and carry out the
same procedure for a call option. So, we learn that if we allow ourselves to hold portfolios containing options, we can hedge European call/put options using constant portfolios. It’s possible to hedge other types of
contract too:
</p>
<div class="theorembodyexample">

<ul style="list-style-type:none">



<a id="autoid-129"></a>
<li>
<p>
<span class="theoremheaderplain">Example 16.1.2</span> <a id="autoid-130" ></a >Consider a contract with contingent claim
</p>

<p>
\[ \Phi ^{straddle}(S_T) = |S_T-K| = \begin {cases} K-S_T &amp; \text { if }S_T\leq K\\ S_T-K &amp; \text { if }S_T&gt;K. \end {cases} \]
</p>

<p>
This type of contingent claim is known as a straddle, with strike price \(K\) and exercise time \(T\). It is easy to see that the parity relation
</p>

<p>
\[\Phi ^{straddle}(S_T)=\Phi ^{put}(S_T)+\Phi ^{call}(S_T)\]
</p>

<p>
holds. Hence, we can hedge a straddle by holding a portfolio of one call option, plus one put option, with the same strike price \(K\) and exercise date \(T\).
</p>

<p>
See exercises <a href="Exercises-on-Chapter-ref-c-bs_extensions.html#ps:parity_0"><b>16.3</b></a>, <a href="Exercises-on-Chapter-ref-c-bs_extensions.html#ps:parity_1"><b>16.4</b></a>
and <a href="Exercises-on-Chapter-ref-c-bs_extensions.html#ps:parity_2"><b>16.5</b></a> for more examples.
</p>


</li>

</ul>

</div>

<p>
There is a drawback here. This hedging strategy requires that we purchase calls and puts (whenever we like), based on the stock \(S_t\) with a strike \(K\) and a exercise dates \(T\) of our own choosing. For
calls/puts and equally common types of derivative, this is, broadly speaking, possible. For exotic types of option, even if we can find a suitable relation between payoffs in the style of <span class="textup">(<a
href="Application-extension-Black-Scholes-model.html#eq:put-call">16.1</a>)</span> the derivative markets are often less fluid and the hedging portfolio we wish to buy may simply not be available for
sale.
</p>

<p>
A ‘next best’ approach, for general contingent claims (of possibly exotic options), is to try and approximate a general contingent claim \(\Phi (S_T)\) with a constant hedging portfolio consisting of cash, stock and
a variety of call options with a variety of strike prices and exercise times. It turns out that this approximation is possible, at least in theory, with arbitrarily good precision for a large class of contingent claims. The
formal argument, which we don’t include in this course, relies on results from analysis concerning piecewise linear approximation of functions. Unfortunately, in most cases a large number/variety of call options are
needed, and this greatly increases the transaction cost of just buying the portfolio at time \(0\).
</p>

<p>
In short, there is no easy answer here. Transaction costs have to be incurred at some point, and there is no ‘automatic’ strategy that is best used to minimize them.
</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|The-Greeks.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — The Greeks</title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-154"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section The Greeks ......
-->
<h4 id="autosec-155"><span class="sectionnumber">16.2&#x2003;</span>The Greeks</h4>
<a id="notes_2-autopage-155"></a>
<a id="notes_2-autofile-27"></a> <a id="s:greeks"></a>

<p>
As usual, let \(F(t,s)\) be a differentiable function such that \(F(t,S_t)\) denote the value, at time \(t\), of a portfolio that replicates the contingent claim \(\Phi (S_T)\). We adopt one key idea from the
previous section: we allow this portfolio strategy to include options as well as cash and stock.
</p>

<p>
In this section we explore the sensitivity of replicating portfolios to changes in:
</p>
<ul style="list-style-type:none">


<li>
<p>
1. The price of the underlying stock \(S_t\).
</p>


</li>
<li>


<p>
2. The model parameters \(r,\mu \) and \(\sigma \).
</p>
</li>
</ul>

<p>
In the first case, we are interested to know, at a given time, how exposed our current portfolio is to changes in the asset price. That is, if the stock price were to quickly fall/rise, how much value are we likely to
gain/lose?
</p>

<p>
In the second case, our concern is that the model parameters we’re using may not be a good match for reality (or that reality may change so as new parameters are needed). This is a serious issue, since in practice
the values used for \(r,\mu ,\sigma \) are obtained by statistical inference, and it is not easy process to obtain them.
</p>

<p>
Various derivatives of \(F\) are used to assess the sensitivity of the associated portfolio, and they are known collectively as <b>the Greeks</b>. They are
</p>

<p>
\[ \begin {alignedat}{2} \Delta &amp;=\frac {\p F}{\p s} \hspace {5pc} &amp;&amp;(Delta)\\ \Gamma &amp;=\frac {\p ^2 F}{\p s^2} &amp;&amp;(Gamma)\\ \Theta &amp;=\frac {\p F}{\p t}
&amp;&amp;(Theta)\\ \rho &amp;=\frac {\p F}{\p r} &amp;&amp;(rho)\\ \Vega &amp;=\frac {\p F}{\p \sigma } &amp;&amp;(Vega) \end {alignedat} \]
</p>

<p>
all of which are evaluated at \((t,S_t)\). Note that, for \(\rho \) and \(\Vega \), we regard \(r\) and \(\sigma \) as variables (instead of constants) and differentiate with respect to them. There is no point in
having a derivative with respect to \(\mu \) because, as we have seen in Theorem <a href="The-Black-Scholes-equation.html#t:bs_repl">15.3.1</a>, \(\mu \) does not affect the risk-neutral world and
consequently its value has no effect on arbitrage free prices: \(\frac {\p F}{\p \mu }=0\).
</p>

<p>
If we have an explicit formula for \(F\), such as the Black-Scholes formula <span class="textup">(<a href="The-Black-Scholes-formula.html#eq:bs_formula">15.23</a>)</span> for European call options,
then we can differentiate to find explicit formulae for the Greeks. This can involve some quite messy calculations, so we don’t focus on this aspect of the Greeks in this course (but, see exercise <a
href="Exercises-on-Chapter-ref-c-bs_extensions.html#ps:greeks_call"><b>16.12</b></a> if you like doing messy calculations). In general, they can be estimated numerically.
</p>

<p>
For us, \(\Delta \) and \(\Gamma \) are most important. In the next section we study hedging strategies based on \(\Delta \) and \(\Gamma \).
</p>
<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-131"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 16.2.1</span> <a id="autoid-132" ></a >In fact, \(\Vega \) is not a letter of the Greek alphabet, it is a calligraphic Latin \(V\), but the terminology ‘the Greeks’
is used anyway.
</p>


</li>

</ul>

</div>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Delta-Gamma-Hedging.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Delta and Gamma Hedging</title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-157"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section Delta and Gamma Hedging ......
-->
<h4 id="autosec-158"><span class="sectionnumber">16.3&#x2003;</span>Delta and Gamma Hedging</h4>
<a id="notes_2-autopage-158"></a>
<a id="notes_2-autofile-28"></a> <a id="s:dg_hedge"></a>

<p>
As in the previous section, consider a portfolio consisting of both options, stock and cash, whose value at time \(t\) is given by \(F(t,S_t)\). In this section we will make heavy use of the first two Greeks,
\(\Delta (t,S_t)=\frac {\p F}{\p s}(t,S_t)\) and \(\Gamma (t,S_t)=\frac {\p ^2 F}{\p s^2}(t,S_t)\).
</p>

<p>
In this section we will need to consider several portfolios at once. If \(F(t,S_t)\) is the value of a portfolio at time \(t\) then we say that \(F\) is the <i>price function</i> of this portfolio, and we write the
corresponding \(\Delta \) and \(\Gamma \) as
</p>

<p>
\[\Delta _F=\frac {\p F}{\p s},\hspace {5pc}\Gamma _F=\frac {\p ^2 F}{\p s^2}.\]
</p>

<p>
We focus first on \(\Delta _F\).
</p>
<div class="theorembodydefn">

<ul style="list-style-type:none">



<a id="autoid-133"></a>
<li>
<p>
<span class="theoremheaderplain">Definition 16.3.1</span> <a id="autoid-134" ></a >A portfolio with price function \(F\) is said to be <b>delta neutral</b> at time \(t\) if \(\Delta _F(t,S_t)=0\).
</p>


</li>

</ul>

</div>

<p>
Let us think about delta neutrality for a moment. In words, \(\Delta _F(t,S_t)=0\) says that the derivative, with respect to the stock price, of the value of the replicating portfolio \(F\), is zero. This means that
if \(S_t\) where to vary (slightly), we would not expect the value of \(F\) to vary much. In other words, to some extent, the value of \(F\) is not exposed to changes in the price of the underlying stock; which is a
good thing, since it means the holder of the portfolio takes less risk. With this motivation, we will now look at a hedging strategy that tries to keep \(\Delta \approx 0\).
</p>

<p>
For a contingent claim \(\Phi (S_T)\), let \(F(t,S_t)\) be the value of the ‘usual’ hedging portfolio \(h_t=(x_t,y_t)\), consisting of just cash and stocks, that is provided by Theorem <a
href="The-Black-Scholes-equation.html#t:bs_repl">15.3.1</a>. Such a portfolio is typically not delta neutral. We consider including an amount \(z_t\) of some derivative (say, a call option) with itself has
hedging portfolio with value \(Z(t,S_t)\). The value of our new portfolio is therefore
</p>

<p>
\[V(t,S_t)=F(t,S_t)+z_tZ(t,S_t).\]
</p>

<p>
We would like this new portfolio to be delta neutral, say at time \(t\). That is, we would like \(\Delta _V=\frac {\p V}{\p s}=0\), which gives us the equation
</p>

<span class="hidden"> \(\seteqnumber{0}{16.}{1}\)</span>

<!--


                                                           ∂F      ∂Z
                                                              + zt    =0                                                               (16.2)                              --><a id="eq:zt_delta_hedge"></a><!--
                                                           ∂s      ∂s
-->

<p>


\begin{equation}
\label {eq:zt_delta_hedge} \frac {\p F}{\p s}+z_t\frac {\p Z}{\p s}=0
\end{equation}


</p>

<p>
and solving for \(z_t\) we see that we should hold
</p>

<p>
\[z_t=-\frac {\Delta _F}{\Delta _Z}\]
</p>

<p>
units of the derivative. Adding this amount of the deriative into our usual replicating portfolio, with the aim of having \(\Delta _V=0\), is known as a <b>delta hedge</b>.
</p>
<div class="theorembodyexample">

<ul style="list-style-type:none">



<a id="autoid-135"></a>
<li>
<p>
<span class="theoremheaderplain">Example 16.3.2</span> <a id="autoid-136" ></a ><a id="ex:delta_hedge"></a> Suppose that we have entered into a contract, as the seller, where the value to the
other party in the contract (the buyer) at time \(t\) is given by \(P(t,S_t)\). We want to delta hedge our position. So, we have \(F(t,S_t)=-P(t,S_t)\).
</p>

<p>
Suppose that the ‘derivative’ that we wish to use for our delta hedge is the underlying stock itself, which of course has price function
</p>

<p>
\[Z(t,S_t)=S_t,\]
</p>

<p>
giving \(Z(t,s)=s\). Then \(\frac {\p V}{\p s}=0\) when
</p>

<p>
\[\frac {\p F}{\p s}+z_t\frac {\p Z}{\p s}=-\frac {\p P}{\p s}+z_t=0\]
</p>

<p>
and we see that we need to hold an additional
</p>

<p>
\[z_t=\Delta _P\]
</p>

<p>
units of stock in order to delta hedge.
</p>


</li>

</ul>

</div>

<p>
There is a spanner in the works here. The value of \(z_t\) changes with time. If, at time \(t\), we delta hedge using \(z_t\), then at time \(t+\epsilon \) we will discover that \(z_{t+\epsilon }\) is slightly
different from \(z_t\) and our delta hedge is no longer working. On the other hand, if we continually adapt our portfolio to precisely match \(z_t\) then we will suffer high transaction costs.
</p>

<p>
To handle this issue, there is a procedure known as <b>discrete rebalanced delta hedge</b>. We explain it in the setting of Example <a href="Delta-Gamma-Hedging.html#ex:delta_hedge">16.3.2</a>,
where we have sold one unit of an option with price function \(P\), and wish to delta hedge the sale.
</p>

<p>
First, we fix some \(\epsilon &gt;0\). Then:
</p>
<ul style="list-style-type:none">


<li>
<p>
• At time \(t=0\), sell one unit of an option with price \(P\).
</p>


</li>
<li>


<p>
• Compute \(z_t=\Delta _P(t,S_t)\) (using Theorem <a href="The-Black-Scholes-equation.html#t:bs_repl">15.3.1</a>) at \(t=0\) and buy (or sell) this many units of stock.
</p>


</li>
<li>


<p>
• Wait for time \(\epsilon \). Recompute \(z_t=\Delta _P(t,S_t)\) at time \(t=\epsilon \), then buy/sell stock to re-balance the amount of ‘extra’ stock that we hold, to match this new amount.
</p>


</li>
<li>


<p>
• Repeat the rebalancing at each time \(t=\epsilon ,2\epsilon ,3\epsilon ,4\epsilon ,\ldots \) and so on.
</p>
</li>
</ul>

<p>
Of course, a smaller \(\epsilon \) results in closer approximation of \(z_t\approx \Delta _P(t,S_t)\) and (consequently) a more effective delta hedge, but with higher transaction costs; a larger \(\epsilon \)
results in less effective delta hedge but lower transaction costs. This is natural – we can’t expect to reduce risk for free.
</p>
<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-137"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 16.3.3</span> <a id="autoid-138" ></a >\((\star )\) It can be shown that as \(\epsilon \to 0\), the resulting portfolio approximates the true delta hedged
portfolio that corresponds, at all times, to holding \(z_t\) extra stock.
</p>


</li>

</ul>

</div>

<p>
Of course, there is no need for all of our rebalancing time intervals to have length \(\epsilon \). In fact, if \(\Delta _P\) is changing rapidly then we will need to rebalance frequently in order to keep \(z_t\approx
\Delta _P(t,S_t)\), but if \(\Delta _P\) is relatively stable then we’ll want to rebalance infrequently and spend less on transaction costs. This observation leads us on to the idea of \(\Gamma \) neutrality.
</p>
<div class="theorembodydefn">

<ul style="list-style-type:none">



<a id="autoid-139"></a>
<li>
<p>
<span class="theoremheaderplain">Definition 16.3.4</span> <a id="autoid-140" ></a >A portfolio with price function \(F\) is said to be <b>gamma neutral</b> at time \(t\) if \(\Gamma _F(t,S_t)=0\).
</p>


</li>

</ul>

</div>

<p>
The key idea is that \(\Gamma _P(t,S_t)=\frac {\p }{\p s}\Delta _P(t,S_t)\) measures how quickly \(\Delta _P\) changes in response to changes in the underlying stock price \(S_t\). When \(\Gamma
_P\approx 0\), we have that \(\Delta _P\) does not change quickly in response to small changes in the stock price. For this reason, it is advantageous to hold portfolios which are delta neutral <i>and</i> gamma
neutral. How to achieve this?
</p>

<p>
We now find ourselves wanting to augment a replicating portfolio (that, recall, has price function \(F(t,S_t)\)) into a portfolio with price function \(V(t,S_t)\) in such a way as both
</p>

<span class="hidden"> \(\seteqnumber{0}{16.}{2}\)</span>

<!--


                                                     ∂V                      ∂2V
                                              ∆V =      = 0,          ΓV =       = 0.                                               (16.3)                               --><a id="eq:delta_gamma_hedge"></a><!--
                                                     ∂s                      ∂s2
-->

<p>


\begin{equation}
\label {eq:delta_gamma_hedge} \Delta _V=\frac {\p V}{\p s}=0,\hspace {3pc}\Gamma _V=\frac {\p ^2 V}{\p s^2}=0.
\end{equation}


</p>

<p>
It should be intuitively clear that, because we now have two conditions to satisfy, we’ll need to consider adding in two extra quantities in order to achieve this. So, consider adding in \(w_t\) of some derivative with
price function \(W(t,S_t)\) and \(z_t\) of some other derivative with price function \(Z(t,S_t)\). Then \(V(t,S_t)=F(t,S_t)+w_tW(t,S_t)+z_tZ(t,S_t)\) and to satisfy <span class="textup">(<a
href="Delta-Gamma-Hedging.html#eq:delta_gamma_hedge">16.3</a>)</span> we need that both
</p>
<span class="hidden"> \(\seteqnumber{0}{16.}{3}\)</span>



<!--



                                                                                                ∆F + wt ∆W + zt ∆Z = 0

                                                                                                 ΓF + wt ΓW + zt ΓZ = 0.                           (16.4)                         --><a id="eq:gamma_eqs"></a><!--



-->



<p>


\begin{align}
\Delta _F+w_t\Delta _W+z_t\Delta _Z&amp;=0 \notag \\ \Gamma _F+w_t\Gamma _W+z_t\Gamma _Z&amp;=0.                       \label {eq:gamma_eqs}
\end{align}
We could solve this pair of linear equations to find formulae for \(w_t\) and \(z_t\), in terms of the \(\Delta \)s and \(\Gamma \)s. Since the formulae themselves are not particularly interesting to see, we won’t
bother. Including the resulting amounts \(w_t\) of \(W\), plus \(z_t\) of \(Z\), into a portfolio, in order to achieve <span class="textup">(<a
href="Delta-Gamma-Hedging.html#eq:delta_gamma_hedge">16.3</a>)</span> is known as a <b>gamma hedge</b>.
</p>
<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-141"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 16.3.5</span> <a id="autoid-142" ></a >Of course, \(z_t\) and \(w_t\) vary with time, which means that implementing a gamma hedge requires a discrete
rebalancing scheme, in the same spirit as we described for the delta hedge. In the interests of brevity, we don’t go into any further details on this point.
</p>

<p>
Delta and gamma hedging are the basis for many of the hedging strategies that are employed by investment banks and hedge funds.
</p>


</li>

</ul>

</div>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Exercises-on-Chapter-ref-c-bs_extensions.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Exercises on Chapter <a href=Application-extension-Black-Scholes-model.html#c:bs_extensions>16</a></title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-164"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section Exercises on Chapter <a href=Application-extension-Black-Scholes-model.html#c:bs_extensions>16</a> ......
-->
<h4 id="autosec-165"><span class="sectionnumber">16.4&#x2003;</span>Exercises on Chapter <a href="Application-extension-Black-Scholes-model.html#c:bs_extensions">16</a></h4>
<a id="notes_2-autopage-165"></a>
<a id="notes_2-autofile-29"></a>
<!--
......   subsection On parity relations ......
-->
<h5 id="autosec-166">On parity relations</h5>
<a id="notes_2-autopage-166"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>16.1</b> <a id="ps:put-call"></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> Draw graphs of the functions \(\Phi ^{cash}(S_T)\), \(\Phi ^{stock}(S_T)\), \(\Phi ^{call}(S_T)\) and \(\Phi ^{put}(S_T)\) defined in Section <a
href="Application-extension-Black-Scholes-model.html#s:transaction_costs">16.1</a>, as functions of \(S_T\).
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> Verify that the put-call parity relation <span class="textup">(<a href="Application-extension-Black-Scholes-model.html#eq:put-call">16.1</a>)</span> holds.
</p>
</li>
</ul>
</li>
<li>


<p>
<b>16.2</b> <a id="ps:put_price"></a> Use the put-call parity relation to show that the price at time \(0\) of a European put option with strike price \(K\) and exercise date \(T\) is given by \(Ke^{-rT}\mc
{N}(-d_2)-S_0\mc {N}(-d_1)\), where \(d_1\) and \(d_2\) are from <span class="textup">(<a href="The-Black-Scholes-formula.html#eq:bs_formula">15.23</a>)</span>.
</p>
</li>
<li>


<p>
<b>16.3</b> <a id="ps:parity_0"></a> Write down a constant portfolio, which may consist of cash, stock and/or European call and put options, that would replicate the contingent claim
</p>
<p>
\[ \begin {cases} S_T-1 &amp; \text { if }S_T&gt;1,\\ 0 &amp; \text { if }S_T\in [-1,1]\\ -1-S_T &amp; \text { if }S_T&lt;-1.                       \end {cases} \]
</p>
</li>
<li>


<p>
<b>16.4</b> <a id="ps:parity_1"></a> Let \(A\geq 0\) and \(K\geq 0\) be deterministic constants. Consider the contingent claim, with exercise date \(T\),
</p>
<p>
\[\Phi (S_T)= \begin {cases} K &amp; \text { if }S_T\leq A,\\ K+A-S_T &amp; \text { if }A\leq S_T\leq K+A,\\ 0 &amp; \text { if }K+A&lt;S_T. \end {cases} \]
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> Sketch (for general \(A\geq 0\)) a graph of \(\Phi (S_T)\) as a function of \(S_T\). Find a constant portfolio consisting of European put options, with exercise dates and
strike prices of your choice, that replicates \(\Phi (S_T)\).
</p>
</li>
<li>


<p>
<span class="textnormal">(b)</span> Find a constant portfolio consisting of cash, stock, and European call options (with exercise dates and strike prices of your choice) that replicates \(\Phi (S_T)\).
</p>
</li>
<li>


<p>
<span class="textnormal">(c)</span> In parts (a) and (b) we found two different replicating portfolios for \(\Phi (S_T)\). However Corollary <a
href="The-Black-Scholes-equation.html#cor:repl_uniq">15.3.3</a> claimed that ‘replicating portfolios are unique’. Why is this not a contradiction?
</p>
</li>
</ul>
</li>
<li>


<p>
<b>16.5</b> <a id="ps:parity_2"></a> Let \(A\) and \(B\) be deterministic constants with \(A&lt;B\). Consider the contingent claim
</p>
<p>
\[ \Phi ^{bull}(S_T)= \begin {cases} B &amp; \text { if }S_T&gt;B,\\ S_T &amp; \text { if }A\leq S_T\leq B,\\ A &amp; \text { if }S_T&lt;A. \end {cases} \]
</p>
<p>
This is known as a ‘bull spread’. Find a constant portfolio consisting of cash and call options that replicates \(\Phi ^{bull}(S_T)\).
</p>
</li>
</ul>
<!--
......   subsection On the Greeks and delta/gamma hedging ......
-->
<h5 id="autosec-167">On the Greeks and delta/gamma hedging</h5>
<a id="notes_2-autopage-167"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>16.9</b> <a id="ps:greeks"></a> Let \(\beta &gt;2\). Find the values of all the Greeks, at time \(t\in [0,T]\), for the derivative with contingent claim \(\Phi (S_T)=S_T^\beta \). (<i>Hint: You will
need part (b) of <a href="Exercises-on-Chapter-ref-c-bs.html#ps:pricing_gbm_beta"><b>15.4</b></a>.</i>)
</p>
</li>
<li>


<p>
<b>16.10</b> <a id="ps:delta_gamma_hedge"></a> At time \(t\) you hold a portfolio \(h\) with value \(F(t,S_t)\), for which (at time \(t\)) \(\Delta _F=2\) and \(\Gamma _F=3\).
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> You want to make this portfolio delta neutral by adding a quantity of the underlying stock \(S_t\). How much should you add? What is the cost of doing so?
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> You want to make this portfolio both delta and gamma neutral, by adding a combination of the underlying stock \(S_t\) as well a second financial derivative with value
\(D(t,S_t)\), for which \(\Delta _D=1\) and \(\Gamma _D=2\). How much of each should you add? What is the cost of doing so?
</p>
</li>
</ul>
</li>
<li>


<p>
<b>16.11</b> <a id="ps:gamma_stock"></a> Consider trying to gamma hedge a portfolio with value \(F(t,S_t)\), by adding in an amount \(w_t\) of a financial derivative with value \(W(t,S_t)\) and an
amount \(z_t\) of a financial derivative with value \(Z(t,S_t)\).
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> An excitable mathematician suggests the following idea:
</p>
<blockquote>
<p>
<i>First, delta hedge using \(W\): add in \(w_t=-\frac {\Delta _F}{\Delta _W}\) of the first derivative to make our portfolio delta neutral. Then, add in a suitable amount \(z_t\) of \(Z\) to make the
portfolio gamma neutral.</i>
</p>
</blockquote>
<p>
Why does this idea not work?
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> Consider the case in which \(Z(t,S_t)=S_t\). In this case, solve the equations <span class="textup">(<a
href="Delta-Gamma-Hedging.html#eq:gamma_eqs">16.4</a>)</span> to find explicit expressions for \(w_t\) and \(z_t\).
</p>


</li>
<li>


<p>
<span class="textnormal">(c)</span> Does the following idea work? Explain why, or why not.
</p>
<blockquote>
<p>
<i>First, add in an amount \(w_t\) of the first derivative to make the portfolio <i>gamma</i> neutral. Then, add in a suitable amount \(z_t\) of stock to make the portfolio delta neutral.</i>
</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<!--
......    subsection Challenge Questions ......
-->
<h5 id="autosec-170">Challenge Questions</h5>
<a id="notes_2-autopage-170"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>16.12</b> <a id="ps:greeks_call"></a> Use the Black-Scholes formula <span class="textup">(<a href="The-Black-Scholes-formula.html#eq:bs_formula">15.23</a>)</span> to verify that, in the
case of a European call option with strike price \(K\) and exercise date \(T\), the Greeks are given by
</p>
<p>
\[\Delta =\mc {N}(d_1),\hspace {5pc} \Gamma =\frac {\phi (d_1)}{s\delta \sqrt {T-t}},\]
</p>
<p>
\[\rho =K(T-t)e^{-r(T-t)}\mc {N}(d_2),\hspace {1.7pc} \Theta =-\frac {s\phi (d_1)\sigma }{2\sqrt {T-t}}-rKe^{-r(T-t)}\mc {N}(d_2),\hspace {1.7pc} \mc {V}=s\phi (d_1)\sqrt {T-t}.\]
</p>
<p>
Here, \(\phi (x)=\frac {1}{\sqrt {2\pi }}e^{-x^2/2}\) is the p.d.f.&nbsp;of a \(N(0,1)\) distribution, and \(\mc {N}(x)\) is its c.d.f.
</p>
<p>
Use the put-call parity relation to find the values of the Greeks in the case of a European put option.
</p>
</li>
</ul>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Further-topics-on-Black-Scholes-model.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Further topics on Black-Scholes model </title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-171"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     chapter Further topics on Black-Scholes model        ......
-->
<h3 id="autosec-172">Chapter&nbsp;<span class="sectionnumber">17&#x2003;</span>Further topics on Black-Scholes model \((\star )\)</h3>
<a id="notes_2-autopage-172"></a>
<a id="notes_2-autofile-30"></a>

<a id="c:further_extensions"></a>

<p>
In this section we briefly survey a number of further ways in which the standard Black-Scholes model is often extended. This chapter mostly contains discussions rather than mathematical arguments. As in Chapter
<a href="Application-extension-Black-Scholes-model.html#c:bs_extensions">16</a> we follow a strategy of keeping things simple by studying each extension in isolation. Note that the whole section of
Chapter <a href="Further-topics-on-Black-Scholes-model.html#c:further_extensions">17</a> is off-syllabus, and marked with \((\star )\)s.
</p>
<!--
......    section Time inhomogeneity       ......
-->
<h4 id="autosec-173"><span class="sectionnumber">17.1&#x2003;</span>Time inhomogeneity \((\star )\)</h4>
<a id="notes_2-autopage-173"></a>



<p>
We’ve kept the model parameters \(r,\mu \) and \(\sigma \) as fixed, deterministic constants throughout our analysis of the Black-Scholes model. In fact, there is no need to do so. It is common to allow \(\mu \)
and \(\sigma \) to depend on both \(t\) and \(S_t\), written \(\mu (t,S_t)\) and \(\sigma (t,S_t)\).
</p>

<p>
The situation for \(r\) is similar. It is common to allow \(r\) to depend on \(t\), but not on \(S_t\), written simply \(r(t)\). The for this choice is simply that reason interest rates are generally not thought to
be dependent on stock prices. Moreover, interest rates tend to vary much more slowly than stock prices, and it is not unusual to assume that \(r\) is constant.
</p>

<p>
Allowing \(r\), \(\mu \) and \(\sigma \) to vary makes the problem of parameter inference much more difficult, but it is easily absorbed (without major changes) into the pricing theory that we’ve studied in this
course. Essentially, the reason that no major changes occur is that our use of Ito’s formula did not ever require us to differentiate \(r\), \(\mu \) or \(\sigma \).
</p>

<p>
In the situation where \(r=r(t)\), \(\mu =\mu (t,S_t)\) and \(\sigma =\sigma (t,S_t)\), it turns out that the risk neutral valuation formula for the contingent claim \(\Phi (S_T)\) turns into
</p>

<p>
\[\Pi _t=e^{-\int _t^T r(u)\,du}\,\E _{t,S_t}^\Q \l [\Phi (S_T)\r ],\]
</p>

<p>
where the risk neutral world \(\Q \) has the dynamics of \(S\) as
</p>

<p>
\[dS_t=r(t)S_t\,dt+\sigma (t,S_t)S_t\,dB_t.\]
</p>

<p>
It is easily seen that this generalizes the version of risk-neutral valuation that we proved in Theorem <a href="The-Black-Scholes-equation.html#t:bs_repl">15.3.1</a>: when \(r\) is constant we have \(\int
_t^Tr\,du=r(T-t)\). Note, though, that in this case we don’t have the explicit formula <span class="textup">(<a href="The-Black-Scholes-formula.html#eq:gbm_tT">15.20</a>)</span> for \(S_T\) in
terms of \(S_t\).
</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|American-Exotic-options.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — American and Exotic options </title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-174"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section American and Exotic options        ......
-->
<h4 id="autosec-175"><span class="sectionnumber">17.2&#x2003;</span>American and Exotic options \((\star )\)</h4>
<a id="notes_2-autopage-175"></a>
<a id="notes_2-autofile-31"></a> <a id="s:exotics"></a>

<p>
We have generally used European call (and sometimes put) options as our canonical examples of financial derivatives. Whilst European call and put options are traded on many stocks, the most common type of
financial derivative is actually the <i>American</i> call/put option.
</p>

<p>
In all our previous work, we assumed that the exercise time \(T\) of an option was agreed in advance, and was deterministic. <b>American options</b> are options in which the holder can choose when to exercise
the option. For example, an American call option with strike \(K\) and ‘final’ exercise date \(T\), gives the holder the right to buy one unit of stock \(S_t\) for a (pre-agreed, deterministic) strike price \(K\) <i>at
a time of their own choosing</i> during \([0,T]\).
</p>

<p>
The time \(\tau \) at which the holder chooses to exercise their right to buy may depend on the current value of the stock price. As a result, the argument that we used to derive the prices (in Section <a
href="The-Black-Scholes-equation.html#s:bs_eq">15.3</a>) breaks down. The underlying cause is that they relate to a family of PDEs that are much more difficult to handle than the standard Black-Scholes
PDEs – and for which Feynman-Kac formulas are not known to exist. In some special cases (including the case of American call options) explicit hedging strategies that are known, which allow explicit formulas for
prices to be found, but in general numerical techniques are the only option.
</p>
<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-143"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 17.2.1</span> <a id="autoid-144" ></a >\((\Delta )\) To be precise, what American options lead too, in place of the risk-neutral valuation formula, is a
so-called ‘optimal stopping problem’: their value is given by
</p>

<span class="hidden"> \(\seteqnumber{0}{17.}{0}\)</span>

<!--



                                                                max EQ e−rτ Φ(Sτ )                                                            (17.1)
                                                                                
                                                                                                                                                                             --><a id="eq:op_stop_prob"></a><!--
                                                                 τ


-->

<p>


\begin{equation}
\label {eq:op_stop_prob} \max _\tau \E ^\Q \l [e^{-r\tau }\Phi (S_\tau )\r ]
\end{equation}


</p>

<p>
where the max is taken over stopping times \(\tau \). The optimal stopping problem is to identify the stopping time \(\tau \) at which the maximum occurs.
</p>

<p>
Optimal stopping problems are generally quite difficult, and the mathematics needed to attack <span class="textup">(<a href="American-Exotic-options.html#eq:op_stop_prob">17.1</a>)</span> is
outside of the scope of what we can cover in this course.
</p>


</li>

</ul>

</div>

<p>
Another interesting class of financial derivatives are <b>exotic options</b>. This is a general term used for options in which the contingent claim is either complicated to write down, or simply of an unusual form.
They include
</p>
<ul style="list-style-type:none">


<li>
<p>
1. <b>digital options</b>, which give a fixed payoff if (and only if) the stock price is above a particular threshold;
</p>


</li>
<li>


<p>
2. <b>barrier options</b>, in which the exercise rights of the holder vary according to whether the stock price has crossed particular thresholds;
</p>


</li>
<li>


<p>
3. <b>Asian options</b>, whose payoff depends on the average price of the underlying asset during a particular time period;
</p>
</li>
</ul>

<p>
and many other variants (such as cliquet, rainbow, lookback, chooser, Bermudean, \(\ldots \)). Often such options are not traded on stock exchanges because there is insufficient demand for their individual
characteristics. As a result, their prices are agreed through direct discussions between the two (or more) parties involved in the contract. We don’t attempt to make a catalogue of the theory of pricing such options.
If you want to see some examples, there are plenty in Chapters 11-14 of the book ‘The Mathematics of Financial Derivatives’ by Wilmott, Howison and Dewynne.
</p>
<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-145"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 17.2.2</span> <a id="autoid-146" ></a >In Section <a href="Completeness.html#s:bs_compl">15.2</a> we were careful to write our contingent claims as
\(X\), rather than \(\Phi (S_T)\). The reason is that the argument we gave for the Theorem <a href="Completeness.html#t:bs_compl">15.2.5</a>, which essentially stated that the Black-Scholes market was
complete, relied only on the fact that \(X\in m\mc {F}_T\) (and not on having the form \(X=\Phi (S_T)\)).
</p>

<p>
As a consequence, we do know that most types of exotic option can be hedged in the Black-Scholes model – but, in general, we don’t know how to find the replicating portfolios.
</p>


</li>

</ul>

</div>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Discontinuous-stock-prices-heavy-tails.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Discontinuous stock prices and heavy tails </title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-178"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section Discontinuous stock prices and heavy tails         ......
-->
<h4 id="autosec-179"><span class="sectionnumber">17.3&#x2003;</span>Discontinuous stock prices and heavy tails \((\star )\)</h4>
<a id="notes_2-autopage-179"></a>
<a id="notes_2-autofile-32"></a> <a id="s:discont"></a>

<p>
We now begin to move further afield, towards some serious extensions of the standard Black-Scholes model.
</p>

<p>
The following graph shows the Standard &amp; Poor’s 500 index, usually known in short as the S&amp;P 500, during 1987. It is essentially an averaged value of the stock prices of the top 500 companies within the
American stock market<sup>1</sup>. The S&amp;P 500 is widely regarded as one of the best ways of representing, in a single number, the value of stocks within the U.S.&nbsp;stock markets. We won’t go into
exactly how the ‘average’ is taken.
</p>
<div class="center">

<p>


<a href="black_monday.png" target="_blank" ><img
      src="black_monday.png"
      style="
      width:260pt;
      "
      class="inlineimage"
      alt="(The S&amp;P500 during Autumn 1987)"
></a>
</p>
</div>

<p>
The feature of the graph that grabs our immediate attention is the huge fall, which occurs on Monday 19<sup>th</sup> October 1987. This date has become known as <i>Black Monday</i>. We see an
instantaneous drop, with apparently no warning, in which the S&amp;P 500 loses nearly 30% of its value. This is its largest fall ever, over twice the magnitude of the second largest fall (which you may remember: it
occurred on 15<sup>th</sup> October 2008).
</p>
<div role="note" class="footnotes">

<a id="notes_2-autopage-181"></a>

<p>
<sup>1</sup>&nbsp;Including both the NYSE and the NASDAQ.
</p>



</div>



<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-147"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 17.3.1</span> <a id="autoid-148" ></a >Something which may strike you as very strange: <i>no</i> single explanation for the Black Monday crash has ever been
found. There are various theories as to what triggered the crash, ranging from a sudden lack liquidity to sudden implementations of new pricing methodology. It is often claimed that some <i>high-frequency trading
algorithms</i> (which were relatively new, at the time) were programmed to automatically sell stocks when they saw them drop; meaning that once a small crash occurred there was suddenly a huge number of
investors wanting to sell, exacerbating the drop in prices. However, in this case the largest drops occurred when trading volumes were low, meaning that high frequency trading is unlikely to be the full explanation.
</p>


</li>

</ul>

</div>

<p>
Of the many stock market crashes that have occurred in history, one other deserves special mention: the financial crisis of 2007-8. We will discuss it (briefly) in Chapter <a
href="The-financial-crisis-2007-8.html#c:2008">18</a>. For now, let us focus on how we might incorporate rare, but sudden, downward drops in prices into the Black-Scholes model.
</p>

<p>
A rapid downward drop in prices is best represented by a discontinuity (downwards) in the stock price. However, the theory of Ito integration that we developed only worked for continuous stochastic process. In
fact, a theory of Ito integration that can handle discontinuities does exist, but it requires much heavier use of analysis than the version we developed. The complication is that, in continuous time, we need to be clear
about what information is known <i>instantaneously before</i> a jump takes place – we cannot allow ourselves to foresee the jump, since this would be unrealistic. Doing so necessitates much more careful use of
\(\sigma \)-fields, filtrations and left/right-continuity than we saw in Chapter <a href="Stochastic-integration.html#c:ito">12</a>.
</p>

<p>
Happily, there is a generalization of Brownian motion, known as a <i>Le&#x0301;vy process</i>, which naturally incorporates unpredictable jumps, both upwards and/or downwards. It turns out that
Le&#x0301;vy processes are intimately connected to heavy tailed random variables (that is, where \(\E [X]\) or \(\E [X^2]\) is not defined). This, in turn, means we need a further extension of Ito calculus, to
remove our reliance on \(\mc {H}^2\) and allow for infinite means and variances. After all this theoretical work, we can then build versions of the Black-Scholes model that incorporate the possibility of rare, but
unpredictable, jumps in stock prices.
</p>

<p>
To summarize: such extensions are possible (and exist, and are used), but they are much harder to work with.
</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Volatility.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Volatility </title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-182"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section Volatility     ......
-->
<h4 id="autosec-183"><span class="sectionnumber">17.4&#x2003;</span>Volatility \((\star )\)</h4>
<a id="notes_2-autopage-183"></a>
<a id="notes_2-autofile-33"></a> Let us begin to think a little about what we would need to do to make use of the model, within a real market.

<p>
It is clear that we would need estimates of the parameters \(r\) and \(\sigma \) (we don’t need to know \(\mu \), because it has no effect on arbitrage free prices). Estimating the interest rate \(r\) is often rather
easy, because interests rates don’t change quickly and they are <i>chosen</i> by banks, who generally also make them public information; so we won’t worry about \(r\).
</p>

<p>
It is much harder to estimate the volatility \(\sigma \). We focus on this issue for the remainder of this section.
</p>
<!--
......   subsection Historical volatility         ......
-->
<h5 id="autosec-184">Historical volatility \((\star )\)</h5>
<a id="notes_2-autopage-184"></a>



<p>
One obvious idea is to estimate the future volatility based on the stock prices that we have observed in the recent past. Let us discuss one method for doing so.
</p>

<p>
Recall that our stock price process follows
</p>

<p>
\[dS_t=\mu S_t\,dt+\sigma S_t\,dB_t\]
</p>

<p>
which, as we saw in Section <a href="Geometric-Brownian-motion.html#s:gbm">13.2</a>, has solution
</p>

<p>
\[S_t=S_0\exp \l ((\mu -\tfrac 12\sigma ^2)t+\sigma B_t\r ).\]
</p>

<p>
We fix \(\epsilon &gt;0\) and set \(t_i=i\epsilon \). We look at our historical data and find the values of \(S_t\) at times \(t=t_i\), which we assume to all be in the past. Fix some \(n\in \N \) and for
\(i=1,\ldots ,n\) define
</p>

<p>
\[\xi _i=\log \l (\frac {S_{t_i}}{S_{t_{i-1}}}\r ).\]
</p>

<p>
This gives us that
</p>

<p>
\[\xi _i=\l (\mu -\frac {\sigma ^2}{2}\r )\epsilon + \sigma \l (B_{t_i}-B_{t_{i-1}}\r ).\]
</p>

<p>
Using the independence properties of Brownian motion, we have that the \((\xi _i)_{i=1}^n\) are i.i.d.&nbsp;random variables with common distribution
</p>

<p>
\[N\l [(\mu -\tfrac {\sigma ^2}{2})\epsilon ,\;\sigma ^2\epsilon \r ].\]
</p>

<p>
We can estimate their (common) variance \(\epsilon \sigma ^2\) by the sample variance:
</p>

<p>
\[\epsilon \sigma ^2 \approx \frac {1}{n-1}\sum \limits _{i=1}^n\l (\xi _i-\bar \xi \r )^2\]
</p>

<p>
where \(\bar \xi =\frac {1}{n}\sum _{i=1}^n \xi _i\).
</p>
<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-149"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 17.4.1</span> <a id="autoid-150" ></a >If you are familiar with statistical inference, you should recognize the maximum likelihood estimator for the variance of
the normal distribution.
</p>


</li>

</ul>

</div>

<p>
We thus obtain the estimator
</p>

<p>
\[\hat \sigma =\frac {1}{\sqrt {\epsilon }}\l (\frac {1}{n-1}\sum \limits _{i=1}^n (\xi _i-\bar \xi )^2\r )^{1/2}\]
</p>

<p>
for \(\sigma \). What we have obtained here is a estimate of what the volatility was during the time period containing \(t_1,\ldots ,t_n\), which is in the past. When we are pricing options, what we would like
to is an estimator of the volatility for future. We might be prepared to assume that the future will be similar to the past, and if we are then we can use \(\hat \sigma \). Unfortunately, historical volatilities often
turn out to be a poor method of predicting future volatilities. With this in mind, we move on and examine an alternative idea.
</p>
<!--
......        subsection Implied volatility and the volatility smile            ......
-->
<h5 id="autosec-186">Implied volatility and the volatility smile \((\star )\)</h5>
<a id="notes_2-autopage-186"></a>



<p>
Suppose that we wish to gauge what the (rest of the) market thinks is a reasonable estimate for volatility over the next, say, six months. Here’s one way we could do it.
</p>

<p>
Take our Black-Scholes model. Find the pricing formula for a European call option that has a date of exercise six months into the future. Let us write this price as \(c(K,t,T,r,\sigma )\). We know the value
today of the stock \(S_t\), we have argued that estimating \(r\) is not difficult, we know \(K\), and we know that \(T=\text {six months}\). We can also <i>look at the market</i> and see the price at which
this call option is being sold for – call this price \(p\). We can then solve the equation
</p>

<span class="hidden"> \(\seteqnumber{0}{17.}{1}\)</span>

<!--



                                                                p = c(K, t, T, r, σ)                                                              (17.2)                         --><a id="eq:implied_vol"></a><!--

-->

<p>


\begin{equation}
\label {eq:implied_vol} p=c(K,t,T,r,\sigma )
\end{equation}


</p>

<p>
for \(\sigma \), and obtain what is known as the <b>implied volatility</b>, often abbreviated simply to <b>vol</b>. Essentially, this is the volatility that ‘the market’ currently believes in.
</p>

<p>
This may seem like a circular procedure; if we were to then use the implied volatility as an estimator for \(\sigma \) and price accordingly, we would discover (at least, in theory) that we might as well have just
charged whatever prices we could already see in the market. However, there is more to this situation that meets the eye.
</p>

<p>
Suppose that we are wanting to price an exotic derivative that is <i>not</i> commonly traded. This means that we cannot see current market prices for it – so we could not use our exotic derivative to find the
implied volatility in the style of <span class="textup">(<a href="Volatility.html#eq:implied_vol">17.2</a>)</span>. But what we can do is:
</p>
<ul style="list-style-type:none">


<li>
<p>
1. Look at prices of call options (or some other options, based on the same underlying stock, which are commonly traded) based on this derivative with the same exercise date. Use these to work out the implied
volatility.
</p>


</li>
<li>


<p>
2. Use the resulting implied volatility, in the Black-Scholes model, to compute the price that we should charge for our exotic derivative.
</p>
</li>
</ul>

<p>
In fact, <i>this</i> is currently the way in which the Black-Scholes model is most commonly used.
</p>

<p>
In another vein, we can use the idea of implied volatility to test the accuracy of the Black-Scholes model. Suppose that we observe the market prices of a number of call options, on the same stock, with the same
exercise date, but with different strike prices. We can use each of these observations to calculate a value for the implied volatility. In theory, each of these calculations should give us the same \(\sigma \).
</p>

<p>
They don’t. In practice, it is often the case that options for which \(S_t\gg K\) or \(S_t\ll K\) (at the current time \(t\)) tend to suggest higher implied volatilities that those for which \(S_t\approx K\). We
thus obtain a graph of implied volatility as a function \(K\), which typically looks like
</p>
<div class="center">

<p>


<a href="vol.jpg" target="_blank" ><img
      src="vol.jpg"
      style="
      width:130pt;
      "
      class="inlineimage"
      alt="(A volatility smile)"
></a>
</p>
</div>

<p>
This picture is known as the <b>volatility smile</b>. The exact shape of the smile varies from market to market, and can also vary substantially over time. Sometimes the smile becomes inverted, and is known as
a ‘volatility frown’.
</p>

<p>
The appearance of the volatility smile reflects deficiencies in the standard version of the Black-Scholes model. It is generally believed that the appearance of the volatility smile is closely connected to the standard
Black-Scholes model not accounting for the possibility of jumps in the stock price; investigating this issue in detail is currently an active area of mathematical finance.
</p>

<p>
Despite the existence of the volatility smile, the Black-Scholes model is used extensively, in practice. The volatility smile provides an indicator of how well/badly the Black-Scholes model is capturing reality. It’s
consequences, including what can be learned from the precise shape of the smile, are well understood by traders.
</p>

<p>
It should be noted that, in practice, decisions taken on trading stocks and shares are based both on information obtained using modelling techniques (such as Black-Scholes) as well as qualitative information (such as
reading the annual general reports of companies, being aware of the political environment, etc). Combining all this information together is a difficult task, which requires understanding the modelling theory well
enough to judge, in detail, which aspects of reality are modelled well and which are not. There is nothing special to the world of finance here – all sophisticated stochastic modelling requires this the same level of care.
</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Incomplete-markets.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Incomplete markets </title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-188"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section Incomplete markets        ......
-->
<h4 id="autosec-189"><span class="sectionnumber">17.5&#x2003;</span>Incomplete markets \((\star )\)</h4>
<a id="notes_2-autopage-189"></a>
<a id="notes_2-autofile-34"></a> <a id="s:incompleteness"></a>

<p>
In Theorem <a href="Completeness.html#t:bs_compl">15.2.5</a> we proved that we could replicate any contingent claim \(X\) (providing that \(\E ^\Q [X]\) exists, which is not a major restriction).
Essentially, replication relies on having enough independently tradeable commodities that we can create a portfolio that fully replicates the randomness built into the contingent claim \(X\).
</p>

<p>
In some markets, the number of (independent) sources of random information is much greater than then number of (independent) commodities that are traded. They are known as <b>incomplete markets</b>. In
practice, it is not particularly easy to judge if a given market fits into this class, but very many do.
</p>

<p>
In an incomplete market we can’t hedge every contingent claim. Consequently, we also can’t deduce arbitrage free prices for every contingent claim. Instead, it is possible to construct arbitrage based arguments to
say that particular relationships exist <i>between</i> contingent claims must exist; statements of the form ‘if the price of \(X\) is this then the price of \(Y\) must be that’. Then, by observing some carefully chosen
prices from the market, we have enough information (when combined with the usual arbitrage free pricing methods) to uniquely determine the price of any contingent claim. The ‘extra’ information, that is observed
via prices, essentially involves quantifying how risk averse the market is towards particular asset classes.
</p>

<p>
We won’t go into any details on this procedure in these notes. A good source of further information is Chapter 15 of the book ‘Arbitrage Theory in Continuous Time’ by Bjork.
</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|The-financial-crisis-2007-8.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — The financial crisis of 2007/8 </title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-190"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     chapter The financial crisis of 2007/8        ......
-->
<h3 id="autosec-191">Chapter&nbsp;<span class="sectionnumber">18&#x2003;</span>The financial crisis of 2007/8 \((\star )\)</h3>
<a id="notes_2-autopage-191"></a>
<a id="notes_2-autofile-35"></a>

<a id="c:2008"></a>

<p>
In Section <a href="Discontinuous-stock-prices-heavy-tails.html#s:discont">17.3</a> we mentioned briefly that the cause of the Black Monday stock market crash, the single biggest fall in the S&amp;P
500, has never been fully understood. The second, third, and fourth biggest one day falls in the S&amp;P 500 all occurred towards the end of 2008, and form part of what is often referred to as the ‘sub-prime
mortgage crisis’. They present a very different picture. The U.S.&nbsp;Financial Crisis Enquiry Commission reported in 2011 that
</p>
<blockquote>

<p>
“the crisis was avoidable and was caused by: widespread failures in financial regulation, including the Federal l Reserve’s failure to stem the tide of toxic mortgages; dramatic breakdowns in corporate governance
including too many financial firms acting recklessly and taking on too much risk; an explosive mix of excessive borrowing and risk by households and Wall Street that put the financial system on a collision course
with crisis; key policy makers ill prepared for the crisis, lacking a full understanding of the financial system they oversaw; and systemic breaches in accountability and ethics at all levels.”
</p>
</blockquote>

<p>
Let us take some time to unpick the chain of events that occurred.
</p>
<!--
......   subsubsection Availability of credit during 2000-07 ......
-->
<h6 id="autosec-193">Availability of credit during 2000-07</h6>
<a id="notes_2-autopage-193"></a>



<p>
During 2000-07 it was easy to obtain credit (i.e.&nbsp;borrow money) in Europe and the United States. Unrelated events in Russia and Asia during the late 1990s resulted in investors moving their money away, in
many cases meaning they moved it into the U.S.&nbsp;and Europe. Part of this investment financed a boom in construction (i.e.&nbsp;house building) and also financed a boom in mortgages (i.e.&nbsp;loans with
which people buy houses).
</p>

<p>
Loans have value: they are a contract which says that, at some point in the future, the money will be paid back, with interest. As a result loans are, essentially, a commodity. A ‘share in a loan’ is a share of the
right to be re-paid when the time limit on the loan expires. These rights can be bought and sold.
</p>

<p>
As a consequence of these two factors, there was an increase in the number of financial derivatives for which the underlying ‘stock’ was mortgages. There was also a rise in house prices, because the easy availability
of mortgages led to higher demand. We’ll come back to this.
</p>
<!--
......   subsubsection Deregulation of lending ......
-->
<h6 id="autosec-194">Deregulation of lending</h6>
<a id="notes_2-autopage-194"></a>



<p>
In all economies, business that wish to grow require the ability to borrow money, in order to fund their growth. Investors (private investors, banks, governments, pension funds, etc.) provide this money, typically as
a loan or by purchasing newly created stock. These investors take a risk: the value of their investment depends on the future success of the businesses in which they invest. Investment banks are one of the vehicles
through which this process takes place. They act as middlemen, connecting multiple investors and business together.
</p>

<p>
Since the 1970s, governments in both the U.S.&nbsp;and Europe tended towards policies of <i>deregulation</i>. They aimed to offer more freedom to financial institutions, and (consequently) increase investment
and activity within the wider economy.
</p>

<p>
Deregulation meant that financial institutions had to share less data about their own activities with regulators and policy makers. As a result, regulators did not immediately recognize the growth and increasing
importance of investment banks and hedge funds to the wider economy. These institutions became major providers of credit, but were subject to less regulation than commercial banks. In part this lack of regulation
was due to their use of complex financial derivatives, which were not well understood by regulators or subject to much regulation.
</p>
<!--
......   subsubsection The housing boom ......
-->
<h6 id="autosec-195">The housing boom</h6>
<a id="notes_2-autopage-195"></a>



<p>
From around 2000 onwards, relaxed regulations allowed large numbers of lenders in U.S.&nbsp;to issue ‘sub-prime’ mortgages. These are mortgages issued to individuals who are at higher than normal risk of
defaulting on their mortgage payments. When a homeowner is unable to keep up their mortgage payments, the bank takes ownership of their house (and its occupants must leave).
</p>

<p>
Of course, financial institutions are in a much better position than ‘ordinary’ people to predict, in the long run, whether or not someone is capable of paying back their mortgage – but (at least, initially) selling the
mortgages was profitable, <i>including</i> selling the mortgages that were at high risk of eventually defaulting. As a result many financial institutions were keen to sell sub-prime mortgages. Moreover, deregulation
allowed financial institutions to attract customers into ‘variable rate’ mortgages, that required lower repayments in their initial years, followed soon after by higher repayments.
</p>

<p>
At this point, you may hear alarm bells ringing and guess what happens next. Of course, you have the benefit of hindsight; in 2006/07 the prevalent view was that financial innovations were supporting a stable,
high-growth housing market, with the (politically popular, and widely enjoyed) consequence of increased home-ownership.
</p>
<!--
......    subsubsection The end of the housing boom ......
-->
<h6 id="autosec-196">The end of the housing boom</h6>
<a id="notes_2-autopage-196"></a>



<p>
A house building boom, accompanied by a fast rise in house prices, does not continue forever. In around 2006, a point was reached where the supply of new houses outstripped demand for them, and house prices
began to fall. Those who had taken out mortgages became less wealthy, since they owned a house whilst it decreased in value, but still owed the same mortgage repayments. In addition, the variable rate mortgages
began to require higher repayments, with the result that many individuals (particularly in the U.S.) defaulted and lost their homes. This, in turn, increased the supply of empty houses, and further lowered house
prices.
</p>

<p>
The mortgages (and the houses that became owned by banks when defaults occurred) were now worth much less. Some investment banks and other financial institutions simply ran out of money and collapsed. At
this point, another unfortunate (and not foreseen) part of financial system came to light. Major investment banks had sold and re-sold large volumes of financial derivatives <i>to each other</i>, but there was no
global register of who owed what to whom. Consequently, no-one knew which institution was most at risk of collapsing next, and no institution knew exactly which of its own investments were at risk of not being
repaid. Worse, perhaps the collapse of a single large institution would result in enough unpaid debts that a chain of other institutions would be bought down with it.
</p>

<p>
The result was a situation where banks were very reluctant to lend, to anyone, including each other. This resulted in less investment in businesses, which as we have already commented, hurts the wider economy.
Moreover, since lending is the major source of income for banks, a lack of lending results in all banks becoming weaker – and the cycle continues. Worse still, the divide between investment banks and commercial
banks had gradually eroded: some of the institutions at risk of collapse were (also) high street banks, who hold the savings of the general public and operate ATMs. This situation, which occurred during 2008, seems
good reason for the term ‘the financial crisis’.
</p>
<!--
......   subsubsection Outcomes ......
-->
<h6 id="autosec-197">Outcomes</h6>
<a id="notes_2-autopage-197"></a>



<p>
The possibility of the general public losing savings, along with wider effects on the economy, resulted in governments and central banks stepping in. Broadly speaking, they choose to provide loans and investment
(using public money), to support financial institutions that were at risk of collapse and were also important to the public and the wider economy. Not all institutions were offered protection. We won’t discuss the
details of how these arrangements worked. In many countries, the amount of cash that was used to prop up failing financial institutions led to a very substantial deterioration in the state of public finances.
</p>

<p>
The impacts on the U.S.&nbsp;economy were huge. In the U.S.&nbsp;the S&amp;P 500 lost around 45% of its value during 2008. The total value of houses within the U.S.&nbsp;dropped from \(\$ 13\)
trillion<sup>1</sup> in 2006 to less than \(\$9\) trillion at the end of 2008. Total savings and investments owned by the general public, including retirement savings, dropped by around \(\$8.3\) trillion
(approximately \(\$27,000\) <i>per person</i>, around \(25\%\) of an average persons savings).
</p>

<p>
Although the effects of the housing boom, and the housing boom itself, were greatest in the U.S., similar situations had occurred to varying extents in European countries. Coupled with the globally linked nature of
the economy, and the fact that most major financial institutions now operate internationally, the financial crisis quickly spread to affect most of the developed world. A decrease in the amount of global trade
resulted, along with a prolonged reduction in economic growth (which is still present today).
</p>

<p>
The process of changing the regulatory environment, in response to the financial crisis, is still ongoing. Broadly speaking, there is a move to involve <i>macroprudential</i> measures, which means considering the
state of the financial system as a whole, instead of focusing in isolation only on the health of individual institutions. Mathematicians involved in this effort often argue that greater volumes of data on market activity
should be collected and made public.
</p>
<div role="note" class="footnotes">

<a id="notes_2-autopage-198"></a>

<p>
<sup>1</sup>&nbsp;\(\$1\) trillion \(=\$1,000,000,000,000\).
</p>



</div>
<!--
......   subsubsection The role of financial derivatives ......
-->
<h6 id="autosec-199">The role of financial derivatives</h6>
<a id="notes_2-autopage-199"></a>



<p>
As we can see from this story, many different parties are involved and most of them can reasonably be attributed with a share of the blame. From our point of view, perhaps the most interesting aspect is that (with
hindsight) it is clear that financial derivatives that were built on sub-prime mortgages were, prior to 2008, being priced incorrectly. These prices were typically computed by traders using variants and extensions of
the Black-Scholes model.
</p>

<p>
The over-use of <i>collateralized debt obligations</i> (CDOs) is often cited as a practice that contributed greatly the financial crisis. CDOs are financial derivatives in which many different loans of varying quality
are packaged together, and the holders of the CDO receive the repayments on the loans. Typically, not all loans are repaid and the CDO contract specifies that some of its holders are paid in preference to others.
</p>

<p>
Participation in a CDO is worth something and is therefore a tradeable asset. However, the underlying loans became packaged, bought, sold, divided, renamed, and repackaged, to such an extent that CDOs became
highly complicated products in which the level of risk could not be known accurately. Moreover, packaging assets together in multi-party contracts increased the extent to which financial institutions became
dependent on each other. Both these factors were not adequately captured by pricing models.
</p>

<p>
Another factor was <i>credit default swaps</i> (CDSs) in which an investor (typically an insurance company) would be paid an up-front sum, in cash, in return for promising to pay off the value of a loan in the
case of a default. There was little regulation of this practice. Some institutions took on large volumes of mortgage CDSs and, in the short term, earned cash from doing so. Later, when mortgages defaulted, most
were unable to cover their costs.
</p>

<p>
At the heart of the problem with CDSs was a widespread belief (before 2007) that the price of CDSs were correlated with the price of the underlying mortgages. This belief was realized through a pricing model
known as the <i>Gaussian copula</i> formula, which became widely (and successfully) used during 2000-07. The intention of the model was to capture and predict correlations within the movements of prices of
different assets. However, the shortcomings of the model were poorly understood and, in particular, it turned out to fail in the market conditions that emerged during 2007 when house prices dropped sharply.
</p>
<!--
......    subsubsection Further reading ......
-->
<h6 id="autosec-200">Further reading</h6>
<a id="notes_2-autopage-200"></a>



<p>
I recommend <i>The End of Alchemy: Money, Banking, and the Future of the Global Economy</i>, published in 2017 and written by Mervyn King, who was governor of the Bank of England from 2003 to 2013.
</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Financial-networks.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Financial networks </title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-201"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     chapter Financial networks      ......
-->
<h3 id="autosec-202">Chapter&nbsp;<span class="sectionnumber">19&#x2003;</span>Financial networks \((\Delta )\)</h3>
<a id="notes_2-autopage-202"></a>
<a id="notes_2-autofile-36"></a>

<a id="c:fin_net"></a>

<p>
Following the financial crisis of 2007/08, both regulators and banks have become more interested in viewing the financial system as a connected whole – as opposed to viewing it as a collection of isolated institutions.
With this new perspective, one aspect that commands special attention is <i>debt contagion</i>.
</p>

<p>
Debt contagion refers to the following scenario. Consider a connected network of banks who lend to each other. Suppose that one of these institutions, call it bank A, suddenly fails (i.e.&nbsp;goes bankrupt) and is
then unable to pay its debts. In doing so, A harms its neighbours (i.e.&nbsp;banks who lent to A). Some of the neighbours of A may then also fail, and be unable to pay their own debts, harming their own
neighbours – and so on. This process is usually known as a <i>cascade</i>. Potentially, the end result could be that a large fraction of the whole network fails.
</p>

<p>
As we discussed in Chapter <a href="The-financial-crisis-2007-8.html#c:2008">18</a>, it is known that the global financial system was at risk of precisely this scenario during parts of the financial crisis of
2008. Since then, there has been effort within the mathematical finance research community to provide models that describe when, and precisely how, such a risk is felt. In this section we give a brief introduction to
one of the first (and consequently, simplest) models that was developed, followed by a discussion of how it was later extended.
</p>
<!--
......   section Graphs and random graphs        ......
-->
<h4 id="autosec-203"><span class="sectionnumber">19.1&#x2003;</span>Graphs and random graphs \((\Delta )\)</h4>
<a id="notes_2-autopage-203"></a>



<a id="s:graphs"></a>

<p>
A network is a set of nodes, some of which are connected together by edges. For example,
</p>
<div class="center">

<p>


<a href="graph.jpg" target="_blank" ><img
      src="graph.jpg"
      style="
      width:95pt;
      "
      class="inlineimage"
      alt="(An example of a graph)"
></a>
</p>
</div>

<p>
Here, the nodes are \(A,B,C,D,E\). The terms <i>graph</i> and <i>network</i> are usually used interchangeably. The terms <i>vertex</i> and <i>node</i> are also used interchangeably. We’ll use all these
terms.
</p>

<p>
We will always be interested in the <i>directed</i> case, in which each edge has a direction. In the graph above this direction is signified by the direction of the arrows. The node at the start of an edge is called the
head (of the edge) and the node at the end of the edge is called the tail (of the edge).
</p>
<div class="center">

<p>


<a href="graph_edge.jpg" target="_blank" ><img
      src="graph_edge.jpg"
      style="
      width:95pt;
      "
      class="inlineimage"
      alt="(An example of a undirected graph edge)"
></a>
</p>
</div>

<p>
We write \(\indeg (i)\) for the number of edges that have node \(i\) as their head, and we call each such edge an <i>in-edge</i> of \(i\). We write \(\outdeg (i)\) for the number of edges that have \(i\) as
their tail, and we call each such edge an <i>out-edge</i> of \(i\). It’s common to imagine each edge as split in half, with an ‘in’ part and an ‘out’ part
</p>
<div class="center">

<p>


<a href="graph_edge_in_out.jpg" target="_blank" ><img
      src="graph_edge_in_out.jpg"
      style="
      width:130pt;
      "
      class="inlineimage"
      alt="(An example of a directed graph edge)"
></a>
</p>
</div>

<p>
We write an edge as \((\text {tail},\text {head})\). So the edge of the graph above are \((C,A)\), \((B,C)\), \((C,E)\), \((E,D)\) and \((D,C)\).
</p>

<p>
Formally, a graph is a pair \(G=(V,E)\) where \(V\) is the set of vertices and \(E\) is a set of ordered pairs of vertices. Each element of \(E\) has the form \((v_1,v_2)\), where \(v_1,v_2\in V\), and denotes an
edge with source \(v_1\) and sink \(v_2\). In this notation, our graph is
</p>

<p>
\[G=(V,E)\text { where }V=\{A,B,C,D,E\}\text { and }E=\{(C,A), (B,C), (C,E), (E,D), (D,C)\}.\]
</p>

<p>
Given a graph \(G=(V,E)\), the <i>degree distribution</i> of \(G\) is the distribution of the random variable
</p>

<span class="hidden"> \(\seteqnumber{0}{19.}{0}\)</span>

<!--



                                                             DG = (degin (v), degout (v)),                                                      (19.1)                         --><a id="eq:deg_dist"></a><!--

-->

<p>


\begin{equation}
\label {eq:deg_dist} D_G=(\indeg (v),\outdeg (v)),
\end{equation}


</p>

<p>
where \(v\) is a node sampled uniformly at random from \(V\). In words, \(D_G\) is the (bivariate) random variable who’s distribution matches the frequencies of in/out degrees present in nodes of \(G\). For
example, for the graph above we have \(5\) nodes and
</p>

<p>
\[ \begin {alignedat}{2} \P [D_G=(1,0)]&amp;=\frac 15\hspace {5pc}&amp;&amp;\text {(node $A$)}\\ \P [D_G=(0,1)]&amp;=\frac 15&amp;&amp;\text {(node $B$)}\\ \P
[D_G=(2,2)]&amp;=\frac 15&amp;&amp;\text {(node $C$)}\\ \P [D_G=(1,1)]&amp;=\frac 25&amp;&amp;\text {(nodes $D$ and $E$)}\\ \end {alignedat} \]
</p>

<p>
A <i>random graph</i> is, as you might expect, a graph where the sets of edges and vertices are both randomly sampled. We’ll come back to thinking about random graphs in Section <a
href="Approximating-contagion-Galton-Watson-process.html#s:gw_approx">19.3</a>. A graph is said to be a <i>tree</i> if, between any pair \(A,B\) of vertices, there is precisely one path along edges
(travelling in the direction they point) that gets from \(A\) to \(B\). It is perhaps clearest from a picture:
</p>
<div class="center">

<p>


<a href="graphs_trees.jpg" target="_blank" ><img
      src="graphs_trees.jpg"
      style="
      width:238pt;
      "
      class="inlineimage"
      alt="(Various examples of graphs)"
></a>
</p>
</div>

<p>
Graph 1 is not a tree: for example, to get from \(A\) to \(A\) we can take the paths \(ABDCA\) and \(ABDCABDCA\). Graph 2 is a tree, because for any pair of vertices there is only one way to get between them.
Graph 3 is not a tree: for example to get from \(A\) to \(D\) we can take the paths \(ABD\) and \(ACD\).
</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|The-Gai-Kapadia-model-debt-contagion.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — The Gai-Kapadia model of debt contagion </title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-208"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section The Gai-Kapadia model of debt contagion            ......
-->
<h4 id="autosec-209"><span class="sectionnumber">19.2&#x2003;</span>The Gai-Kapadia model of debt contagion \((\Delta )\)</h4>
<a id="notes_2-autopage-209"></a>
<a id="notes_2-autofile-37"></a> <a id="s:gaikap"></a>

<p>
Fix \(n\in \N \) and take a graph \(G=(V,E)\). Think of each vertex \(a\in V\) as a bank, and think of each edge \((a,b)\in E\) as saying that bank \(a\) has been loaned money by bank \(b\).
</p>

<p>
Each loan has two possible states: healthy, or defaulted. Each bank has two possible states: healthy, or failed. Initially, all banks are assumed to be healthy, and all loans between all banks are assumed to be healthy.
</p>

<p>
We’ll make the following key assumption, that there are numbers \(\eta _j\in [0,1]\) (known as contagion probabilities) such that:
</p>
<ul style="list-style-type:none">


<li>
<p>
\((\dagger )\) For any bank \(a\), with in-degree \(j\) if, at any point, \(a\) is healthy and one of the loans owed to \(a\) becomes defaulted, then with probability \(\eta _j\) the bank \(a\) fails. All loans
owed by bank \(a\) become defaulted.
</p>
</li>
</ul>

<p>
Note that that banks who are owed a large number of loans (i.e.&nbsp;for which \(\indeg (a)\) is large) are less likely to fail when any <i>single</i> one of these loans becomes defaulted. We’ll discuss how
realistic this assumption is in Section <a href="Modelling-discussion-on-financial-networks.html#s:cont_modelling_discussion">19.4</a>.
</p>

<p>
The way the model works is as follows. To begin, a single bank is chosen uniformly at random; this bank fails and defaults on all of its loans. Because of \((\dagger )\) this (potentially) causes some other banks to
default on their own loans, which in turn causes further defaults. We track the ‘cascade’ of defaults, as follows.
</p>

<p>
The set of loans which default at step \(t=0,1,2,\ldots ,\) of the cascade will be denoted by \(L_t\).
</p>
<ul style="list-style-type:none">


<li>
<p>
• On step \(t=0\), we pick a single bank \(a\) uniformly at random from \(V=\{1,\ldots ,n\}\). This banks fails, and all defaults on all of its loans: we set \(D_0\) to be the set of out-edges of \(a\).
</p>
</li>
<li>


<p>
• Then, iteratively, for \(t=1,2,\ldots \), we construct \(L_t\) as follows.
</p>
<p>
For each \((b,c)\in L_{t-1}\), we apply \((\dagger )\) to \(c\). That is, if \(c\) is healthy then \(c\) fails with probability \(\eta _{\indeg (c)}\). If this causes \(c\) to fail, then we include all out-edges
of \(c\) into \(L_t\).
</p>
</li>
</ul>

<p>
Eventually, because there are only finitely many edges in the graph, we reach a point at which \(L_t\) is empty. From then on, \(L_{t+1},L_{t+2}\) are also empty. Then, the set of loans which were defaulted on
during the cascade is
</p>

<span class="hidden"> \(\seteqnumber{0}{19.}{1}\)</span>

<!--


                                                                          ∞
                                                                    L =                                                                             (19.2)
                                                                          [
                                                                                Lt .                                                                                               --><a id="eq:L_cascade"></a><!--
                                                                          i=1

-->

<p>


\begin{equation}
\label {eq:L_cascade} \mathscr {L}=\bigcup \limits _{i=1}^\infty L_t.
\end{equation}


</p>

<p>
We’ll be interested in working out how big the set \(\mathscr {L}\) is. That is, we are interested to know how many loans become defaulted once cascade finishes.
</p>
<div class="theorembodyremark">

<ul style="list-style-type:none">



<a id="autoid-151"></a>
<li>
<p>
<span class="theoremheaderplain">Remark 19.2.1</span> <a id="autoid-152" ></a >In reality, the main object of interest is how many banks fail during the cascade. This is closely connected to how many
loans default but, for simplicity, we choose to focus on loans.
</p>


</li>

</ul>

</div>

<p>
A summary of this model appears on the formula sheet, see Appendix <a href="Formula-sheet-part-two.html#s:formula_sheet_2">E</a>. We refer to it as the <i>Gai-Kapadia model (of debt contagion)</i>.
The parameters \(\eta _j\) are known as the <i>contagion probabilities</i>.
</p>

<p>
We’ll now look at an example of the steps the cascade could take, on the graph we used as an example in Section <a href="Financial-networks.html#s:graphs">19.1</a>. We’ll mark defaulted/failed
edges/nodes as red and take \(\eta _j=\frac 1j\). Initially, let us say that node \(B\) fails and defaults on the loan it owes to \(C\):
</p>
<div class="center">

<p>


<a href="graph_cascade_1.jpg" target="_blank" ><img
      src="graph_cascade_1.jpg"
      style="
      width:87pt;
      "
      class="inlineimage"
      alt="(The first stage of the cascade)"
></a>
</p>
</div>

<p>
Since \(C\) has two in-edges, and \(\eta _2=\frac 12\), \(C\) has a probability \(\frac 12\) of failing as a result of this default. So - we toss a coin and lets say that we discover that \(C\) does fail. Then \(C\)
also defaults on all its loans:
</p>
<div class="center">

<p>


<a href="graph_cascade_2.jpg" target="_blank" ><img
      src="graph_cascade_2.jpg"
      style="
      width:87pt;
      "
      class="inlineimage"
      alt="(The second stage of the cascade)"
></a>
</p>
</div>

<p>
Now, both \(E\) and \(A\) have only a single in-edge. Since \(\eta _1=1\) this makes them certain to fail when their single debtor defaults. Similarly, \(D\) also fails. So the final result is that the whole graph is
defaulted.
</p>
<div class="center">

<p>


<a href="graph_cascade_3.jpg" target="_blank" ><img
      src="graph_cascade_3.jpg"
      style="
      width:87pt;
      "
      class="inlineimage"
      alt="(The third stage of the cascade)"
></a>
</p>
</div>

<p>
Of course, it didn’t have to be this way. If our coin toss had gone the other way and \(C\) had not failed, the cascade would have finished after its first step and the final graph would simply look like
</p>
<div class="center">

<p>


<a href="graph_cascade_1.jpg" target="_blank" ><img
      src="graph_cascade_1.jpg"
      style="
      width:87pt;
      "
      class="inlineimage"
      alt="(The first stage of the cascade)"
></a>
</p>
</div>

<p>
So we obtain that these two outcomes are both possible, each with probability \(\frac 12\). Of course, in a bigger graph, the range of possible outcomes can be very large.
</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Approximating-contagion-Galton-Watson-process.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Approximating contagion by a Galton-Watson process </title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-215"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section Approximating contagion by a Galton-Watson process                   ......
-->
<h4 id="autosec-216"><span class="sectionnumber">19.3&#x2003;</span>Approximating contagion by a Galton-Watson process \((\Delta )\)</h4>
<a id="notes_2-autopage-216"></a>
<a id="notes_2-autofile-38"></a> <a id="s:gw_approx"></a>

<p>
Consider the debt contagion model from the previous section. We are interested to discover more about the quantity \(\mathscr {L}\) defined in <span class="textup">(<a
href="The-Gai-Kapadia-model-debt-contagion.html#eq:L_cascade">19.2</a>)</span>.
</p>

<p>
We need to specify which graph \(G\) we are using for the banking network. In fact, what we’ll do is use some approximations. Firstly, we think of the cascade defined in Section <a
href="The-Gai-Kapadia-model-debt-contagion.html#s:gaikap">19.2</a> as exploring, edge by edge, a large <i>random</i> graph \(G\). Recall the degree distribution \(D_G\), defined in <span
class="textup">(<a href="Financial-networks.html#eq:deg_dist">19.1</a>)</span>.
</p>
<ul style="list-style-type:none">


<li>
<p>
1. We’ll imagine that our cascade explores a (large) random graph \(G\). As we move through the graph, we map out the effects of the defaults.
</p>
</li>
</ul>

<p>
In reality, to evaluate the cascade we would need to keep track of which nodes and edges we’ve already visited, but this makes our model too complicated. To make our calculations simpler:
</p>
<ul style="list-style-type:none">


<li>
<p>
2. We’ll assume that each time we add a new out-edge into \(L_t\), its associated in-edge is attached to a previously unseen node.
</p>
</li>
</ul>

<p>
Each time we move along a defaulted edge into previously unseen node, we do not (by assumption!) encounter any of the nodes/edges previously involved in the cascade. So, following any given defaulted edge
results in a random number \(G\) of new defaulted edges, independently of all else. This provides an important property: <i>the number of loans \(Z_n\) that are marked defaulted at each stage of the cascade is a
Galton-Watson process</i>.
</p>

<p>
This assumption we’ve just made is an approximation – we are essentially approximating \(G\) with a randomly sampled tree. We need to be precise about how the sampling is done. At the same time, from Section
<a href="A-branching-process.html#s:gw">4.3</a> it is clear that we are most interested in knowing the expectation of the offspring distribution of the Galton-Watson process. In other words, we want to
know, when we follow an edge of the cascade, the expected number of new edges that become added into the cascade.
</p>

<p>
Consider what would happen if we sampled an edge, uniformly at random from \(G\), and moved along it. We use this as our approximation for what is found when we follow a defaulted edge. Where do we end up?
Given a node \(v\in G\), the number of in-edges of this node is \(\indeg v\). Sampling a random edge is equivalent to sampling a random in-edge, so the chance that we end up at a given node \(v\) is
</p>

<p>
\[\frac {\indeg (v)}{\sum \limits _{u\in V}\indeg (u)}.\]
</p>

<p>
The chance that this node fails as a result of our discovering it in our cascade (i.e.&nbsp;one of its in-edges defaults) is \(\eta _j\), where \(j=\deg _{in}(v)\). So the chance that we end up in \(v\) <i>and</i>
that \(v\) is defaulted is
</p>

<p>
\[\frac {\indeg (v)\eta _{\indeg (v)}}{\sum \limits _{u\in V}\indeg (u)}.\]
</p>

<p>
When this case occurs, all out-edges of \(v\) will become defaulted, which adds \(\deg _{out}(v)\) new defaulted edges to our cascade. Hence, the expected number of newly defaulted edges that we discover in
our cascade is
</p>

<span class="hidden"> \(\seteqnumber{0}{19.}{2}\)</span>

<!--


                                                                               degin (v)ηdegin (v)
                                                                  degout (v)                                                                           (19.3)
                                                            X
                                                                                                   .                                                                                   --><a id="eq:argh"></a><!--
                                                                                      degin (u)
                                                                                 P
                                                            v∈V
                                                                                 u∈V

-->

<p>


\begin{equation}
\label {eq:argh} \sum \limits _{v\in V}\outdeg (v)\frac {\indeg (v)\eta _{\indeg (v)}}{\sum \limits _{u\in V}\indeg (u)}.
\end{equation}


</p>

<p>
Let us write \(|V|\) for the number of nodes in the graph and \(|E|\) for the number of edges. Note that
</p>

<p>
\[|E|=\sum \limits _{u\in V}\indeg (u)=\sum \limits _{u\in V}\outdeg (u).\]
</p>

<p>
Also, let us write \(p_{j,k}=\P [D_G=(j,k)]\). By definition of \(D_G\), the number of nodes with degree \((j,k)\) is \(|V|p_{j,k}\). Therefore, \(\sum _{v\in V}(\ldots )\) is the same operation as \(\sum
_{j,k=0}^\infty |V|p_{j,k}(\ldots )\), where \((j,k)\) represents the degree of node \(v\in V\), and so we have
</p>
<span class="hidden"> \(\seteqnumber{0}{19.}{3}\)</span>



<!--


                                                                                                                  ∞
                                                                                                                                     jkηj
                                                                                                       (19.3) =
                                                                                                                  X
                                                                                                                          |V |pj,k
                                                                                                                  j,k=0
                                                                                                                                      |E|
                                                                                                                        ∞
                                                                                                                  |V | X
                                                                                                             =              jkpj,k ηj .       (19.4)                         --><a id="eq:gw_mean_gk"></a><!--
                                                                                                                  |E| j,k=0



-->



<p>
\begin{align}
\eqref {eq:argh} &amp;=\sum \limits _{j,k=0}^\infty |V|p_{j,k}\frac {jk\eta _j}{|E|}\notag \\ &amp;=\frac {|V|}{|E|}\sum \limits _{j,k=0}^\infty jkp_{j,k}\eta _j.\label
{eq:gw_mean_gk}
\end{align}
This is the expected number of newly defaulted loans that result from any given defaulted loans. If this quantity is strictly greater than one, then our Galton-Watson process has positive probability of tending to
\(\infty \) – meaning that our cascade of defaults can grow infinitely large. If not, then our Galton-Waton process only ever contains finitely many defaulted loans. Therefore, our (approximate) analysis suggests
that we could use the value of <span class="textup">(<a href="Approximating-contagion-Galton-Watson-process.html#eq:gw_mean_gk">19.4</a>)</span> as a criteria for how resilient our financial
network is to debt contagion.
</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Modelling-discussion-on-financial-networks.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Modelling discussion on financial networks </title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-218"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section Modelling discussion on financial networks             ......
-->
<h4 id="autosec-219"><span class="sectionnumber">19.4&#x2003;</span>Modelling discussion on financial networks \((\Delta )\)</h4>
<a id="notes_2-autopage-219"></a>
<a id="notes_2-autofile-39"></a> <a id="s:cont_modelling_discussion"></a>

<p>
The analysis in Section <a href="Approximating-contagion-Galton-Watson-process.html#s:gw_approx">19.3</a> was essentially suggested in 2010 by Gai and Kapadia<sup>1</sup>. It was one of the
earliest attempts at modelling debt contagion, and was published shortly after the financial crisis of 2008.
</p>

<p>
Typically, in the world of stochastic modelling, the first models of any new phenomenon are both simple and inaccurate; they provide a starting point for extension and refinement. With this in mind, let us discuss
the shortcomings of the analysis in Section <a href="Approximating-contagion-Galton-Watson-process.html#s:gw_approx">19.3</a>, and what might (and, in some cases, has) be done to improve it.
</p>

<ul style="list-style-type:none">


<li>
<p>
• The assumption \((\dagger )\) claims that a bank is equally dependent on each of its creditors. In practice, some loans are bigger than others, and some banks are better able to absorb defaults than others. For
example, if it was the case that larger loans tended to be between larger (and, consequently, more strongly connected) banks, the model would not capture the effect.
</p>
<p>
To correct this we’d want to understand the correlations between the size of a banks own balance sheet and the number of creditors/debtors it is connected too.
</p>
</li>
<li>


<p>
• The approximation used to turn the cascade into a Galton-Watson process results in us only ever visiting each bank once. This means that, in our approximation, each bank only ever sees <i>one</i> of its
creditors default. As a result, we ignore the possibility that, once one of bank \(A\)s creditors defaults it becomes very likely that other creditors of \(A\) will also default.
</p>
<p>
For example, the real banking network could contain a core of strongly connected large banks all of whom lend large amounts to each other – and the effect of contagion essentially depends on how much it injures
this central network. (In fact, in several cases where data on banking networks is available, this is now believed to be the case.)
</p>
</li>
</ul>

<p>
One obvious question to ask is ‘why not simply take the values from the real network and simulate a cascade of debt contagion on it?’. This does get done to some extent, with more complex models, but it is far
from a complete answer to the problem. Regulators are interested in how you can modify the network (i.e.&nbsp;restructure the graph or change the rules) to become more resilient, and this demands a deeper
understanding of the problem than simulations can typically provide. Also, simply running simulations and trusting them is very exposed to the shortcomings of the model, which itself may work well in some
situations and badly in others. In practice, simulations and theoretical study are combined to provide insight into how resilient banking networks are.
</p>

<p>
Similar (but not identical) methodology is used to model the spread of disease, the vulnerability of computer networks to hacking attacks, the propagation of news across social networks, and many other scenarios.
</p>
<div role="note" class="footnotes">

<a id="notes_2-autopage-220"></a>

<p>
<sup>1</sup>&nbsp;Gai and Kapadia (2010), Contagion in financial networks, <i>Bank of England working paper</i>, Number 383.
</p>



</div>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Exercises-on-Chapter-ref-c-fin_net.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Exercises on Chapter <a href=Financial-networks.html#c:fin_net>19</a> </title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-221"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     section Exercises on Chapter <a href=Financial-networks.html#c:fin_net>19</a>       ......
-->
<h4 id="autosec-222"><span class="sectionnumber">19.5&#x2003;</span>Exercises on Chapter <a href="Financial-networks.html#c:fin_net">19</a> \((\Delta )\)</h4>
<a id="notes_2-autopage-222"></a>
<a id="notes_2-autofile-40"></a>
<!--
......   subsection On random graphs and debt contagion ......
-->
<h5 id="autosec-223">On random graphs and debt contagion</h5>
<a id="notes_2-autopage-223"></a>



<ul style="list-style-type:none">


<li>
<p>
<b>19.1</b> <a id="ps:DG"></a> Consider the following graph \(G\). Write down the distribution of \(D_G\).
</p>
<div class="center">
<p>


<a href="graph_DG.jpg" target="_blank" ><img
      src="graph_DG.jpg"
      style="
      width:130pt;
      "
      class="inlineimage"
      alt="(A graph)"
></a>
</p>
</div>
<p>
If we sample a uniformly random edge, and position ourselves at the head of this edge, what is the distribution of the out-degree \(O\) of the (random) node that we end up at?
</p>
</li>
<li>


<p>
<b>19.2</b> <a id="ps:contagion_tree"></a> Consider the following graph, as a banking network in the Gai-Kapadia model (as described in Section <a
href="The-Gai-Kapadia-model-debt-contagion.html#s:gaikap">19.2</a>).
</p>
<div class="center">
<p>


<a href="graph_tree_contagion.jpg" target="_blank" ><img
      src="graph_tree_contagion.jpg"
      style="
      width:130pt;
      "
      class="inlineimage"
      alt="(A graph)"
></a>
</p>
</div>
<p>
Let the contagion probabilities be \(\eta _j=\frac 1j\). Suppose that the bank marked \(X\) fails. What is the probability that the bank marked \(Y\) also fails?
</p>
</li>
<li>


<p>
<b>19.3</b> <a id="ps:contagion_circle"></a> Consider the following graph, as a banking network in the Gai-Kapadia model.
</p>
<div class="center">
<p>


<a href="graph_circle_contagion.jpg" target="_blank" ><img
      src="graph_circle_contagion.jpg"
      style="
      width:130pt;
      "
      class="inlineimage"
      alt="(A graph)"
></a>
</p>
</div>
<p>
Let the contagion probabilities be \(\eta _j=\frac 1j\). Suppose that the bank marked \(X\) fails. What is the probability that the bank marked \(Y\) fails?
</p>
</li>
<li>


<p>
<b>19.4</b> <a id="ps:contagion_binary_tree"></a> Consider the following graph (known as a binary tree) as a banking network in the Gai-Kapadia model.
</p>
<div class="center">
<p>


<a href="graph_binom.jpg" target="_blank" ><img
      src="graph_binom.jpg"
      style="
      width:173pt;
      "
      class="inlineimage"
      alt="(A binary tree)"
></a>
</p>
</div>
<p>
This graph is a tree, with infinitely many nodes, in which every node except for \(v_0\) has one in-edge and two out-edges.
</p>
<p>
Let the contagion probabilities be \(\eta _j=\alpha \), where \(\alpha \in (0,1)\) is constant. Suppose that the bank marked \(V_0\) fails. Explain how the cascade of defaults that results can be represented
as a Galton-Watson process.
</p>
<p>
We say that a ‘catastrophic default’ occurs if an infinite number of banks fail. Under what condition on \(\alpha \) does this event have positive probability?
</p>
</li>
<li>


<p>
<b>19.5</b> <a id="ps:contagion_tangled"></a> Consider the following graph, as a banking network in the Gai-Kapadia model.
</p>
<div class="center">
<p>


<a href="graph_cascade_4.jpg" target="_blank" ><img
      src="graph_cascade_4.jpg"
      style="
      width:173pt;
      "
      class="inlineimage"
      alt="(A graph)"
></a>
</p>
</div>
<p>
Let the contagion probabilities be \(\eta _j=\frac {1}{1+j}\). Suppose that the bank marked \(A\) fails.
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> What is the probability that every bank within the graph fails?
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> What is the probability that the bank marked \(F\) fails?
</p>
</li>
</ul>
</li>
</ul>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Solutions-exercises-part-two.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Solutions to exercises (part two)</title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-229"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     chapter Solutions to exercises (part two) ......
-->
<h3 id="autosec-230">Chapter&nbsp;<span class="sectionnumber">C&#x2003;</span>Solutions to exercises (part two)</h3>
<a id="notes_2-autopage-230"></a>
<a id="notes_2-autofile-41"></a>

<a id="sec:solutions_2"></a>
<!--
......    subsection Chapter <a href=Brownian-motion.html#c:bm>11</a> ......
-->
<h5 id="autosec-231">Chapter <a href="Brownian-motion.html#c:bm">11</a></h5>
<a id="notes_2-autopage-231"></a>



<ul style="list-style-type:none">


<li>
<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#ps:lin_bm"><b>11.1</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> We have \(C_t=\mu t+\sigma B_t\). Hence,
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{0}\)</span>


<!--



                                                                              E[Ct ] = E[µt + σBt ] = µt + σE[Bt ] = µt

                                                                            E[Ct2 ] = E[µ2 tt + 2tµσBt + σ 2 Bt2 ] = µ2 t2 + 2tµσ(0) + σ 2 t = µ2 t2 + σ 2 t

                                                                          var(Ct ) = E[Ct2 ] − E[Ct ]2 = σ 2 t.



-->


<p>


\begin{align*}
\E [C_t]&amp;=\E [\mu t + \sigma B_t]=\mu t+\sigma \E [B_t]=\mu t\\ \E [C_t^2]&amp;=\E [\mu ^2t^t+2t\mu \sigma B_t+\sigma ^2 B_t^2]=\mu ^2t^2+2t\mu \sigma (0)+\sigma ^2t=\mu
^2t^2+\sigma ^2t\\ \var (C_t)&amp;=\E [C_t^2]-\E [C_t]^2=\sigma ^2 t.
\end{align*}
where we use that \(\E [B_t]=0\) and \(\E [B_t^2]=t\).
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> We have
</p>
<p>
\[C_t-C_u=\mu t+ \sigma B_t-\mu u-\sigma B_u=\mu (t-u)+\sigma (B_t-B_u)\sim \mu (t-u)+\sigma N(0,t-u)\]
</p>
<p>
where, in the final step, we use the definition of Brownian motion. Then, by the scaling properties normal random variables we have \(C_t-C_u\sim N(\mu (t-u), \sigma ^2(t-u))\).
</p>


</li>
<li>


<p>
<span class="textnormal">(c)</span> Yes. By definition, Brownian motion \(B_t\) is a continuous stochastic process, meaning that the probability that \(B_t\) is a continuous function is one. Since \(t\mapsto
\mu t\) is a continuous function, we have that \(\mu t+\sigma B_t\) is a continuous function with probability one; that is, \(B_t\) is a continuous stochastic process.
</p>


</li>
<li>


<p>
<span class="textnormal">(d)</span> We have \(\E [C_t]=\mu t\), but Brownian motion has expectation zero, so \(C_t\) is not a Brownian motion.
</p>
</li>
</ul>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#ps:bm_covar"><b>11.2</b></a> We have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{0}\)</span>


<!--



                                                                                                    cov(Bu , Bt ) = E[Bt Bu ] − E[Bt ]E[Bu ]

                                                                                                                               = E[Bt Bu ]

                                                                                                                               = E[(Bt − Bu )Bu ] + E[Bu2 ]

                                                                                                                               = E[Bt − Bu ]E[Bu ] + E[Bu2 ]

                                                                                                                               =0×0+u

                                                                                                                               =u



-->


<p>


\begin{align*}
\cov (B_u,B_t)&amp;=\E [B_tB_u]-\E [B_t]\E [B_u]\\ &amp;=\E [B_tB_u]\\ &amp;=\E [(B_t-B_u)B_u]+\E [B_u^2]\\ &amp;=\E [B_t-B_u]\E [B_u]+\E [B_u^2]\\ &amp;=0\times 0 +u\\ &amp;=u
\end{align*}
Here, to deduce the fourth line, we use the second property in Theorem <a href="Brownian-motion-definition.html#t:bm_exist">11.2.1</a>, which tells us that \(B_t-B_u\) and \(B_u\) are independent.
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#ps:bm_cond_exp"><b>11.3</b></a> When \(u\leq t\) the martingale property of Brownian motion (Lemma <a
href="Properties-Brownian-motion.html#l:bm_mart">11.4.3</a>) implies that \(\E [B_t\|\mc {F}_u]=B_u\). When \(t\leq u\) we have \(B_t\in \mc {F}_u\) so by taking out what is known we have \(\E
[B_t\|\mc {F}_u]=B_t\). Combing the two cases, for all \(u\geq 0\) and \(t\geq 0\) we have \(\E [B_t\|\mc {F}_u]=B_{\min (u,t)}\).
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#ps:bm_moments"><b>11.4</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> We’ll use the pdf of the normal distribution to write \(\E [B_t^n]\) as an integral. Then, integrating by parts (note that \(\frac {d}{dz}e^{-\frac {z^2}{2t}}=\frac
{-z}{t}e^{-\frac {z^2}{2t}}\)) we have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{0}\)</span>


<!--


                                                                                           1     ∞   Z
                                                                                                           z2
                                                                            E[Btn ]     =√          z n e− 2t dz
                                                                                           2πt −∞
                                                                                           1
                                                                                               Z ∞               −z z2 
                                                                                        =√            −tz  n−1
                                                                                                                       e− 2t dz
                                                                                           2πt −∞                    t
                                                                                              1                             1
                                                                                                              ∞              Z ∞
                                                                                                            z2                                       z2
                                                                                        = −√     tz n−1 e− 2t          +√          t(n − 1)z n−2 te− 2t dz
                                                                                             2πt                z=−∞        2πt −∞
                                                                                        = 0 + t(n − 1)E[Btn−2 ].



-->


<p>


\begin{align*}
\E [B_t^n] &amp;=\frac {1}{\sqrt {2\pi t}}\int _{-\infty }^\infty z^n e^{-\frac {z^2}{2t}}\,dz\\ &amp;=\frac {1}{\sqrt {2\pi t}}\int _{-\infty }^\infty \l (-t z^{n-1}\r )\l
(\frac {-z}{t} e^{-\frac {z^2}{2t}}\r )\,dz\\ &amp;=\l [-\frac {1}{\sqrt {2\pi t}}tz^{n-1}e^{-\frac {z^2}{2t}}\r ]_{z=-\infty }^\infty +\frac {1}{\sqrt {2\pi t}}\int _{-\infty
}^\infty t(n-1)z^{n-2}t e^{-\frac {z^2}{2t}}\,dz\\ &amp;=0+t(n-1)\E [B_t^{n-2}].
\end{align*}


</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> We use the formula we deduced in part (a). Since \(\E [B_t^0]=\E [1]=1\), we have \(\E [B_t^2]=t(2-1)(1)=t\). Hence \(\E [B_t^4]=t(4-1)\E
[B_t^2]=t(4-1)t=3t^2\) and therefore \(\var (B_t^2)=\E [B_t^4]-\E [B_t^2]^2=2t^2\).
</p>


</li>
<li>


<p>
<span class="textnormal">(c)</span> Again, we use the formula we deduced in part (a). Since \(\E [B_t]=0\) it follows (by a trivial induction) that \(\E [B_t^n]=0\) for all odd \(n\in \N \). For even
\(n\in \N \) we have \(\E [B_t^2]=t\) and (by induction) we obtain
</p>
<p>
\[\E [B_t^n]=t^{n/2} (n-1)(n-3)\ldots (1).\]
</p>
</li>
<li>


<p>
<span class="textnormal">(d)</span> We have \(\var (B_t^n)=\E [B_t^{2n}]-\E [B_t^n]^2\) which is finite by part (c). Hence \(B_t^n\in L^2\), which implies that \(B_t^n\in L^1\).
</p>
</li>
</ul>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#ps:lognormal_mean"><b>11.5</b></a> Using the scaling properties of normal random variables, we write \(Z=\mu +Y\) where \(Y\sim N(0,\sigma ^2)\).
Then, \(e^Z=e^\mu e^Y\) and
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{0}\)</span>


<!--


                                                                                                        1    ∞        y2
                                                                                                                      Z
                                                                                            E[eY ] = √         ey e− 2σ2 dy
                                                                                                       2πσ −∞
                                                                                                        1                 1 
                                                                                                           Z ∞                           
                                                                                                    =√         exp − 2 y 2 − 2σ 2 y          dy
                                                                                                       2πσ −∞            2σ
                                                                                                        1                 1 
                                                                                                           Z ∞                               
                                                                                                    =√         exp − 2 (y − σ 2 )2 − σ 4         dy
                                                                                                       2πσ −∞            2σ
                                                                                                          1                 (y − σ 2 )2
                                                                                                              Z ∞        (              )
                                                                                                      σ2
                                                                                                    =e2 √          exp −                  dy
                                                                                                          2πσ −∞               2σ 2
                                                                                                            σ2
                                                                                                    =e2 .



-->


<p>


\begin{align*}
\E [e^Y] &amp;=\frac {1}{\sqrt {2\pi }\sigma }\int _{-\infty }^\infty e^y e^{-\frac {y^2}{2\sigma ^2}}\,dy\\ &amp;=\frac {1}{\sqrt {2\pi }\sigma }\int _{-\infty }^\infty \exp \l
\{-\frac {1}{2\sigma ^2}\l (y^2-2\sigma ^2y\r )\r \}\,dy\\ &amp;=\frac {1}{\sqrt {2\pi }\sigma }\int _{-\infty }^\infty \exp \l \{-\frac {1}{2\sigma ^2}\l ((y-\sigma ^2)^2-\sigma
^4\r )\r \}\,dy\\ &amp;=e^{\frac {\sigma ^2}{2}}\frac {1}{\sqrt {2\pi }\sigma }\int _{-\infty }^\infty \exp \l \{-\frac {(y-\sigma ^2)^2}{2\sigma ^2}\r \}\,dy\\ &amp;=e^{\frac
{\sigma ^2}{2}}.
\end{align*}
Here, to deduce the third line we complete the square, and to deduce the final line we use that the p.d.f.&nbsp;of a \(N(\sigma ^2,\sigma )\) random variable integrates to \(1\). Therefore,
</p>
<p>
\[\E [e^Z]=e^\mu \E [e^Y]=e^{\mu +\frac {\sigma ^2}{2}}.\]
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#ps:mart_bm"><b>11.6</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> Since \(B_t\) is adapted, \(e^{\sigma B_t-\frac 12\sigma ^2 t}\) is also adapted. By <span class="textup">(<a
href="Brownian-motion-definition.html#eq:lognormal_mean">11.2</a>)</span> and scaling of normal random variables we have that \(e^{\sigma B_t-\frac 12\sigma ^2 t}\) is in \(L^1\). It remains
only to check that
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{0}\)</span>


<!--


                                                                                 1                                                                         1
                                                                                                                                                                                                             
                                                                      E exp σBt − σ 2 t                          | Fu         = E exp σ(Bt − Bu ) + σBu − σ 2 t | Fu
                                                                                 2                                                                         2
                                                                                                                                         1 2
                                                                                                                                              
                                                                                                                              = exp σBu − σ t E [exp (σ(Bt − Bu )) | Fu ]
                                                                                                                                         2
                                                                                                                                         1 2
                                                                                                                                              
                                                                                                                              = exp σBu − σ t E [exp (σ(Bt − Bu ))]
                                                                                                                                         2
                                                                                                                                         1 2          1 2
                                                                                                                                                              
                                                                                                                              = exp σBu − σ t exp       σ (t − u)
                                                                                                                                         2            2
                                                                                                                                         1
                                                                                                                                              
                                                                                                                              = exp σBu − σ 2 u .
                                                                                                                                         2


-->


<p>


\begin{align*}
\E \l [\exp \l (\sigma B_t-\frac 12\sigma ^2 t\r )\|\mc {F}_u\r ] &amp;=\E \l [\exp \l (\sigma (B_t-B_u)+\sigma B_u-\frac 12\sigma ^2 t\r )\|\mc {F}_u\r ]\\ &amp;=\exp \l (\sigma
B_u-\frac 12\sigma ^2 t\r )\E \l [\exp \l (\sigma (B_t-B_u)\r )\|\mc {F}_u\r ]\\ &amp;=\exp \l (\sigma B_u-\frac 12\sigma ^2 t\r )\E \l [\exp \l (\sigma (B_t-B_u)\r )\r ]\\
&amp;=\exp \l (\sigma B_u-\frac 12\sigma ^2 t\r )\exp \l (\frac 12\sigma ^2(t-u)\r )\\ &amp;=\exp \l (\sigma B_u-\frac 12\sigma ^2u\r ).
\end{align*}
Here, the second line follows by taking out what is known, since \(B_u\) is \(\mc {F}_u\) measurable. The third line then follows by the definition of Brownian motion, in particular that \(B_t-B_u\) is
independent of \(\mc {F}_u\). The fourth line follows by <span class="textup">(<a href="Brownian-motion-definition.html#eq:lognormal_mean">11.2</a>)</span>, since \(B_t-B_u\sim N(0,t-u)\) and
hence \(\sigma (B_t-B_u)\sim N(0,\sigma ^2(t-u))\).
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> Since \(B_t\) is adapted, \(B_t^3-3tB_t\) is also adapted. From <a href="Exercises-on-Chapter-ref-c-bm.html#ps:bm_moments"><b>11.4</b></a> we have
\(B_t^3,B_t\in L^1\), so also \(B_t^3-tB_t\in L^1\). Using that \(B_u\) is \(\mc {F}_u\) measurable, we have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{0}\)</span>


<!--


                                                                              h                         i             h                                                                                             i
                                                                          E Bt3 − 3tBt | Fu = E (Bu3 − 3uBu ) + Bt3 − 3tBt − (Bu3 − 3uBu ) | Fu
                                                                                                                                                       h                                                        i
                                                                                                            = Bu3 − 3uBu + E Bt3 − Bu3 − 3tBt + 3uBu | Fu



-->


<p>


\begin{align*}
\E \l [B_t^3-3tB_t\|\mc {F}_u\r ] &amp;=\E \l [(B_u^3-3uB_u)+B_t^3-3tB_t-(B_u^3-3uB_u)\|\mc {F}_u\r ] \\ &amp;=B_u^3-3uB_u+\E \l [B_t^3-B_u^3-3tB_t+3uB_u\|\mc {F}_u\r ]
\end{align*}
so we need only check that the second term on the right hand side is zero. To see this,
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{0}\)</span>


<!--


                                                          h                                         i             h                                                                                             i
                                                        E Bt3 − Bu3 − 3tBt + 3uBu | Fu = E Bt3 − Bu3 − 3tBu + 3uBu − 3t(Bt − Bu ) | Fu
                                                                                                                  h                                                                  i
                                                                                                        = E Bt3 − Bu3 − 3tBu + 3uBu | Fu + 0
                                                                                                                  h                                i
                                                                                                        = E Bt3 − Bu3 | Fu − 3Bu (t − u)
                                                                                                                  h                                                                             i
                                                                                                        = E (Bt − Bu )3 + 3Bt2 Bu − 3Bu2 Bt | Fu − 3Bu (t − u)
                                                                                                                  h                                    i                     h              i
                                                                                                        = E (Bt − Bu )3 | Fu + 3Bu E Bt2 | Fu − 3Bu2 E[Bt | Fu ] − 3Bu (t − u)
                                                                                                                  h                           i                     h                          i       
                                                                                                        = E (Bt − Bu )3 + 3Bu E Bt2 − t | Fu + t − 3Bu3 − 3Bu (t − u)
                                                                                                                                                              
                                                                                                        = 0 + 3Bu Bu2 − u + t − 3Bu3 − 3Bu (t − u)

                                                                                                        = 0.



-->


<p>


\begin{align*}
\E \l [B_t^3-B_u^3-3tB_t+3uB_u\|\mc {F}_u\r ] &amp;=\E \l [B_t^3-B_u^3-3tB_u+3uB_u-3t(B_t-B_u)\|\mc {F}_u\r ]\\ &amp;=\E \l [B_t^3-B_u^3-3tB_u+3uB_u\|\mc {F}_u\r ]+0\\ &amp;=\E
\l [B_t^3-B_u^3\|\mc {F}_u\r ]-3B_u(t-u)\\ &amp;=\E \l [(B_t-B_u)^3+3B_t^2B_u-3B_u^2B_t\|\mc {F}_u\r ]-3B_u(t-u)\\ &amp;=\E \l [(B_t-B_u)^3\|\mc {F}_u\r ]+3B_u\E \l [B_t^2\|\mc
{F}_u\r ]-3B_u^2\E [B_t\|\mc {F}_u]-3B_u(t-u)\\ &amp;=\E \l [(B_t-B_u)^3\r ]+3B_u\l (\E \l [B_t^2-t\|\mc {F}_u\r ]+t\r )-3B_u^3-3B_u(t-u)\\ &amp;=0+3B_u\l (B_u^2-u+t\r
)-3B_u^3-3B_u(t-u)\\ &amp;=0.
\end{align*}
Here we use several applications of the fact that \(B_t-B_u\) is independent of \(\mc {F}_u\), whilst \(B_u\) is \(\mc {F}_u\) measurable. We use also that \(\E [Z^3]=0\) where \(Z\sim N(0,\sigma ^2)\),
which comes from part (c) of <a href="Exercises-on-Chapter-ref-c-bm.html#ps:bm_moments"><b>11.4</b></a> (or use that the normal distribution is symmetric about \(0\)), as well as that both \(B_t\)
and \(B_t^2-t\) are martingales (from Lemmas <a href="Properties-Brownian-motion.html#l:bm_mart">11.4.3</a> and <a href="Properties-Brownian-motion.html#l:bm2_mart">11.4.4</a>).
</p>
</li>
</ul>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#ps:second_order_ito"><b>11.7</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> We have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{0}\)</span>


<!--

                                                                          n−1
                                                                                  (tk+1 − tk ) = (tn − tn−1 ) + (tn−1 − tn−2 ) + . . . + (t2 − t1 ) + (t1 − t0 )
                                                                          X

                                                                          k=0

                                                                                                   = tn − t0

                                                                                                   =t−0

                                                                                                   = t.



-->


<p>


\begin{align*}
\sum _{k=0}^{n-1}(t_{k+1}-t_k) &amp;=(t_n-t_{n-1})+(t_{n-1}-t_{n-2})+\ldots +(t_2-t_1)+(t_1-t_0)\\ &amp;=t_n-t_0\\ &amp;=t-0\\ &amp;=t.
\end{align*}
This is known as a ‘telescoping sum’. The same method shows that \(\sum _{k=0}^{n-1}(B_{t_{k+1}}-B_{t_k})=B_t-B_0=0\).
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> We need a bit more care for this one. We have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{0}\)</span>


<!--

                                                                                             n−1                                  n−1                                                                      
                                                                                       0≤          (tk+1 − tk ) ≤                         (tk+1 − tk )                     max
                                                                                             X                                    X
                                                                                                                        2
                                                                                                                                                                                         |tj+1 − tj |
                                                                                                                                                                       j=0,...,n−1
                                                                                             k=0                                  k=0
                                                                                                                                                                                 n−1
                                                                                                                              =           max                                              (tk+1 − tk )
                                                                                                                                                                                   X
                                                                                                                                                           |tj+1 − tj |
                                                                                                                                      j=0,...,n−1
                                                                                                                                                                                     k=0
                                                                                                                                                                                
                                                                                                                              =           max              |tj+1 − tj | t.
                                                                                                                                      j=0,...,n−1



-->


<p>


\begin{align*}
0\leq \sum _{k=0}^{n-1}(t_{k+1}-t_k)^2 &amp;\leq \sum _{k=0}^{n-1}(t_{k+1}-t_k)\l (\max _{j=0,\ldots ,n-1}|t_{j+1}-t_j|\r )\\ &amp;= \l (\max _{j=0,\ldots ,n-1}|t_{j+1}-t_j|\r )
\sum _{k=0}^{n-1}(t_{k+1}-t_k)\\ &amp;= \l (\max _{j=0,\ldots ,n-1}|t_{j+1}-t_j|\r )t.
\end{align*}
Here, the last line is deduced using part (a). Letting \(n\to 0\) we have \(\max _{j=0,\ldots ,n-1}|t_{j+1}-t_j|\to 0\), so the right hand side of the above tends to zero as \(n\to \infty \). Hence, using
the sandwich rule, we have that \(\sum _{k=0}^{n-1}(t_{k+1}-t_k)^2\to 0\).
</p>


</li>
<li>


<p>
<span class="textnormal">(c)</span> Using the properties of Brownian motion, \(B_{t_k+1}-B_{t_k}\sim N(0,t_{k+1}-t_k)\) so from exercise <a
href="Exercises-on-Chapter-ref-c-bm.html#ps:bm_moments"><b>11.4</b></a> we have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{0}\)</span>


<!--

                                                                                                  "n−1                                        #        n−1         h                                i
                                                                                                          (Btk +1 − Btk )                          =           E (Btk +1 − Btk )2
                                                                                                   X                                                   X
                                                                                                                                          2
                                                                                              E
                                                                                                    k=0                                                k=0
                                                                                                                                                       n−1
                                                                                                                                                   =           (tk+1 − tk )
                                                                                                                                                       X

                                                                                                                                                       k=0

                                                                                                                                                   = t.



-->


<p>


\begin{align*}
\E \l [\sum \limits _{k=0}^{n-1}(B_{t_k+1}-B_{t_k})^2\r ] &amp;=\sum \limits _{k=0}^{n-1}\E \l [(B_{t_k+1}-B_{t_k})^2\r ]\\ &amp;=\sum \limits _{k=0}^{n-1}(t_{k+1}-t_k)\\
&amp;=t.
\end{align*}
Here, the last line follows by part (a).
</p>
<p>
For the last part, the properties of Brownian motion give us that each increment \(B_{t_{k+1}}-B_{t_k}\) is independent of \(\mc {F}_{t_k}\). In particular, the increments \(B_{t_{k+1}}-B_{t_k}\) are
independent of each other. So, using exercise <a href="Exercises-on-Chapter-ref-c-bm.html#ps:bm_moments"><b>11.4</b></a>,
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{0}\)</span>


<!--

                                                                                                   n−1                                                 n−1
                                                                                                                                           !
                                                                                                                                                                                                       
                                                                                            var          (Btk +1 − Btk )                           =           var (Btk +1 − Btk )2
                                                                                                   X                                                   X
                                                                                                                                       2

                                                                                                   k=0                                                 k=0
                                                                                                                                                       n−1
                                                                                                                                                   =           2(tk+1 − tk )2
                                                                                                                                                       X

                                                                                                                                                       k=0



-->


<p>


\begin{align*}
\var \l (\sum \limits _{k=0}^{n-1}(B_{t_k+1}-B_{t_k})^2\r ) &amp;=\sum \limits _{k=0}^{n-1}\var \l ((B_{t_k+1}-B_{t_k})^2\r )\\ &amp;=\sum \limits _{k=0}^{n-1}2(t_{k+1}-t_k)^2
\end{align*}
which tends to zero as \(n\to \infty \), by the same calculation as in part (b).
</p>
</li>
</ul>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#ps:bm_tail"><b>11.8</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> Let \(y\geq 1\). Then
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{0}\)</span>


<!--


                                                                                                                                                   ∞     1 − z2
                                                                                                                                           Z
                                                                                                             P [Bt ≥ y] =                              √     e 2t dz
                                                                                                                                              y         2πt
                                                                                                                                                   ∞     1
                                                                                                                                           Z
                                                                                                                                                                 z2
                                                                                                                                      ≤                √     ye− 2t dz
                                                                                                                                               y         2πt
                                                                                                                                                   ∞     1
                                                                                                                                           Z
                                                                                                                                                                 z2
                                                                                                                                      ≤                √     ze− 2t dz
                                                                                                                                               y         2πt
                                                                                                                                          1
                                                                                                                                                                          ∞
                                                                                                                                                    z2
                                                                                                                                      =√       −te− 2t
                                                                                                                                          2πt                                z=y
                                                                                                                                        r
                                                                                                                                           t − y2
                                                                                                                                      =      e 2t .
                                                                                                                                          2π


-->


<p>


\begin{align*}
\P \l [B_t\geq y\r ] &amp;=\int _y^\infty \frac {1}{\sqrt {2\pi t}}e^{-\frac {z^2}{2t}}\,dz\\ &amp;\leq \int _y^\infty \frac {1}{\sqrt {2\pi t}}y e^{-\frac {z^2}{2t}}\,dz\\
&amp;\leq \int _y^\infty \frac {1}{\sqrt {2\pi t}}z e^{-\frac {z^2}{2t}}\,dz\\ &amp;=\frac {1}{\sqrt {2\pi t}}\l [-t e^{-\frac {z^2}{2t}}\r ]_{z=y}^\infty \\ &amp;=\sqrt {\frac
{t}{2\pi }}e^{-\frac {y^2}{2t}}.
\end{align*}
Putting \(y=t^\alpha \) where \(\alpha &gt;\frac 12\) we have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{0}\)</span>
<!--

                                                                      r
                                                                           t − 1 t2α−1
                                                       P[Bt ≥ t ] ≤
                                                                α
                                                                             e 2       .                                                                                                                        (C.1)   --><a id="eq:bm_asymp_1"></a><!--
                                                                          2π
-->
<p>


\begin{equation}
\label {eq:bm_asymp_1} \P [B_t\geq t^\alpha ]\leq \sqrt {\frac {t}{2\pi }}e^{-\frac 12t^{2\alpha -1}}.
\end{equation}


</p>
<p>
Since \(2\alpha -1\geq 0\), the exponential term dominates the square root, and right hand side tends to zero as \(t\to \infty \).
</p>
<p>
If \(\alpha =\frac 12\) then we can use an easier method. Since \(B_t\sim N(0,t)\), we have \(t^{-1/2}B_t\sim N(0,1)\) and hence
</p>
<p>
\[\P [B_t\geq t^{1/2}]=\P [N(0,1)\geq 1]\in (0,1),\]
</p>
<p>
which is independent of \(t\) and hence does not tend to zero as \(t\to \infty \). Note that we can’t deduce this fact using the same method as for \(\alpha &gt;\frac 12\), because <span
class="textup">(<a href="Solutions-exercises-part-two.html#eq:bm_asymp_1">C.1</a>)</span> only gives us an upper bound on \(\P [B_t\geq t^{\alpha }]\).
</p>
</li>
<li>


<p>
<span class="textnormal">(b)</span> For this we need a different technique. For \(y\geq 0\) we integrate by parts to note that
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{1}\)</span>


<!--


                                                                                        ∞     1 − −z2        1   ∞ 1
                                                                                   Z                                                      Z
                                                                                                                        −y 2
                                                                                            √    e 2t dz = √         ze− 2t dz
                                                                                    y        2πt            2πt y z
                                                                                                             1
                                                                                                                                             !
                                                                                                                   t − z2 ∞
                                                                                                                                 Z ∞
                                                                                                                                      t − z2
                                                                                                                        
                                                                                                         =√       − e 2t       −        e 2t dz
                                                                                                            2πt    z       z=y    y  z2
                                                                                                                         1
                                                                                                                                                                   ∞ !
                                                                                                                                  t z2
                                                                                                                                               
                                                                                                                      ≤√       − e− 2t
                                                                                                                         2πt      z                                    z=y
                                                                                                                         1 t −  y 2
                                                                                                                      =√      e 2t
                                                                                                                        2πt y
                                                                                                                        t 1 − y2
                                                                                                                      =√     e 2t
                                                                                                                        2π y


-->


<p>


\begin{align*}
\int _y^\infty \frac {1}{\sqrt {2\pi t}}e^{-\frac {-z^2}{2t}}\,dz &amp;=\frac {1}{\sqrt {2\pi t}}\int _y^\infty \frac {1}{z} z e^{-\frac {-y^2}{2t}}\,dz\\ &amp;=\frac {1}{\sqrt
{2\pi t}}\l (\l [-\frac {t}{z}e^{-\frac {z^2}{2t}}\r ]_{z=y}^\infty -\int _y^\infty \frac {t}{z^2}e^{-\frac {z^2}{2t}}\r )\,dz\\ &amp;\leq \frac {1}{\sqrt {2\pi t}}\l (\l [-\frac
{t}{z}e^{-\frac {z^2}{2t}}\r ]_{z=y}^\infty \r )\\ &amp;= \frac {1}{\sqrt {2\pi t}} \frac {t}{y}e^{-\frac {y^2}{2t}}\\ &amp;= \frac {t}{\sqrt {2\pi }} \frac {1}{y}e^{-\frac
{y^2}{2t}}
\end{align*}
Using the symmetry of normal random variables about \(0\), along with this inequality, we have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{1}\)</span>


<!--



                                                                                                        P[|Bt | ≥ a] = P[Bt ≥ a] + P[Bt ≤ −a]

                                                                                                                                  = 2P[Bt ≥ a]
                                                                                                                                      t 1 − a2
                                                                                                                                  ≤ 2√      e 2t .
                                                                                                                                       2π a


-->


<p>


\begin{align*}
\P [|B_t|\geq a] &amp;=\P [B_t\geq a]+\P [B_t\leq -a]\\ &amp;=2\P [B_t\geq a]\\ &amp;\leq 2 \frac {t}{\sqrt {2\pi }} \frac {1}{a}e^{-\frac {a^2}{2t}}.
\end{align*}
As \(t\searrow 0\), the exponential term tends to \(0\), which dominates the \(\sqrt {t}\), meaning that \(\P [|B_t|\geq a]\to 0\) as \(t\searrow 0\). That is, \(B_t\to 0\) in probability as
\(t\searrow 0\).
</p>
</li>
</ul>
</li>
</ul>
<!--
......    subsection Chapter <a href=Stochastic-integration.html#c:ito>12</a> ......
-->
<h5 id="autosec-232">Chapter <a href="Stochastic-integration.html#c:ito">12</a></h5>
<a id="notes_2-autopage-232"></a>



<ul style="list-style-type:none">


<li>
<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#ps:int_Bu"><b>12.1</b></a> From <span class="textup">(<a href="Ito-integrals.html#eq:intBt">12.8</a>)</span> we have both \(\int _0^t
1\,dB_u=B_t\) and \(\int _0^s\,dB_u=B_s\), and using <span class="textup">(<a href="Ito-integrals.html#eq:intabc">12.6</a>)</span> we obtain
</p>
<p>
\[\int _u^t1\,dB_u=\int _0^t1\,dB_u-\int _0^v1\,dB_u=B_t-B_v.\]
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#ps:expBt_L2"><b>12.2</b></a> Since \(B_t\) is adapted to \(\mc {F}_t\), we have that \(e^{B_t}\) is adapted to \(\mc {F}_t\). Since \(B_t\) is a
continuous stochastic process and \(\exp (\cdot )\) is a continuous function, \(e^{B_t}\) is also continuous. From <span class="textup">(<a
href="Brownian-motion-definition.html#eq:lognormal_mean">11.2</a>)</span> we have that
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{1}\)</span>


<!--

                                                                                                                           Z       t                   2                             Z    t           h            i
                                                                                                                                       E        eBu                      du =                     E e2Bu du
                                                                                                                               0                                                         0
                                                                                                                                                                                         Z    t       1       2 )u
                                                                                                                                                                                  =               e 2 (2               du
                                                                                                                                                                                         0
                                                                                                                                                                                         Z    t
                                                                                                                                                                                  =               e2u du < ∞.
                                                                                                                                                                                         0



-->


<p>


\begin{align*}
\int _0^t\E \l [\l (e^{B_u}\r )^2\r ]\,du &amp;=\int _0^t\E \l [e^{2B_u}\r ]\,du\\ &amp;=\int _0^t e^{\frac 12(2^2)u}\,du\\ &amp;= \int _0^te^{2u}\,du&lt;\infty .
\end{align*}
Therefore, \(e^{B_t}\in \mc {H}^2\).
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#ps:not_L2"><b>12.3</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> We have
</p>
<p>
\[\E \l [e^{\frac {Z^2}{2}}\r ]=\frac {1}{\sqrt {2\pi }}\int _{-\infty }^\infty e^{\frac {z^2}{2}}e^{\frac {-z^2}{2}}\,dz=\frac {1}{\sqrt {2\pi }}\int _{-\infty }^\infty 1\,dz
=\infty .\]
</p>
</li>
<li>


<p>
<span class="textnormal">(b)</span> Using the scaling properties of normal distributions, \(t^{-1/2}B_t\) has a \(N(0,1)\) distribution for all \(t\). Hence, if we set \(F_t=t^{-1/2}B_t\) then by part (a)
we have
</p>
<p>
\[\int _0^t\E \l [e^{\frac {1}{2}F_t^2}\r ]\,du=\int _0^t\infty \,du\]
</p>
<p>
which is not finite. Note also that \(F_t\) is adapted to \(\mc {F}_t\). Since \(e^t\), \(t^2\), \(t^{-1/2}\) and \(B_t\) are all continuous, so is \(e^{\frac {1}{2}F_t^2}\). Hence \(e^{\frac
{1}{2}F_t^2}\) is an example of a continuous, adapted stochastic process that is not in \(\mc {H}^2\).
</p>
<p>
<i>Note that we can’t simply use the stochastic process \(F_t=Z\), because we have nothing to tell us that \(Z\) is \(\mc {F}_t\) measurable.</i>
</p>
</li>
</ul>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#ps:ito_mean_var"><b>12.4</b></a> We have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{1}\)</span>


<!--

                                                                                                                                                         Z          t                                               Z       t                 
                                                                                                             E[Xt ] = E[2] + E                                           t + Bu2 du + E                                            Bu2 dBu
                                                                                                                                                                 0                                                         0
                                                                                                                                           Z     t
                                                                                                                       =2+                           t+          E[Bu2 ] du              +0
                                                                                                                                             0
                                                                                                                                                         Z       t
                                                                                                                       = 2 + t2 +                                    u du
                                                                                                                                                             0
                                                                                                                                                             2
                                                                                                                                                         t
                                                                                                                       = 2 + t2 +
                                                                                                                                                         2
                                                                                                                                           3t2
                                                                                                                       =2+                     .
                                                                                                                                            2


-->


<p>


\begin{align*}
\E [X_t] &amp;=\E [2]+\E \l [\int _0^t t+B_u^2\,du\r ]+\E \l [\int _0^t B_u^2\,d B_u\r ]\\ &amp;=2+\int _0^tt+\E [B_u^2]\,du+0\\ &amp;=2+t^2+\int _0^t u\,du\\ &amp;=2+t^2+\frac
{t^2}{2}\\ &amp;=2+\frac {3t^2}{2}.
\end{align*}


</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#ps:ito_proc_test"><b>12.5</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> \(X_t=0+\int _0^t0\,du+\int _0^t0\,dB_u\) so \(X_t\) is an Ito process.
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> \(Y_t=0+\int _0^t2u\,du+\int _0^t1\,dB_u\) by <span class="textup">(<a href="Ito-integrals.html#eq:intBt">12.8</a>)</span>, so \(Y_t\) is an Ito process.
</p>


</li>
<li>


<p>
<span class="textnormal">(c)</span> A symmetric random walk is a process in discrete time, and is therefore not an Ito process.
</p>
</li>
</ul>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#ps:os_proc"><b>12.6</b></a> We have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{1}\)</span>


<!--

                                                                                                                                                                                                      Z          t                 
                                                                                                                     E[Vt ] = E[e                    −kt
                                                                                                                                                                 v] + σe              −kt
                                                                                                                                                                                              E                       ks
                                                                                                                                                                                                                      e dBs
                                                                                                                                                                                                              0

                                                                                                                                       = e−kt v.



-->


<p>


\begin{align*}
\E [V_t] &amp;=\E [e^{-kt}v]+\sigma e^{-kt}\E \l [\int _0^t e^{ks}\,dB_s\r ]\\ &amp;=e^{-kt}v.
\end{align*}
Here we use Theorem <a href="Ito-integrals.html#t:stoch_int_final">12.2.1</a> to show that the expectation of the \(dB_u\) integral is zero. In order to calculate \(\var (V_t)\) we first calculate
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{1}\)</span>


<!--


                                                                                       h         i                                                               Z          t                                                         "Z
                                                                                                                                                                                                                                                     t              2 #
                                                                                   E       Vt2          = E[e  −2kt 2
                                                                                                                     v ] + 2σe                   −kt
                                                                                                                                                         E                       e dBs + σ e
                                                                                                                                                                                  ks                                  2 −2kt
                                                                                                                                                                                                                                    E                    ks
                                                                                                                                                                                                                                                         e dBs
                                                                                                                                                                         0                                                                       0
                                                                                                                                                                 Z       t        h                   i
                                                                                                        = e−2kt v 2 + 0 + σ 2 e−2kt                                          E (eks )2 du
                                                                                                                                                                     0
                                                                                                                                                     Z   t
                                                                                                        = e−2kt v 2 + σ 2 e−2kt                                  e2ku du
                                                                                                                                                     0
                                                                                                                                                      1  2kt 
                                                                                                        = e−2kt v 2 + σ 2 e−2kt                          e −1
                                                                                                                                                     2k
                                                                                                                                σ2            
                                                                                                        = e−2kt v 2 +                1 − e−2kt
                                                                                                                                2k


-->


<p>


\begin{align*}
\E \l [V_t^2\r ] &amp;=\E [e^{-2kt}v^2]+2\sigma e^{-kt}\E \l [\int _0^t e^{ks}\,dB_s\r ]+\sigma ^2 e^{-2kt}\E \l [\l (\int _0^t e^{ks}\,dB_s\r )^2\r ]\\
&amp;=e^{-2kt}v^2+0+\sigma ^2 e^{-2kt}\int _0^t \E \l [(e^{ks})^2\r ]\,du\\ &amp;=e^{-2kt}v^2+\sigma ^2 e^{-2kt}\int _0^t e^{2ku}\,du\\ &amp;=e^{-2kt}v^2+\sigma ^2 e^{-2kt}\frac
{1}{2k}\l (e^{2kt}-1\r )\\ &amp;=e^{-2kt}v^2+\frac {\sigma ^2}{2k}\l (1-e^{-2kt}\r )
\end{align*}
Again, we use Theorem <a href="Ito-integrals.html#t:stoch_int_final">12.2.1</a> to calculate the final term on the first line. We obtain that
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{1}\)</span>


<!--



                                                                                                                                           var(Vt ) = E[Vt2 ] − E[Vt ]2
                                                                                                                                                                         σ2           
                                                                                                                                                                 =            1 − e−2kt .
                                                                                                                                                                         2k


-->


<p>


\begin{align*}
\var (V_t)&amp;= \E [V_t^2]-\E [V_t]^2\\ &amp;=\frac {\sigma ^2}{2k}\l (1-e^{-2kt}\r ).
\end{align*}


</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#ps:submart"><b>12.7</b></a> We have
</p>
<p>
\[X_t=\mu t+\int _0^t \sigma _u\,dB_u.\]
</p>
<p>
Since \(M_t=\int _0^t \sigma _u\,dB_u\) is a martingale (by Theorem <a href="Ito-integrals.html#t:stoch_int_final">12.2.1</a>), we have that \(M_t\) is adapted and in \(L^1\), and hence also
\(X_t\) is adapted and in \(L^1\). For \(v\leq t\) we have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{1}\)</span>


<!--



                                                                                                                                       E [Xt | Fv ] = µt + E [Mt | Fv ]

                                                                                                                                                                     = µt + Mv
                                                                                                                                                                                         Z        v
                                                                                                                                                                     = µt +                           σu dBu
                                                                                                                                                                                             Z0 v
                                                                                                                                                                     ≥ µv +                           σu dBu
                                                                                                                                                                                              0

                                                                                                                                                                     = Xv .



-->


<p>


\begin{align*}
\E \l [X_t\|\mc {F}_v\r ]&amp;=\mu t+\E \l [M_t\|\mc {F}_v\r ]\\ &amp;=\mu t+M_v\\ &amp;=\mu t+\int _0^v\sigma _u\,dB_u\\ &amp;\geq \mu v+\int _0^v\sigma _u\,dB_u\\ &amp;=X_v.
\end{align*}
Hence, \(X_t\) is a submartingale.
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#ps:fubini_ito"><b>12.8</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> Taking \(F_t=0\), we have \(\E [F_t]=\) and \(\int _0^tF_s\,ds=0\), hence \(\int _0^t \E [F_s]\,ds=\E [\int _0^t F_s\,dB_s]=0\).
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> Taking \(F_t=1\), we have \(\E [F_t]=1\) and \(\int _0^tF_s\,ds=t\), hence \(\int _0^t \E [F_s]\,ds=t\) and \(\E [\int _0^t F_s\,dB_s]=\E [B_t]=0\).
</p>
</li>
</ul>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#ps:L2_vec_space"><b>12.9</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> We have \((|X|-|Y|)^2\geq 0\), so \(2|XY|\leq X^2+Y^2\), which by monotonicity of \(\E \) means that \(2\E [|XY|]\leq \E [X^2]+\E [Y^2]\). Using the
relationship between \(\E \) and \(|\cdot |\) we have
</p>
<p>
\[2|\E [XY]|\leq 2\E [|XY|]\leq \E [X^2]+\E [Y^2].\]
</p>
</li>
<li>


<p>
<span class="textnormal">(b)</span> Let \(X_t,Y_t\in \mc {H}^2\) and let \(\alpha ,\beta \in \R \) be deterministic constants. We need to show that \(Z_t\alpha X_t+\beta Y_t\in \mc {H}^2\).
Since both \(X_t\) and \(Y_t\) are continuous and adapted, \(Z_t\) is also both continuous and adapted. It remains to show that <span class="textup">(<a
href="Ito-integrals.html#eq:locally_sqr_int">12.5</a>)</span> holds for \(Z_t\). With this in mind we note that
</p>
<p>
\[Z_t^2=\alpha ^2X_t^2+2\alpha \beta X_tY_t+\beta ^2Y_t^2\]
</p>
<p>
and hence that
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{1}\)</span>


<!--



                                                                                                           |E[Zt2 ]| = α2 E[Xt2 ] + 2αβE[Xt Yt ] + β 2 E[Yt2 ]

                                                                                                                       ≤ α2 E[Xt2 ] + 2|αβ| |E[Xt Yt ]| + β 2 E[Yt2 ]

                                                                                                                       ≤ α2 E[Xt2 ] + |αβ|(E[Xt2 ] + E[Yt2 ]) + β 2 E[Yt2 ]

                                                                                                                       = (α2 + |αβ|)E[Xt2 ] + (β 2 + |αβ|)|E[Yt2 ].



-->


<p>


\begin{align*}
|\E [Z_t^2]|&amp;=\l |\alpha ^2\E [X_t^2]+2\alpha \beta \E [X_tY_t]+\beta ^2\E [Y_t^2]\r |\\ &amp;\leq \alpha ^2\E [X_t^2]+2|\alpha \beta |\,\l |\E [X_tY_t]\r |+\beta ^2\E
[Y_t^2]\\ &amp;\leq \alpha ^2\E [X_t^2]+|\alpha \beta |(\E [X_t^2]+\E [Y_t^2])+\beta ^2\E [Y_t^2]\\ &amp;=(\alpha ^2+|\alpha \beta |)\E [X_t^2]+(\beta ^2+|\alpha \beta |)|\E
[Y_t^2].
\end{align*}
where we use part (a) to deduce the third line from the second. Hence,
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{1}\)</span>


<!--

                                                                                    Z      t                       Z       t
                                                                                               E[Zu2 ] du ≤                    (α2 + |αβ|)E[Xu2 ] + (β 2 + |αβ|)|E[Yu2 ] du
                                                                                       0                               0
                                                                                                                                                     Z       t                                                                      Z    t
                                                                                                                = (α2 + |αβ|)                                    E[Xu2 ] du + (β 2 + |αβ|)                                                   E[Yu2 ] du < ∞
                                                                                                                                                         0                                                                           0



-->


<p>


\begin{align*}
\int _0^t\E [Z_u^2]\,du &amp;\leq \int _0^t (\alpha ^2+|\alpha \beta |)\E [X_u^2]+(\beta ^2+|\alpha \beta |)|\E [Y_u^2]\,du\\ &amp;=(\alpha ^2+|\alpha \beta |)\int _0^t \E
[X_u^2]\,du+(\beta ^2+|\alpha \beta |)\int _0^t \E [Y_u^2]\,du&lt;\infty
\end{align*}
as required. The final line is \(&lt;\infty \) because \(X_t,Y_t\in \mc {H}^2\).
</p>
</li>
</ul>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#ps:ito_isom"><b>12.10</b></a> We have \(I_F(t)=\sum \limits _{i=1}^n F_{t_{i-1}}[B_{t_i\wedge t}-B_{t_{i-1}\wedge t}].\) We are looking
to show that
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{1}\)</span>
<!--

                                                         Z   t
                                         E[IF (t)2 ] =           E[Fu2 ] du.                                                                                                       (C.2)                                                                                                      --><a id="eq:ii1"></a><!--
                                                         0
-->
<p>


\begin{equation}
\label {eq:ii1} \E [I_F(t)^2]=\int _0^t \E [F_u^2]\,du.
\end{equation}


</p>
<p>
On the right hand side we have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{2}\)</span>


<!--

                                                                                                                 Z     t                                     m Z                 ti ∧t
                                                                                                                           E[Fu2 ] du =                                                  E[Fu2 ] du
                                                                                                                                                             X
                                                                                                                   0                                         i=1             ti−1∧t
                                                                                                                                                             m
                                                                                                                                                     =                   (ti ∧ t − ti−1 ∧ t)E[Ft2i−1 ]                                                        (C.3)
                                                                                                                                                             X
                                                                                                                                                                                                                                                                                              --><a id="eq:ii2"></a><!--
                                                                                                                                                             i=1



-->


<p>


\begin{align}
\int _0^t \E [F_u^2]\,du &amp;=\sum \limits _{i=1}^{m}\int _{t_{i-1\wedge t}}^{t_i\wedge t}\E [F_u^2]\,du\notag \\ &amp;=\sum \limits _{i=1}^m (t_i\wedge t-t_{i-1}\wedge t)\E
[F_{t_{i-1}}^2]\label {eq:ii2}
\end{align}
because \(F_t\) is constant during each time interval \([t_{i-1}\wedge t,t_i\wedge t)\). On the left hand side of <span class="textup">(<a
href="Solutions-exercises-part-two.html#eq:ii1">C.2</a>)</span> we have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--

                                                                                                                                                        !2 
                                                                                               m
                                                                     E[IF (t)2 ] = E                    Fti−1 [Bti ∧t − Bti−1 ∧t ]
                                                                                               X
                                                                                                                                                                 
                                                                                               i=1
                                                                                                                                                                               
                                                                                     m                                  i−1
                                                                                                                      m X
                                                                               = E  Ft2i−1 [Bti ∧t − Bti−1 ∧t ]2 + 2       Fti−1 Ftj−1 [Bti ∧t − Bti−1 ∧t ][Btj ∧t − Btj−1 ∧t ]
                                                                                    X                                 X

                                                                                           i=1                                                                       i=1 j=1
                                                                                   m            h                                                    i                     i−1
                                                                                                                                                                         m X
                                                                               =           E Ft2i−1 [Bti ∧t − Bti−1 ∧t ]2 + 2                                                            E Fti−1 Ftj−1 [Bti ∧t − Bti−1 ∧t ][Btj ∧t − Btj−1 ∧t ]
                                                                                   X                                                                                     X                                                                                                         

                                                                                   i=1                                                                                   i=1 j=1



-->


<p>


\begin{align*}
\E [I_F(t)^2] &amp;=\E \l [\l (\sum \limits _{i=1}^m F_{t_{i-1}}[B_{t_i\wedge t}-B_{t_{i-1}\wedge t}]\r )^2\r ]\\ &amp;=\E \l [\sum \limits _{i=1}^m F_{t_{i-1}}^2[B_{t_i\wedge
t}-B_{t_{i-1}\wedge t}]^2+2\sum \limits _{i=1}^m\sum \limits _{j=1}^{i-1}F_{t_{i-1}}F_{t_{j-1}}[B_{t_i\wedge t}-B_{t_{i-1}\wedge t}][B_{t_j\wedge t}-B_{t_{j-1}\wedge t}]\r ]\\
&amp;=\sum \limits _{i=1}^m \E \l [F_{t_{i-1}}^2[B_{t_i\wedge t}-B_{t_{i-1}\wedge t}]^2\r ]+2\sum \limits _{i=1}^m\sum \limits _{j=1}^{i-1}\E \l
[F_{t_{i-1}}F_{t_{j-1}}[B_{t_i\wedge t}-B_{t_{i-1}\wedge t}][B_{t_j\wedge t}-B_{t_{j-1}\wedge t}]\r ]
\end{align*}
In the first sum, using the tower rule, taking out what is known, independence, and then the fact that \(\E [B_t^2]=t\), we have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--


                                                                                                    h                                                    i                   h h                                                                               ii
                                                                                               E Ft2i−1 [Bti ∧t − Bti−1 ∧t ]2 = E E Ft2i−1 [Bti ∧t − Bti−1 ∧t ]2 | Fti−1
                                                                                                                                                                             h                    h                                                            ii
                                                                                                                                                             = E Ft2i−1 E [Bti ∧t − Bti−1 ∧t ]2 | Fti−1
                                                                                                                                                                             h                    h                                              ii
                                                                                                                                                             = E Ft2i−1 E [Bti ∧t − Bti−1 ∧t ]2
                                                                                                                                                                             h                                                               i
                                                                                                                                                             = E Ft2i−1 (ti ∧ t − ti−1 ∧ t)



-->


<p>


\begin{align*}
\E \l [F_{t_{i-1}}^2[B_{t_i\wedge t}-B_{t_{i-1}\wedge t}]^2\r ] &amp;=\E \l [\E \l [F_{t_{i-1}}^2[B_{t_i\wedge t}-B_{t_{i-1}\wedge t}]^2\|\mc {F}_{t_{i-1}}\r ]\r ]\\ &amp;=\E \l
[F_{t_{i-1}}^2\E \l [[B_{t_i\wedge t}-B_{t_{i-1}\wedge t}]^2\|\mc {F}_{t_{i-1}}\r ]\r ]\\ &amp;=\E \l [F_{t_{i-1}}^2\E \l [[B_{t_i\wedge t}-B_{t_{i-1}\wedge t}]^2\r ]\r ]\\
&amp;=\E \l [F_{t_{i-1}}^2(t_{i}\wedge t-t_{i-1}\wedge t)\r ]
\end{align*}
In the second sum, since \(j&lt;i\) we have \(t_{j-1}\leq t_i\), so using the tower rule, taking out what is known, and then the martingale property of Brownian motion, we have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--



                                                             E Fti−1 Ftj−1 [Bti ∧t − Bti−1 ∧t ][Btj ∧t − Btj−1 ∧t ] = E E Fti−1 Ftj−1 [Bti ∧t − Bti−1 ∧t ][Btj ∧t − Btj−1 ∧t ] | Fti−1
                                                                                                                                                                                                                                                                                    


                                                                                                                                                             = E Ftj−1 [Btj ∧t − Btj−1 ∧t ]Fti−1 E Bti ∧t | Fti−1 − Bti−1 ∧t
                                                                                                                                                                                                                                                                                      


                                                                                                                                                             = E Ftj−1 [Btj ∧t − Btj−1 ∧t ]Fti−1 Bti−1 ∧t − Bti−1 ∧t
                                                                                                                                                                                                                                                                              


                                                                                                                                                             = 0.



-->


<p>


\begin{align*}
\E \l [F_{t_{i-1}}F_{t_{j-1}}[B_{t_i\wedge t}-B_{t_{i-1}\wedge t}][B_{t_j\wedge t}-B_{t_{j-1}\wedge t}]\r ] &amp;=\E \l [\E \l [F_{t_{i-1}}F_{t_{j-1}}[B_{t_i\wedge
t}-B_{t_{i-1}\wedge t}][B_{t_j\wedge t}-B_{t_{j-1}\wedge t}]\|\mc {F}_{t_{i-1}}\r ]\r ]\\ &amp;=\E \l [F_{t_{j-1}}[B_{t_j\wedge t}-B_{t_{j-1}\wedge t}]F_{t_{i-1}}\l (\E \l
[B_{t_i\wedge t}\|\mc {F}_{t_{i-1}}\r ]-B_{t_{i-1}\wedge t}\r )\r ]\\ &amp;=\E \l [F_{t_{j-1}}[B_{t_j\wedge t}-B_{t_{j-1}\wedge t}]F_{t_{i-1}}\l (B_{t_{i-1}\wedge
t}-B_{t_{i-1}\wedge t}\r )\r ]\\ &amp;=0.
\end{align*}
Therefore,
</p>
<p>
\[\E [I_F(t)^2]=\sum \limits _{i=1}^m\E \l [F_{t_{i-1}}^2(t_{i}\wedge t-t_{i-1}\wedge t)\r ]\]
</p>
<p>
which matches <span class="textup">(<a href="Solutions-exercises-part-two.html#eq:ii2">C.3</a>)</span> and completes the proof.
</p>
<p>


</p>
</li>
</ul>
<!--
......   subsection Chapter <a href=Stochastic-differential-equations.html#c:sdes>13</a> ......
-->
<h5 id="autosec-233">Chapter <a href="Stochastic-differential-equations.html#c:sdes">13</a></h5>
<a id="notes_2-autopage-233"></a>



<ul style="list-style-type:none">


<li>
<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#ps:int_form"><b>13.1</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> \(X_t=X_0+\int _0^t2u\,du+\int _0^tB_u\,dB_u\).
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> \(Y_T=Y_t+\int _t^T u\,du\).
</p>
</li>
</ul>
<p>
By using the fundamental theorem of calculus, we obtain that \(Y\) satisfies the differential equation \(\frac {d Y_t}{dt}=t\). Using equation <span class="textup">(<a
href="Stochastic-differential-equations.html#eq:intBtBt">13.6</a>)</span> from Example <a href="Stochastic-differential-equations.html#ex:intBtBt">13.1.2</a>, we have that
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--


                                                                                                                                                                      Bt2   t
                                                                                                                              Xt = X0 + t2 +                              −
                                                                                                                                                                      2     2


-->


<p>


\begin{align*}
X_t=X_0+t^2+\frac {B_t^2}{2}-\frac {t}{2}
\end{align*}
which is not differentiable because \(B_t\) is not differentiable.
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#ps:ito_basic"><b>13.2</b></a> We have \(Z_t=f(t,X_t)\) where \(f(t,x)=t^3x\) and \(dX_t=\alpha \,dt+\beta \,dB_t\). By Ito’s formula,
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--


                                                                                                                               1
                                                                                                                                                                                  
                                                                                                      dZt = 3t2 Xt + (α)(t3 ) + (β)(0)                                                 dt + βt3 dBt
                                                                                                                               2
                                                                                                                                              
                                                                                                              = 3t2 Xt + αt3 dt + βt3 dBt .



-->


<p>


\begin{align*}
dZ_t&amp;=\l \{3t^2X_t+(\alpha )(t^3)+\frac 12(\beta )(0)\r \}\,dt+\beta t^3\,dB_t\\ &amp;=\l (3t^2X_t+\alpha t^3\r )\,dt+\beta t^3\,dB_t.
\end{align*}


</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#ps:various_diff"><b>13.3</b></a> By Ito’s formula, using that \(dB_t=0\,dt+1\,dB_t\), we have
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> \(dZ_t=\l \{B_t^2+(0)(2tB_t)+\frac 12(1^2)(2t)\r \}\,dt+(1)(2tB_t)\,dB_t=\l (B_t^2+t\r )\,dt+2tB_t\,dB_t\).
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> \(dZ_t=\l \{\alpha e^{\alpha t}+(0)(0)+\frac 12(1^2)(0)\r \}\,dt+(1)(0)\,dB_t=\alpha e^{\alpha t}\,dt\).
</p>


</li>
<li>


<p>
<span class="textnormal">(c)</span> We have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--


                                                                                                     −1                                     1        2                                            −1
                                                                                                                                                                                                 
                                                                                    dZt = (0) + (t )                  2
                                                                                                                                           + (Bt )2                                    dt + (Bt )           Bt
                                                                                                     Xt2                                    2       Xt3                                           Xt2
                                                                                                                             
                                                                                                 = Bt2 Zt3 − t2 Zt2 dt − Bt Zt2 dBt .



-->


<p>


\begin{align*}
dZ_t &amp;=\l \{(0)+(t^2)\l (\frac {-1}{X_t^2}\r )+\frac 12(B_t)^2\l (\frac {2}{X_t^3}\r )\r \}\,dt+(B_t)\l (\frac {-1}{X_t^2}\r )\,B_t\\ &amp;=\l (B_t^2Z_t^{3}-t^2Z_t^2\r
)\,dt-B_tZ_t^2\,dB_t.
\end{align*}


</p>


</li>
<li>


<p>
<span class="textnormal">(d)</span> We have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--


                                                                                                         1
                                                                                                                                                                                       
                                                                        dZt = (0) + (cos Xt ) (cos Xt ) + (cos Xt )2 (− sin Xt )                                                            dt + (cos Xt )(cos Xt ) dBt
                                                                                                         2
                                                                                                                                                  
                                                                              = 1−            Zt
                                                                                              2          1 − Zt2 dt + 1 − Zt2 dBt



-->


<p>


\begin{align*}
dZ_t &amp;=\l \{(0)+(\cos X_t)\l (\cos X_t\r )+\frac 12(\cos X_t)^2\l (-\sin X_t\r )\r \}\,dt+(\cos X_t)(\cos X_t)\,dB_t\\ &amp;=\l (1-\tfrac {Z_t}{2}\r )\l (1-Z_t^2\r )\,dt+\l
(1-Z_t^2\r )\,dB_t
\end{align*}


</p>
</li>
</ul>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#ps:Btn_diff"><b>13.4</b></a> We have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--


                                                                                                                                   1
                                                                                                                                                                                      
                                                                                dFt = 0 +                 (0)(nBtn−1 )            + (12 )(n(n − 1)Btn−2                                     dt + (1)nBtn−1 dBt
                                                                                                                                   2
                                                                                                 n(n − 1)Btn−2
                                                                                             =                 dt + nBtn−1 dBt .
                                                                                                       2


-->


<p>


\begin{align*}
dF_t &amp;=\l (0+(0)(nB_{t}^{n-1})+\frac 12(1^2)(n(n-1)B_t^{n-2}\r )\,dt+(1) n B_t^{n-1}\,dB_t\\ &amp;=\frac {n(n-1)B_t^{n-2}}{2}\,dt+nB_t^{n-1}\,dB_t.
\end{align*}
Written out in integral form this gives
</p>
<p>
\[B^t_n=\int _0^t\frac {n(n-1)B_u^{n-2}}{2}\,du+\int _0^t nB_u^{n-1}\,dB_u.\]
</p>
<p>
Taking expectations, swapping \(\int \,du\) with \(\E \), and recalling from Theorem <a href="Ito-integrals.html#t:stoch_int_final">12.2.1</a> that integrals with respect to \(dB_t\) have zero mean,
we obtain
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--


                                                                                                                                   n(n − 1)E[Bun−2 ]
                                                                                                                                          t
                                                                                                                                  Z
                                                                                                                  E[Btn ] =                           du + 0
                                                                                                                                 0         2
                                                                                                                                n(n − 1) t
                                                                                                                                        Z
                                                                                                                              =              E[Bun−2 ] du
                                                                                                                                   2      0



-->


<p>


\begin{align*}
\E [B_t^n] &amp;=\int _0^t\frac {n(n-1)\E [B_u^{n-2}]}{2}\,du+0\\ &amp;=\frac {n(n-1)}{2}\int _0^t\E [B_u^{n-2}]\,du
\end{align*}
as required.
</p>
<p>
Let us check that this formula agrees with the results of exercise <a href="Exercises-on-Chapter-ref-c-bm.html#ps:bm_moments"><b>11.4</b></a> part (c). When \(n\) is odd, we had obtained \(\E
[B^n_t]=0\), so this case is trivial. When \(n\) is even, we had obtained \(\E [B^n_t]=t^{n/2}(n-1)(n-3)\ldots (1)\). Note that
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--


                                                                       n(n − 1)          t                                                                              n(n − 1) tn/2
                                                                                  Z
                                                                                             u(n−2)/2 (n − 3)(n − 5) . . . (1) du =                                                   (n − 3)(n − 5) . . . (1) du
                                                                          2          0                                                                                     2     n/2
                                                                                                                                                                    = tn/2 (n − 1)(n − 3) . . . (1)



-->


<p>


\begin{align*}
\frac {n(n-1)}{2}\int _0^t u^{(n-2)/2}(n-3)(n-5)\ldots (1)\,du &amp;= \frac {n(n-1)}{2} \frac {t^{n/2}}{n/2}(n-3)(n-5)\ldots (1)\,du \\ &amp;= t^{n/2}(n-1)(n-3)\ldots (1)
\end{align*}
as required.
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#ps:ito_mart"><b>13.5</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> By Ito’s formula, with \(f(t,x)=e^{t/2}\cos x\), we have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--


                                                                           1 t/2                             1
                                                                                                                                                                                                                      
                                                             dXt =           e cos(Bt ) + (0) −et/2 sin(Bt ) + (12 )(−et/2 cos(Bt ))                                                              dt + (1) −et/2 sin(Bt ) dBt
                                                                           2                                  2
                                                                     = −et/2 sin(Bt ) dBt .



-->


<p>


\begin{align*}
dX_t &amp;=\l (\frac 12e^{t/2}\cos (B_t)+(0)\l (-e^{t/2}\sin (B_t)\r )+\frac 12(1^2)(-e^{t/2}\cos (B_t))\r )\,dt+(1)\l (-e^{t/2}\sin (B_t)\r )\,dB_t\\ &amp;=-e^{t/2}\sin
(B_t)\,dB_t.
\end{align*}
Hence \(X_t=X_0-\int _0^te^{u/2}\sin (B_u)\,dB_u\), which is martingale by Theorem <a href="Ito-integrals.html#t:stoch_int_final">12.2.1</a>.
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> By Ito’s formula, with \(f(t,x)=(x+t)e^{-x-t/2}\) we have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--


                                                                                               1
                                                                                                                                                    
                                                                              dYt = e−Bt −t/2 − (Bt + t)e−Bt −t/2 + (0) e−Bt −t/2 − (Bt + t)e−Bt −t/2
                                                                                               2
                                                                                               1 2  −Bt −t/2                                    
                                                                                              + (1 ) −e          −e −Bt −t/2
                                                                                                                             + (Bt + t)e−Bt −t/2
                                                                                                                                                    dt
                                                                                               2
                                                                                                                                                                                                        
                                                                                                                                          + (12 ) e−Bt −t/2 − (Bt + t)e−Bt −t/2 dBt

                                                                                    = (1 − t − Bt )e−Bt −t/2 dBt .



-->


<p>


\begin{align*}
dY_t &amp;=\bigg \{e^{-B_t-t/2}-\frac {1}{2}(B_t+t)e^{-B_t-t/2}+(0)\l (e^{-B_t-t/2}-(B_t+t)e^{-B_t-t/2}\r )\\ &amp;\hspace {5pc} + \frac 12(1^2)\l
(-e^{-B_t-t/2}-e^{-B_t-t/2}+(B_t+t)e^{-B_t-t/2}\r )\bigg \}\,dt \\ &amp;\hspace {10pc} + (1^2)\l (e^{-B_t-t/2}-(B_t+t)e^{-B_t-t/2}\r )\,dB_t\\ &amp;=(1-t-B_t)e^{-B_t-t/2}\,dB_t.
\end{align*}
Hence \(Y_t=Y_0+\int _0^t(1-u-B_u)e^{-B_u-u/2}\,dB_u\), which is martingale by Theorem <a href="Ito-integrals.html#t:stoch_int_final">12.2.1</a>.
</p>
</li>
</ul>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#ps:inttBt"><b>13.6</b></a> We apply Ito’s formula with \(f(t,x)=tx\) to \(Z_t=f(t,B_t)=tB_t\) and obtain
</p>
<p>
\[dZ_t=\l (B_t+(0)(t)+\frac 12(1^2)(0)\r )\,dt+(1)(t)\,dB_t\]
</p>
<p>
so we obtain
</p>
<p>
\[tB_t=0B_0+\int _0^tB_u\,du+\int _0^t u\,dB_u,\]
</p>
<p>
as required.
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#ps:sde_Evar_ode"><b>13.7</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> We have \(X_t=X_0+\int _0^t 2+2s\,ds+\int _0^t B_s\,dB_s\). Taking expectations, and recalling that Ito integrals have zero mean, we obtain that
</p>
<p>
\[\E [X_t]=X_0+\int _0^t 2+2s\,ds+0=1+\l [2s+s^2\r ]_{s=0}^t=1+2t+t^2=(1+t)^2.\]
</p>
</li>
<li>


<p>
<span class="textnormal">(b)</span> From Ito’s formula,
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--


                                                                                                                                                                                  
                                                                                              dYt = 0 + (2 + 2t)(2Xt ) + 21 (Bt )2 (2) dt + Bt (2Xt ) dBt
                                                                                                                                                      
                                                                                                      = 4(1 + t)Xt + (Bt )2 dt + 2Xt Bt dBt .



-->


<p>


\begin{align*}
dY_t&amp;=\l (0+(2+2t)(2X_t)+\tfrac 12(B_t)^2(2)\r )\,dt+B_t (2X_t)\,dB_t\\ &amp;=\l (4(1+t)X_t+(B_t)^2\r )\,dt+ 2X_t B_t\,dB_t.
\end{align*}
Writing in integral form, taking expectations, and using that Ito integrals have zero mean, we obtain
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--

                                                                                                                                          Z      t                                           
                                                                                                         E[Yt ] = Y0 + E                              4(1 + s)Xt + (Bs )2 ds + 0
                                                                                                                                              0
                                                                                                                              Z       t
                                                                                                                  =1+                     4(1 + s)E[Xs ] + E[Bs2 ] ds
                                                                                                                                  0
                                                                                                                              Z       t
                                                                                                                  =1+                     4(1 + s)3 + s ds
                                                                                                                                  0
                                                                                                                              h                                   it
                                                                                                                                                               s2
                                                                                                                  = 1 + (1 + s)4 +                             2 s=0

                                                                                                                                                  t2
                                                                                                                  = (1 + t)4 +                    2




-->


<p>


\begin{align*}
\E [Y_t]&amp;=Y_0+\E \l [\int _0^t 4(1+s)X_t+(B_s)^2\,ds\r ]+0\\ &amp;=1+\int _0^t4(1+s)\E [X_s]+\E [B_s^2]\,ds\\ &amp;=1+\int _0^t4(1+s)^3+s\,ds\\ &amp;=1+\l [(1+s)^4+\tfrac
{s^2}{2}\r ]_{s=0}^t\\ &amp;=(1+t)^4+\tfrac {t^2}{2}
\end{align*}
Hence, using that \(\E [X_t^2]=\E [Y_t]\),
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--



                                                                                                                      var(X) = E[Xt2 ] − E[Xt ]2
                                                                                                                                                                      t2
                                                                                                                                      = (1 + t)4 +                    2    − (1 + t)4
                                                                                                                                              t2
                                                                                                                                      =       2.




-->


<p>


\begin{align*}
\var (X)&amp;=\E [X_t^2]-\E [X_t]^2\\ &amp;=(1+t)^4+\tfrac {t^2}{2}-(1+t)^4\\ &amp;=\tfrac {t^2}{2}.
\end{align*}


</p>


</li>
<li>


<p>
<span class="textnormal">(c)</span> If we change the \(dB_t\) coefficient then we won’t change the mean, because we can see from (a) that \(\E [X_t]\) depends only on the \(dB_t\) coefficient. However, as
we can see from part (b), the variance depends on both the \(dt\) and \(dB_t\) terms, so will typically change if we alter the \(dB_t\) coefficient.
</p>
</li>
</ul>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#ps:sde_E_ode"><b>13.8</b></a> In integral form, we have
</p>
<p>
\[X_t=X_0+\int _0^t\alpha X_u\,du+\int _0^t \sigma _u\,dB_u.\]
</p>
<p>
Taking expectations, swapping \(\int \,du\) with \(\E \), and recalling from Theorem <a href="Ito-integrals.html#t:stoch_int_final">12.2.1</a> that Ito integrals are zero mean martingales, we obtain
</p>
<p>
\[\E [X_t]=\E [X_0]+\int _0^t \alpha \E [X_u]\,du.\]
</p>
<p>
Applying the fundamental theorem of calculus, if we set \(x_t=\E [X_t]\), we obtain
</p>
<p>
\[\frac {d x_t}{dt}=\alpha x_t\]
</p>
<p>
which has solution \(x_t=Ce^{\alpha t}\). Putting in \(t=0\) shows that \(C=\E [X_0]=1\), hence
</p>
<p>
\[\E [X_t]=e^{\alpha t}.\]
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#ps:sde_Evar_ode_2"><b>13.9</b></a> We have \(X_t=X_0+\int _0^t X_s\,dB_s\). Since Ito integrals are zero mean martingales, this means that \(\E
[X_t]=\E [X_0]=1\). Writing \(Y_t=X_t^2\) and using Ito’s formula,
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--


                                                                                                                                                                          
                                                                                                 dYt = 0 + (0)(2Xt ) + 21 (Xt )2 (2) dt + (Xt )(2Xt ) dBt

                                                                                                         = (Xt2 ) dt + 2Xt2 dBt .

                                                                                                         = Yt dt + 2Yt dBt



-->


<p>


\begin{align*}
dY_t &amp;=\l (0+(0)(2X_t)+\tfrac 12(X_t)^2(2)\r )\,dt+(X_t)(2X_t)\,dB_t\\ &amp;=(X_t^2)\,dt+2X_t^2\,dB_t.\\ &amp;=Y_t\,dt+2Y_t\,dB_t
\end{align*}
Writing in integral form and taking expectations, we obtain
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--

                                                                                                                                                       Z       t
                                                                                                                          E[Yt ] = 1 +                             E[Ys ] ds + 0.
                                                                                                                                                           0



-->


<p>


\begin{align*}
\E [Y_t] &amp;=1+\int _0^t \E [Y_s]\,ds+0.
\end{align*}
Hence, by the fundamental theorem of calculus, \(f(t)=\E [Y_t]\) satisfies the differential equation \(f&apos;(t)=f(t)\). The solution of this differential equation is \(f(t)=Ae^t\). Since \(\E [Y_0]=1\) we
have \(A=1\) and thus \(\E [Y_t]=e^t\). Hence,
</p>
<p>
\[\var (X_t)=\E [X_t^2]-\E [X_t]^2=\E [Y_t]-1=e^t-1.\]
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#ps:stoch_eq_ex"><b>13.10</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> Applying Ito’s formula to \(Z_t=B_t^3\), with \(f(t,x)=x^3\), we have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--


                                                                                                                                               1
                                                                                                                                                                              
                                                                                                 dZt = 0 +             (0)(3Bt2 )             + (12 )(6Bt )                        dt + (1)(3Bt2 ) dBt
                                                                                                                                               2
                                                                                                         = 3Bt dt + 3Bt2 dt



-->


<p>


\begin{align*}
dZ_t&amp;=\l (0+(0)(3B_t^2)+\frac 12(1^2)(6B_t)\r )\,dt+(1)(3B_t^2)\,dB_t\\ &amp;=3B_t\,dt+3B_t^2\,dt
\end{align*}
and substituting in for \(Z\) we obtain
</p>
<p>
\[dZ_t=3Z_t^{1/3}\,dt+3Z_t^{2/3}\,dB_t\]
</p>
<p>
as required.
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> Another solution is the (constant, deterministic) solution \(X_t=0\).
</p>
</li>
</ul>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#ps:gbm_check"><b>13.11</b></a> Equation <span class="textup">(<a href="Geometric-Brownian-motion.html#eq:gbm_soln">13.9</a>)</span> says
that
</p>
<p>
\[X_t=X_0\exp \l ((\alpha -\tfrac 12\sigma ^2)t+\sigma B_t\r ).\]
</p>
<p>
Using Ito’s formula, with \(f(t,x)=X_0\exp \l ((\alpha -\tfrac 12\sigma ^2)t+\sigma x\r )\) we obtain
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--


                                                                                                                                        1
                                                                                                                                                                                       
                                                                                dXt = (α −                    2 σ )Xt
                                                                                                              1 2
                                                                                                                           + (0)(σXt ) + (12 )(σ 2 Xt )                                      dt + (1)(σXt )dBt
                                                                                                                                        2
                                                                                             = αXt dt + σXt dBt



-->


<p>


\begin{align*}
dX_t&amp;=\l ((\alpha -\tfrac 12\sigma ^2)X_t+(0)(\sigma X_t)+\frac 12(1^2)(\sigma ^2 X_t)\r )\,dt+\,(1)(\sigma X_t)dB_t\\ &amp;=\alpha X_t \,dt+\sigma X_t\,dB_t
\end{align*}
and thus \(X_t\) solves <span class="textup">(<a href="Geometric-Brownian-motion.html#eq:gbm">13.8</a>)</span>.
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#ps:stoch_exp_check"><b>13.12</b></a> Equation <span class="textup">(<a
href="Stochastic-exponentials-martingale-representation.html#eq:stoch_exp_pre">13.12</a>)</span> says that
</p>
<p>
\[X_t=X_0\exp \l (\int _0^t\sigma _u\,dB_u -\frac {1}{2}\int _0^t\sigma _u^2\,du\r )\]
</p>
<p>
We need to arrange this into a form where we can apply Ito’s formula. We write
</p>
<p>
\[X_t=X_0\exp \l (Y_t -\frac {1}{2}\int _0^t\sigma _u^2\,du\r )\]
</p>
<p>
where \(dY_t=\sigma _t\,dB_t\) with \(Y_0=0\). We now have \(X_t=f(t,Y_t)\) where \(f(t,y)=X_0\exp \l (y-\frac 12\int _0^t\sigma _u\,du\r )\), so from Ito’s formula (and the fundamental
theorem of calculus) we obtain
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--


                                                                                                    1                   1
                                                                                                                                                                                  
                                                                                             dXt = − σt2 Xt + (0)(Xt ) + (σt2 )(Xt )                                                   dt + (σt )(Xt ) dBt
                                                                                                    2                   2
                                                                                                     = σt Xt dBt .



-->


<p>


\begin{align*}
dX_t&amp;=\l (-\frac 12\sigma _t^2X_t+(0)(X_t)+\frac 12(\sigma _t^2)(X_t)\r )\,dt+(\sigma _t)(X_t)\,dB_t\\ &amp;=\sigma _t X_t\,dB_t.
\end{align*}
Hence, \(X_t\) solves <span class="textup">(<a href="Stochastic-exponentials-martingale-representation.html#eq:stoch_exp">13.11</a>)</span>.
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#ps:mrt_explicit"><b>13.13</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> This is essentially Example <a href="Martingales.html#ex:m2">3.3.9</a> but in continuous time. By definition of conditional expectation (i.e.&nbsp;Theorem <a
href="Conditional-expectation-martingales.html#t:cond_exp">3.1.1</a>) we have that \(M_t\in L^1\) and that \(M_t\in \mc {F}_t\). It remains only to use the tower property to note that for \(0\leq
u\leq t\) we have
</p>
<p>
\[\E [M_t|\mc {F}_u]=\E [\E [Y\|\mc {F}_t]\mc {F}_u]=\E [Y\|\mc {F}_u]=M_u.\]
</p>
</li>
<li>


<p>
<span class="textnormal">(b)</span>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(i)</span> Note that \(M_0=\E [B_T^2\|\mc {F}_0]=\E [B_T^2]=T\). We showed in Lemma <a href="Properties-Brownian-motion.html#l:bm2_mart">11.4.4</a> that
\(B_t^2-t\) was a martingale, hence
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--



                                                                                                       E[BT2 | Ft ] = E[BT2 − T + T | Ft ]

                                                                                                                           = Bt2 − t + T




-->


<p>


\begin{align*}
\E [B_T^2\|\mc {F}_t] &amp;=\E [B_T^2-T+T\|\mc {F}_t]\\ &amp;=B_t^2-t+T\\
\end{align*}
Using <span class="textup">(<a href="Stochastic-differential-equations.html#eq:intBtBt">13.6</a>)</span>, this gives us that
</p>
<p>
\[\E [B_T^2\|\mc {F}_t]=2\int _0^tB_u\,dB_u+t-t+T\]
</p>
<p>
so we obtain
</p>
<p>
\[M_t=T+\int _0^t 2B_u\,dB_u\]
</p>
<p>
and we can take \(h_t=2B_t\).
</p>


</li>
<li>


<p>
<span class="textnormal">(ii)</span> Note that \(M_0=\E [B_T^3\|\mc {F}_0]=\E [B_T^3]=0\). We showed in <a href="Exercises-on-Chapter-ref-c-bm.html#ps:mart_bm"><b>11.6</b></a> that
\(B_t^3-3tB-t\) was a martingale. Hence,
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--



                                                                                                 E[BT3 | Ft ] = E[BT3 − 3T BT + 3T BT | Ft ]

                                                                                                             = Bt3 − 3tBt + 3T Bt .



-->


<p>


\begin{align*}
\E [B_T^3\|\mc {F}_t]&amp;=\E [B_T^3-3TB_T+3TB_T\|\mc {F}_t]\\ &amp;=B_t^3-3tB_t+3TB_t.
\end{align*}
Using Ito’s formula on \(Z_t=B_t^3\), we obtain \(dZ_t=\l \{0+(0)(3B_t^2)+\frac 12(1^2)(6B_t)\r \}\,dt+(1)(3B_t^2)\,dB_t\) so as
</p>
<p>
\[B_t^3=0+\int _0^t3B_u\,du+\int _0^t3B_u^2\,dB_u.\]
</p>
<p>
Also, from <a href="Exercises-on-Chapter-ref-c-sdes.html#ps:inttBt"><b>13.6</b></a> we have
</p>
<p>
\[tB_t=\int _0^tB_u\,du+\int _0^t u\,dB_u,\]
</p>
<p>
so as
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--

                                                                                    Z        t               Z     t                        Z      t                      Z   t       
                                                                 E[BT3 | Ft ] = 3                Bu du + 3             Bu2 dBu − 3                       Bu du +                   u dBu + 3T Bt
                                                                                        0                      0                                0                          0
                                                                                    Z        t                   Z         t                 Z       t
                                                                            =3                   Bu2   dBu − 3                 u dBu + 3T                1 dBu
                                                                                         0                             0                         0
                                                                                Z       t
                                                                            =            3Bu2 − 3u + 3T dBu .
                                                                                    0



-->


<p>


\begin{align*}
\E [B_T^3\|\mc {F}_t] &amp;=3\int _0^tB_u\,du+3\int _0^tB_u^2\,dB_u-3\l (\int _0^tB_u\,du+\int _0^t u\,dB_u\r )+3TB_t\\ &amp;=3\int _0^tB_u^2\,dB_u-3\int _0^t u\,dB_u+3T\int
_0^t1\,dB_u\\ &amp;=\int _0^t3B_u^2-3u+3T\,dB_u.
\end{align*}
We can take \(h_t=3B_t^2-3t+3T\).
</p>


</li>
<li>


<p>
<span class="textnormal">(iii)</span> Note that \(M_0=\E [e^{\sigma B_T}\|\mc {F}_0]=\E [e^{\sigma B_T}]=e^{\frac 12\sigma ^2T}\) by <span class="textup">(<a
href="Brownian-motion-definition.html#eq:lognormal_mean">11.2</a>)</span> and the scaling properties of normal random variables. We showed in <a
href="Exercises-on-Chapter-ref-c-bm.html#ps:mart_bm"><b>11.6</b></a> that \(e^{\sigma B_t-\frac 12\sigma ^2t}\) was a martingale. Hence,
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--


                                                                                                                                        1   2            1   2T
                                                                                                  E[eσBT | Ft ] = E[eσBT − 2 σ T e 2 σ                            | Ft ]
                                                                                                                                    1   2   1    2T
                                                                                                                       = eσBt − 2 σ t e 2 σ
                                                                                                                                    1   2 (T −t)
                                                                                                                       = eσBt − 2 σ                  .



-->


<p>


\begin{align*}
\E [e^{\sigma B_T}\|\mc {F}_t] &amp;=\E [e^{\sigma B_T-\frac 12\sigma ^2T}e^{\frac 12\sigma ^2T}\|\mc {F}_t]\\ &amp;=e^{\sigma B_t-\frac 12\sigma ^2t}e^{\frac 12\sigma ^2T}\\
&amp;=e^{\sigma B_t-\frac 12\sigma ^2(T-t)}.
\end{align*}
Applying Ito’s formula to \(Z_t=e^{\sigma B_t-\frac 12\sigma ^2(T-t)}\) gives that
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--


                                                                               1                    1
                                                                                                                                                            
                                                                        dZt = − σ 2 Zt + (0)(σZt ) + (12 )(σ 2 Zt )                                              dt + (1)(σZt ) dBt
                                                                               2                    2
                                                                            = σZt dBt



-->


<p>


\begin{align*}
dZ_t&amp;=\l (-\frac 12\sigma ^2Z_t+(0)(\sigma Z_t)+\frac 12(1^2)(\sigma ^2 Z_t)\r )\,dt+(1)(\sigma Z_t)\,dB_t\\ &amp;=\sigma Z_t dB_t
\end{align*}
so we obtain that
</p>
<p>
\[Z_t=Z_0+\int _0^t\sigma Z_u\,dB_u.\]
</p>
<p>
Substituting in for \(Z_t\) we obtain
</p>
<p>
\[\E [e^{\sigma B_T}\|\mc {F}_t]=e^{\frac 12\sigma ^2T}+\int _0^t\sigma Z_u\,dB_u\]
</p>
<p>
so we can take \(h_t=\sigma Z_t=\sigma e^{\sigma B_t-\frac 12\sigma ^2(T-t)}\).
</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<!--
......   subsection Chapter <a href=Stochastic-processes-in-continuous-time.html#c:stoch_procs_3>14</a> ......
-->
<h5 id="autosec-235">Chapter <a href="Stochastic-processes-in-continuous-time.html#c:stoch_procs_3">14</a></h5>
<a id="notes_2-autopage-235"></a>



<ul style="list-style-type:none">


<li>
<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#ps:fk_1"><b>14.1</b></a> We have \(\alpha (t,x)=-2t\), \(\beta =0\) and \(\Phi (x)=e^x\). By Lemma <a
href="Stochastic-processes-in-continuous-time.html#l:fk_1">14.1.2</a> the solution is given by
</p>
<p>
\[F(t,x)=\E _{t,x}[e^{X_T}]\]
</p>
<p>
where \(dX_u=-2u\,du+0\,dB_u=\,du\). This gives
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--

                                                                                                                   Z      T
                                                                                                  XT = Xt −                   2u du
                                                                                                                      t

                                                                                                      = Xt − T 2 + t2 .



-->


<p>


\begin{align*}
X_T&amp;=X_t-\int _t^T2u\,du\\ &amp;=X_t-T^2+t^2.
\end{align*}
Hence,
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--


                                                                                                                       h                    2
                                                                                                                                                i
                                                                                                  F (t, x) = Et,x eXt −t
                                                                                                                  h               2 +t2
                                                                                                                                                i
                                                                                                          = E ex−T
                                                                                                                              2 +t2
                                                                                                          = ex e−T                      .



-->


<p>


\begin{align*}
F(t,x)&amp;=\E _{t,x}\l [e^{X_t-t^2}\r ]\\ &amp;=\E \l [e^{x-T^2+t^2}\r ]\\ &amp;=e^{x}e^{-T^2+t^2}.
\end{align*}
Here we use that \(X_t=x\) under \(\E _{t,x}\).
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#ps:fk_2"><b>14.2</b></a> We have \(\alpha =\beta =1\) and \(\Phi (x)=x^2\). By Lemma <a
href="Stochastic-processes-in-continuous-time.html#l:fk_1">14.1.2</a> the solution is given by
</p>
<p>
\[F(t,x)=\E _{t,x}\l [X_T^2\r ]\]
</p>
<p>
where \(dX_u=du+dB_u\). This gives
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--

                                                                                                         Z    T               Z     T
                                                                                            XT = Xt +             du +                      dBu
                                                                                                          t                     t

                                                                                                = Xt + (T − t) + (BT − Bt ).



-->


<p>


\begin{align*}
X_T&amp;=X_t+\int _t^T\,du+\int _t^T\,dB_u\\ &amp;=X_t+(T-t)+(B_T-B_t).
\end{align*}
Hence,
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--



                                                             F (t, x) = Et,x [(Xt + (T − t) + (BT − Bt ))2 ]
                                                                         h                                                                                                        i
                                                                     = E x2 + (T − t)2 + (BT − Bt )2 + 2x(T − t) + 2x(BT − Bt ) + 2(T − t)(BT − Bt )

                                                                     = x2 + (T − t)2 + (T − t) + 2x(T − t).



-->


<p>


\begin{align*}
F(t,x)&amp;=E_{t,x}[\l (X_t+(T-t)+(B_T-B_t)\r )^2]\\ &amp;=\E \l [x^2+(T-t)^2+(B_T-B_t)^2+2x(T-t)+2x(B_T-B_t)+2(T-t)(B_T-B_t)\r ]\\ &amp;=x^2+(T-t)^2+(T-t)+2x(T-t).
\end{align*}
Here we use that \(X_t=x\) under \(\E _{t,x}\) and that \(B_T-B_t\sim B_{T-t}\sim N(0,T-t).\)
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#ps:fk_gamma"><b>14.3</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> We have \(Z_t=F(t,X_t)+\gamma (t)\), where \(dX_t=\alpha (t,x)\,dt+\beta (t,x)\,dB_t\), so
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--


                                                                                                           1
                                                                                                                                                    !
                                                                               ∂F     ∂γ               ∂F           ∂2F                                                ∂F
                                                                       dZt =       +     (t) + α(t, x)    + β(t, x)2 2                                  dt + β(t, x)      dBt
                                                                               ∂t     ∂t               ∂x  2        ∂x                                                 ∂x
                                                                                     ∂F
                                                                           = β(t, x)    dBt
                                                                                     ∂x


-->


<p>


\begin{align*}
dZ_t&amp;=\l (\frac {\p F}{\p t}+\frac {\p \gamma }{\p t}(t)+\alpha (t,x)\frac {\p F}{\p x}+\frac 12\beta (t,x)^2\frac {\p ^2 F}{\p x^2}\r )\,dt+\beta (t,x)\frac {\p F}{\p
x}\,dB_t\\ &amp;=\beta (t,x)\frac {\p F}{\p x}\,dB_t
\end{align*}
where as usual we have suppressed the \((t,X_t)\) arguments of \(F\) and its partial derivatives. Note that the term in front of the \(dt\) is zero because \(F\) satisfies <span class="textup">(<a
href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#eq:fk_gamma_1">14.8</a>)</span>.
</p>
</li>
<li>


<p>
<span class="textnormal">(b)</span> We use the same strategy as in the proof of Lemma <a href="Stochastic-processes-in-continuous-time.html#l:fk_1">14.1.2</a>. Writing out \(dZ_t\) in integral
form over time interval \([t,T]\) we obtain
</p>
<p>
\[Z_T=Z_t+\int _t^T\beta (u,x)\frac {\p F}{\p x}\,dB_u.\]
</p>
<p>
Taking expectations \(\E _{t,x}\) gives us
</p>
<p>
\[\E _{t,x}\l [F(T,X_T)+\gamma (T)\r ]=\E _{t,x}[F(t,X_t)+\gamma (t)]\]
</p>
<p>
and noting that \(X_t=x\) under \(\E _{t,x}\), we have
</p>
<p>
\[\E _{x,t}\l [F(T,X_T)\r ]+\gamma (T)=F(t,x)+\gamma (t).\]
</p>
<p>
Using <span class="textup">(<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#eq:fk_gamma_2">14.9</a>)</span> we have \(F(T,X_T)=\Phi (X_T)\) and we obtain
</p>
<p>
\[\E _{x,T}[\Phi (X_T)]+\gamma (T)-\gamma (t)=F(t,x)\]
</p>
<p>
as required.
</p>
</li>
</ul>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#ps:non_markov"><b>14.4</b></a> Consider (for example) the stochastic process
</p>
<p>
\[M_t= \begin {cases} B_t &amp; \text { for } t\leq 1,\\ B_t-B_{t-2} &amp; \text { for }t&gt; 1.                                                \end {cases} \]
</p>
<p>
We now consider \(M_t\) at time \(3\). The intuition is that \(\E [M_{3}\|\mc {F}_2]\) can see the value of \(B_1\), but that \(\sigma (M_2)=\sigma (B_2)\) and \(\E [M_{3}\|\sigma (M_2)]\) cannot see
the value of \(B_1\).
</p>
<p>
Formally: we have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{3}\)</span>


<!--



                                                                                              E[M3 | F2 ] = E[B3 − B1 | F2 ]

                                                                                                          = B2 − B1                                                       (C.4)       --><a id="eq:non_markov_1"></a><!--



-->


<p>


\begin{align}
\E [M_{3}\|\mc {F}_2] &amp;=\E [B_{3}-B_{1}\|\mc {F}_2]\notag \\ &amp;=B_2-B_1\label {eq:non_markov_1}
\end{align}
Here, we use that \(B_t\) is a martingale. However,
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{4}\)</span>


<!--



                                                                             E2,M2 [M3 ] = E[B3 − B1 | σ(M2 )]

                                                                                       = E[B3 − B1 | σ(B2 − B0 )]

                                                                                       = E[B3 − B1 | σ(B2 )]

                                                                                       = E[B3 − B2 | σ(B2 )] + E[B2 | σ(B2 )] − E[B1 | σ(B2 )]

                                                                                       = E[B3 − B2 ] + B2 − E[B1 | σ(B2 )]

                                                                                       = 0 + B2 − E[B1 | σ(B2 )]

                                                                                                        2 )]
                                                                                       = B2 − E[B1 | σ(B(C.5)                                                                         --><a id="eq:non_markov_2"></a><!--



-->


<p>


\begin{align}
\E _{2,M_2}[M_{3}] &amp;=\E [B_{3}-B_{1}\|\sigma (M_2)]\notag \\ &amp;=\E [B_{3}-B_{1}\|\sigma (B_2-B_{0})]\notag \\ &amp;=\E [B_{3}-B_{1}\|\sigma (B_2)]\notag \\ &amp;=\E
[B_{3}-B_2\|\sigma (B_2)]+\E [B_2\|\sigma (B_2)]-\E [B_{1}\|\sigma (B_2)]\notag \\ &amp;=\E [B_{3}-B_2]+B_2-\E [B_{1}\|\sigma (B_2)]\notag \\ &amp;=0+B_2-\E [B_{1}\|\sigma
(B_2)]\notag \\ &amp;=B_2-\E [B_{1}\|\sigma (B_2)]\label {eq:non_markov_2}
\end{align}
If we can show that <span class="textup">(<a href="Solutions-exercises-part-two.html#eq:non_markov_1">C.4</a>)</span> and <span class="textup">(<a
href="Solutions-exercises-part-two.html#eq:non_markov_2">C.5</a>)</span> are not equal, then we have that \(M_t\) is not Markov. Their difference is \(D=\eqref {eq:non_markov_1}-\eqref
{eq:non_markov_2}=\E [B_1\|\sigma (B_2)]-B_1\).
</p>
<p>
We can write \(B_2=(B_2-B_1)+(B_1-B_0)\). By the properties of Brownian motion, \(B_2-B_1\) and \(B_1-B_0\) are independent and identically distributed. Hence, by symmetry, \(\E [B_2-B_1\|\sigma
(B_2)]=\E [B_1-B_0\|\sigma (B_2)]\) and since
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{5}\)</span>


<!--



                                                                             B2 = E[B2 | σ(B2 )] = E[B2 − B1 | σ(B2 )] + E[B1 − B0 | σ(B2 )]



-->


<p>


\begin{align*}
B_2&amp;=\E [B_2\|\sigma (B_2)] =\E [B_2-B_1\|\sigma (B_2)]+\E [B_1-B_0\|\sigma (B_2)]
\end{align*}
we have that \(\E [B_2-B_1\|\sigma (B_2)]=\frac {B_2}{2}\). Hence
</p>
<p>
\[D=\frac {B_2}{2}-B_1\]
</p>
<p>
which is non-zero.
</p>
<p>


</p>
</li>
</ul>
<!--
......    subsection Chapter <a href=The-Black-Scholes-model.html#c:bs>15</a> ......
-->
<h5 id="autosec-236">Chapter <a href="The-Black-Scholes-model.html#c:bs">15</a></h5>
<a id="notes_2-autopage-236"></a>



<ul style="list-style-type:none">


<li>
<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#ps:bs_explicit"><b>15.1</b></a> We have
</p>
<p>
\[\frac {\p f}{\p t}=0,\quad \frac {\p f}{\p s}=c,\quad \frac {\p ^2 f}{\p x^2}=0\]
</p>
<p>
which, put into <span class="textup">(<a href="The-Black-Scholes-equation.html#eq:bs_eq">15.10</a>)</span>, gives \((0)+rs(c)+\frac 12s^2\sigma ^2(0)-r(cs)=0\). Similarly,
</p>
<p>
\[\frac {\p g}{\p t}=rce^{rt},\quad \frac {\p g}{\p s}=0,\quad \frac {\p ^2 g}{\p x^2}=0\]
</p>
<p>
which, put into <span class="textup">(<a href="The-Black-Scholes-equation.html#eq:bs_eq">15.10</a>)</span>, gives \((rce^{rt})+rs(0)+\frac 12s^2\sigma ^2(0)-r(ce^{rt})=0\).
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#ps:pricing_simplest"><b>15.2</b></a> We have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{5}\)</span>


<!--



                                                                                                 e−r(T −t) EQ [Φ(ST ) | Ft ] = e−r(T −t) EQ [K]

                                                                                                                                                = Ke−r(T −t)




-->


<p>


\begin{align*}
e^{-r(T-t)}\E ^\Q \l [\Phi (S_T)\|\mc {F}_t\r ] &amp;=e^{-r(T-t)}\E ^\Q \l [K\r ]\\ &amp;=Ke^{-r(T-t)}\\
\end{align*}
because \(K\) is deterministic. By Theorem <a href="The-Black-Scholes-equation.html#t:bs_repl">15.3.1</a> this is the price of the contingent claim \(\Phi (S_T)\) at time \(t\).
</p>
<p>
<i>We can hedge the contingent claim \(K\) simply by holding \(Ke^{-rT}\) cash at time \(0\), and then waiting until time \(T\). While we wait, the cash increases in value according to <span
class="textup">(<a href="The-Black-Scholes-model.html#eq:cash_price">15.2</a>)</span> i.e.&nbsp;at continuous rate \(r\). So, this answer is not surprising.</i>
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#ps:pricing_log"><b>15.3</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> By Theorem <a href="The-Black-Scholes-equation.html#t:bs_repl">15.3.1</a> the price of the contingent claim \(\Phi (S_T)=\log (S_T)\) at time \(t\) is
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{5}\)</span>


<!--



                                                                                          e−r(T −t) EQ [Φ(ST ) | Ft ] = e−r(T −t) EQ [log(ST ) | Ft ] .



-->


<p>


\begin{align*}
e^{-r(T-t)}\E ^\Q \l [\Phi (S_T)\|\mc {F}_t\r ] &amp;=e^{-r(T-t)}\E ^\Q \l [\log (S_T)\|\mc {F}_t\r ].
\end{align*}
Recall that, under \(\Q \), \(S_t\) is a geometric Brownian motion, with \(S_0=0\), drift \(r\) and volatility \(\sigma \). So from <span class="textup">(<a
href="The-Black-Scholes-formula.html#eq:gbm_tT">15.20</a>)</span> we have \(S_T=S_te^{(r-\frac 12\sigma ^2)t+\sigma B_t}\). Hence,
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{5}\)</span>


<!--


                                                                                                                          h                                                                             i
                                                                    e−r(T −t) EQ [log(ST ) | Ft ] = e−r(T −t) EQ log(St ) + (r − 21 σ 2 )(T − t) + σ(BT − Bt ) | Ft
                                                                                                                                                                                                          
                                                                                                 = e−r(T −t) log(St ) + (r − 12 σ 2 )(T − t) + σ EQ [BT | Ft ] − Bt
                                                                                                                                                                              
                                                                                                 = e−r(T −t) log(St ) + (r − 12 σ 2 )(T − t) .



-->


<p>


\begin{align*}
e^{-r(T-t)}\E ^\Q \l [\log (S_T)\|\mc {F}_t\r ] &amp;=e^{-r(T-t)}\E ^\Q \l [\log (S_t)+(r-\tfrac 12\sigma ^2)(T-t)+\sigma (B_T-B_t)\|\mc {F}_t\r ]\\ &amp;=e^{-r(T-t)}\l (\log
(S_t)+(r-\tfrac 12\sigma ^2)(T-t)+\sigma \l (\E ^\Q [B_T\|\mc {F}_t]-B_t\r )\r )\\ &amp;=e^{-r(T-t)}\l (\log (S_t)+(r-\tfrac 12\sigma ^2)(T-t)\r ).
\end{align*}
Here, we use that \(S_t,B_t\) are \(\mc {F}_t\) measurable, and that \((B_t)\) is a martingale.
</p>
<p>
Putting in \(t=0\) we obtain
</p>
<p>
\[e^{-rT}\l (\log (S_0)+(r-\tfrac 12\sigma ^2)T\r ),\]
</p>
</li>
<li>


<p>
<span class="textnormal">(b)</span> The strategy could be summarised as ‘write down \(\Phi (S_T)\), replace \(T\) with \(t=0\) and hope’. The problem is that if we buy \(\log s\) units of stock at time
\(0\), then from <span class="textup">(<a href="The-Black-Scholes-formula.html#eq:gbm_tT">15.20</a>)</span> (with \(t=0\)) its value at time \(T\) will be \((\log s)\exp ((r-\frac 12\sigma
^2)T+\sigma B_T)\), which is not equal to \(\log S_T=\log s+(r-\frac 12\sigma ^2)T+\sigma B_T\).
</p>
<p>
<i>(In more formal terminology, the problem is that our excitable mathematician has assumed, incorrectly, that the \(\log \) function and the ‘find the price’ function commute with each other.)</i>
</p>
</li>
</ul>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#ps:pricing_gbm_beta"><b>15.4</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> We have (in the risk neutral-world \(\Q \)) that \(dS_t=rS_t\,dt+\sigma S_t\,dB_t\). Hence, by Ito’s formula,
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{5}\)</span>


<!--


                                                                                                                   1
                                                                                                                                                                      
                                                                            dYt = (0) +      rSt (βStβ−1 )        + σ 2 St2 (β(β − 1)Stβ−2 )                               dt + σSt (βStβ−1 )dBt
                                                                                                                   2
                                                                                                                
                                                                                 = rβ + 12 σ 2 β(β − 1) Yt dt + (σβ)Yt dBt .



-->


<p>


\begin{align*}
dY_t&amp;=\l ((0)+rS_t(\beta S_t^{\beta -1})+\frac 12\sigma ^2S_t^2(\beta (\beta -1)S_t^{\beta -2})\r )\,dt+\sigma S_t (\beta S_t^{\beta -1})dB_t\\ &amp;=\l (r\beta +\tfrac
12\sigma ^2\beta (\beta -1)\r )Y_t\,dt+(\sigma \beta )Y_t\,dB_t.
\end{align*}
So \(Y_t\) is a geometric Brownian motion with drift \(r\beta +\frac 12\sigma ^2\beta (\beta -1)\) and volatility \(\sigma \beta \).
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> Applying <span class="textup">(<a href="The-Black-Scholes-formula.html#eq:gbm_tT">15.20</a>)</span> and replacing the drift and volatility with those from
part (a), we have that
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{5}\)</span>


<!--


                                                                                                                                                                                            
                                                                               YT = Yt exp         rβ + 12 σ 2 β(β − 1) − 12 σ 2 β 2 (T − t) + σβ(BT − Bt )
                                                                                                                                                                        
                                                                                   = Yt exp        rβ − 21 σ 2 β (T − t) + σβ(BT − Bt ) .



-->


<p>


\begin{align*}
Y_T &amp;=Y_t\exp \l (\l (r\beta +\tfrac 12\sigma ^2\beta (\beta -1)-\tfrac 12\sigma ^2\beta ^2\r )(T-t)+\sigma \beta (B_T-B_t)\r )\\ &amp;=Y_t\exp \l (\l (r\beta -\tfrac
12\sigma ^2\beta \r )(T-t)+\sigma \beta (B_T-B_t)\r ).
\end{align*}
By Theorem <a href="The-Black-Scholes-equation.html#t:bs_repl">15.3.1</a>, the arbitrage free price of the contingent claim \(Y_t=\Phi (S_T)\) at time \(t\) is
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{5}\)</span>


<!--


                                                                                                                     h                                                                                  i
                                                                     e−r(T −t) EQ [YT | Ft ] = e−r(T −t) EQ Stβ exp                            rβ − 12 σ 2 β (T − t) + σβ(BT − Bt ) | Ft
                                                                                                                              1       2 β)(T −t)
                                                                                                                                                          h                        i
                                                                                             = e−r(T −t) Stβ e(rβ− 2 σ                             EQ eσβ(BT −Bt ) | Ft
                                                                                                                              1       2 β)(T −t)
                                                                                                                                                          h                    i
                                                                                             = e−r(T −t) Stβ e(rβ− 2 σ                             EQ eσβ(BT −Bt )
                                                                                                                              1       2 β)(T −t)      1   2 β 2 (T −t)
                                                                                             = e−r(T −t) Stβ e(rβ− 2 σ                             e2σ
                                                                                                                                  1       2 β(T −t)(1−β)
                                                                                             = Stβ e−r(T −t)(1−β)− 2 σ                                        .



-->


<p>


\begin{align*}
e^{-r(T-t)}\E ^\Q \l [Y_T\|\mc {F}_t\r ] &amp;=e^{-r(T-t)}\E ^\Q \l [S_t^\beta \exp \l (\l (r\beta -\tfrac 12\sigma ^2\beta \r )(T-t)+\sigma \beta (B_T-B_t)\r )\|\mc {F}_t\r ]\\
&amp;=e^{-r(T-t)}S_t^\beta e^{(r\beta -\frac 12\sigma ^2\beta )(T-t)}\E ^\Q \l [e^{\sigma \beta (B_T-B_t)}\|\mc {F}_t\r ]\\ &amp;=e^{-r(T-t)}S_t^\beta e^{(r\beta -\frac 12\sigma
^2\beta )(T-t)}\E ^\Q \l [e^{\sigma \beta (B_T-B_t)}\r ]\\ &amp;=e^{-r(T-t)}S_t^\beta e^{(r\beta -\frac 12\sigma ^2\beta )(T-t)}e^{\frac 12\sigma ^2\beta ^2(T-t)}\\
&amp;=S_t^\beta e^{-r(T-t)(1-\beta )-\frac 12\sigma ^2\beta (T-t)(1-\beta )}.
\end{align*}
Here, we use that \(S_t\) is \(\mc {F}_t\) measurable. We then use <span class="textup">(<a href="Brownian-motion-definition.html#eq:lognormal_mean">11.2</a>)</span> along with the properties
of Brownian motion to tell us that \(\sigma \beta (B_T-B_t)\) is independent of \(\mc {F}_t\) with distribution \(N(0,\sigma ^2\beta ^2(T-t))\).
</p>
</li>
</ul>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#ps:pricing_binary"><b>15.5</b></a> From Theorem <a href="The-Black-Scholes-equation.html#t:bs_repl">15.3.1</a> the price at time \(t\) of the
binary option is
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{5}\)</span>


<!--



                                                                                                                                                                      1{ST ∈[α,β]} | Ft
                                                                                                                                                                  h                       i
                                                                                        e−r(T −t) EQ [Φ(ST ) | Ft ] = Ke−r(T −t) EQ




-->


<p>


\begin{align*}
e^{-r(T-t)}\E ^\Q \l [\Phi (S_T)\|\mc {F}_t\r ] &amp;=Ke^{-r(T-t)}\E ^\Q \l [\1_{\{S_T\in [\alpha ,\beta ]\}}\|\mc {F}_t\r ]\\
\end{align*}
We have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{5}\)</span>


<!--


                                                                                                                                      1    2 )(T −t)+σ(B −B )
                                                                                                        ST = St e(r− 2 σ                                T  t


                                                                                                                                      1    2 )(T −t)+σ
                                                                                                                                                          √
                                                                                                                 = St e(r− 2 σ                             T −tZ




-->


<p>


\begin{align*}
S_T&amp;=S_te^{(r-\frac 12\sigma ^2)(T-t)+\sigma (B_T-B_t)}\\ &amp;=S_t e^{(r-\frac 12\sigma ^2)(T-t)+\sigma \sqrt {T-t} Z}
\end{align*}
where \(Z\sim N(0,1)\) is independent of \(\mc {F}_t\). Here we use that \(B_T-B_t\sim N(0,T-t)\sim \sqrt {T-t}N(0,1)\) is independent of \(\mc {F}_t\). Therefore,
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{5}\)</span>


<!--

                                                                                                                                                                 

                                                                    1{ST ∈[α,β]} | Ft = EQ 1n
                                                                h                  i
                                                           EQ                                              1 2 )(T −t)+σ √T −tZ
                                                                                                                                                      o F
                                                                                                                                                         t
                                                                                                   St e(r− 2 σ                               ∈[α,β]
                                                                                                                                                                                                   
                                                                                                log α − r + 1 σ 2 (T − t)     log                                                            r + 12 σ 2 t 
                                                                                                                                                                                                                   
                                                                                                                                   β
                                                                                                                                    St −
                                                                                       = EQ 1
                                                                                                     St      2
                                                                                                         √                 ≤Z≤         √                                                                         Ft 
                                                                                                       σ T −t                        σ T                                                     −t           
                                                                                                                                                                                                   
                                                                                                log α − r + 1 σ 2 (T − t)     log  β
                                                                                                                                                                                              r + 12 σ 2 t 
                                                                                                                  
                                                                                                                                    St −
                                                                                       =E 1
                                                                                                     St      2
                                                                                          Q
                                                                                                         √                 ≤Z≤         √                                                                     
                                                                                                       σ T −t                        σ T                                                     −t           

                                                                                       = N (e2 ) − N (e1 )



-->


<p>


\begin{align*}
\E ^\Q \l [\1_{\{S_T\in [\alpha ,\beta ]\}}\|\mc {F}_t\r ] &amp;=\E ^\Q \l [\1_{\l \{S_t e^{(r-\frac 12\sigma ^2)(T-t)+\sigma \sqrt {T-t} Z}\in [\alpha ,\beta ]\r \}}\,\Big
|\,\mc {F}_t\r ]\\ &amp;=\E ^\Q \l [\1\l \{\frac {\log \l (\frac {\alpha }{S_t}\r )-\l (r+\frac 12\sigma ^2\r )(T-t)}{\sigma \sqrt {T-t}}\leq Z\leq \frac {\log \l (\frac {\beta
}{S_t}\r )-\l (r+\frac 12\sigma ^2\r )t}{\sigma \sqrt {T-t}}\r \}\,\Bigg |\,\mc {F}_t\r ]\\ &amp;=\E ^\Q \l [\1\l \{\frac {\log \l (\frac {\alpha }{S_t}\r )-\l (r+\frac 12\sigma
^2\r )(T-t)}{\sigma \sqrt {T-t}}\leq Z\leq \frac {\log \l (\frac {\beta }{S_t}\r )-\l (r+\frac 12\sigma ^2\r )t}{\sigma \sqrt {T-t}}\r \}\r ]\\ &amp;=\mc {N}(e_2)-\mc {N}(e_1)
\end{align*}
where
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{5}\)</span>


<!--

                                                                                                                             
                                                                                                             log         α
                                                                                                                                  − r + 12 σ 2 (T − t)
                                                                                                                                                          
                                                                                                                         St
                                                                                                     e1 =                           √
                                                                                                                                   σ T −t
                                                                                                                             
                                                                                                             log         β
                                                                                                                                  − r + 12 σ 2 (T − t)
                                                                                                                                                          
                                                                                                                         St
                                                                                                     e2 =                           √                  .
                                                                                                                                   σ T −t


-->


<p>


\begin{align*}
e_1&amp;=\frac {\log \l (\frac {\alpha }{S_t}\r )-\l (r+\frac 12\sigma ^2\r )(T-t)}{\sigma \sqrt {T-t}}\\ e_2&amp;=\frac {\log \l (\frac {\beta }{S_t}\r )-\l (r+\frac 12\sigma
^2\r )(T-t)}{\sigma \sqrt {T-t}}.
\end{align*}
Hence the price at time \(t\) is given by \(Ke^{r(T-t)}\l [\mc {N}(e_1)-\mc {N}(e_2)\r ].\)
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#ps:P_mart_bs"><b>15.6</b></a> If we take \(F_t=e^{\mu t}\) then (in world \(\P \)) we have
</p>
<p>
\[\frac {S_t}{F_t}=\frac {S_0\exp \l (\l (\mu -\tfrac 12\sigma ^2\r )t+\sigma B_t\r )}{\exp \l (\mu t\r )}=S_0\exp \l (\sigma B_t-\frac 12\sigma ^2 t\r ),\]
</p>
<p>
which we showed was a martingale in <a href="Exercises-on-Chapter-ref-c-bm.html#ps:mart_bm"><b>11.6</b></a>.
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#ps:pricing_linear"><b>15.7</b></a> We have the risk neutral pricing formula \(\Pi _t(\Phi )=e^{-r(T-t)}\E ^\Q _{t,S_t}[\Phi (S_T)]\) for any
contingent claim \(\Phi \). Hence, using linearity of \(\E ^\Q \),
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{5}\)</span>


<!--



                                                                                                             t,St [αΦ1 (ST ) + βΦ2 (ST )]
                                                                                Πt (αΦ1 + βΦ2 ) = e−r(T −t) EQ

                                                                                                                  t,St [Φ1 (ST )] + βe
                                                                                                    = αe−r(T −t) EQ                            Et,St [Φ2 (ST )]
                                                                                                                                       −r(T −t) Q


                                                                                                    = αΠt (Φ1 ) + βΠt (Φ2 )



-->


<p>


\begin{align*}
\Pi _t(\alpha \Phi _1+\beta \Phi _2) &amp;=e^{-r(T-t)}\E ^\Q _{t,S_t}\l [\alpha \Phi _1(S_T)+\beta \Phi _2(S_T)\r ]\\ &amp;=\alpha e^{-r(T-t)}\E ^\Q _{t,S_t}\l [\Phi _1(S_T)\r
]+\beta e^{-r(T-t)}\E ^\Q _{t,S_t}\l [\Phi _2(S_T)\r ]\\ &amp;=\alpha \Pi _t(\Phi _1)+\beta \Pi _t(\Phi _2)
\end{align*}
as required.
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#ps:excitable"><b>15.8</b></a> In the ‘new’ model we could indeed buy a unit of \(Y_t=S_t^\beta \) and hold onto it for as long as we liked. But in the
‘old’ model we can only buy (linear multiples of) the stock \(S_t\); we can’t buy a commodity whose price at time \(t\) is \(S_t^\beta \). This means that the hedging strategy suggested within the ‘new’ model
doesn’t work within the ‘old’ model. Consequently, there is no reason to expect that prices in the two models will be equal. In general they will not be.
</p>
<p>


</p>
</li>
</ul>
<!--
......   subsection Chapter <a href=Application-extension-Black-Scholes-model.html#c:bs_extensions>16</a> ......
-->
<h5 id="autosec-237">Chapter <a href="Application-extension-Black-Scholes-model.html#c:bs_extensions">16</a></h5>
<a id="notes_2-autopage-237"></a>



<ul style="list-style-type:none">


<li>
<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#ps:put-call"><b>16.1</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> The functions \(\Phi ^{cash}(S_T)=1\), \(\Phi ^{stock}(S_T)=S_T\), \(\Phi ^{call}(S_T)=\max (S_T-K,0)\) and \(\Phi ^{put}(S_T)=\max (K-S_T,0)\) look
like:
</p>
<div class="center">
<p>


<a href="put_call_parity_terms.jpg" target="_blank" ><img
      src="put_call_parity_terms.jpg"
      style="
      width:173pt;
      "
      class="inlineimage"
      alt="(A plot of the payoff functions)"
></a>
</p>
</div>
</li>
<li>


<p>
<span class="textnormal">(b)</span> In terms of functions, the put-call parity relation states that
</p>
<p>
\[\max (K-S_T,0)=\max (S_T-K)+K-S_T.\]
</p>
<p>
To check that this holds we consider two cases.
</p>
<ul style="list-style-type:none">


<li>
<p>
• If \(K\leq S_T\) then put-call parity states that \(0=S_T-K+K-S_T\), which is true.
</p>


</li>
<li>


<p>
• If \(K\geq S_T\) then put-call parity states that \(K-S_T=0+K-S_T\), which is true.
</p>
</li>
</ul>
</li>
</ul>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#ps:put_price"><b>16.2</b></a> The put-call parity relation <span class="textup">(<a
href="Application-extension-Black-Scholes-model.html#eq:put-call">16.1</a>)</span> says that
</p>
<p>
\[\Phi ^{put}(S_T)=\Phi ^{call}(S_T)+K\Phi ^{cash}(S_T) -\Phi ^{stock}(S_T).\]
</p>
<p>
Hence,
</p>
<p>
\[\Pi ^{put}_t=\Pi ^{call}_t+K\Pi ^{cash}_t-\Pi ^{stock}_t.\]
</p>
<p>
From here, using that \(\Pi ^{cash}_t=e^{-r(T-t)}\) (corresponding to \(\Phi (S_T)=1\)) and \(\Pi ^{stock}_t=S_t\) (corresponding to \(\Phi (S_T)=S_T\)), as well as the Black-Scholes formula <span
class="textup">(<a href="The-Black-Scholes-formula.html#eq:bs_formula">15.23</a>)</span>, we have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{5}\)</span>


<!--



                                                                                 Πput
                                                                                  t   = St N [d1 ] − Ke−r(T −t) N [d2 ] + Ke−r(T −t) − St

                                                                                      = St (N [d1 ] − 1) − Ke−r(T −t) (N [d2 ] − 1)

                                                                                      = −St N [−d1 ] + Ke−r(T −t) N [−d2 ].



-->


<p>


\begin{align*}
\Pi ^{put}_t &amp;=S_t\mc {N}[d_1]-Ke^{-r(T-t)}\mc {N}[d_2]+Ke^{-r(T-t)}-S_t\\ &amp;=S_t(\mc {N}[d_1]-1)-Ke^{-r(T-t)}(\mc {N}[d_2]-1)\\ &amp;=-S_t\mc {N}[-d_1]+Ke^{-r(T-t)}\mc
{N}[-d_2].
\end{align*}
In the last line we use that \(\mc {N}[x]+\mc {N}[-x]=1\), which follows from the fact that the \(N(0,1)\) distribution is symmetric about \(0\) (i.e.&nbsp;\(\P [X\leq x]+\P [X\leq -x]=\P [X\leq x]+\P
[-X\geq x]=\P [X\leq x]+\P [X\geq x]=1\)). The formula stated in the question follows from setting \(t=0\).
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#ps:parity_0"><b>16.3</b></a> Write \(\Phi ^{call,K}(S_T)=\max (S_T-K,0)\) for the contingent claim of a European call option, and \(\Phi
^{put,K}(S_T)\) for the contingent claim of a European put options, both with strike price \(K\) and exercise date \(T\). Then
</p>
<p>
\[\Phi (S_T)=\Phi ^{call,1}(S_T)+\Phi ^{put,-1}(S_T)\]
</p>
<p>
so we can hedge \(\Phi (S_T)\) by holding a single call option with strike price \(1\) and a single put option with strike price \(-1\).
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#ps:parity_1"><b>16.4</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> A sketch of \(\Phi (S_T)\) for general \(A\) looks like
</p>
<div class="center">
<p>


<a href="put_AK.jpg" target="_blank" ><img
      src="put_AK.jpg"
      style="
      width:173pt;
      "
      class="inlineimage"
      alt="(A plot of the payoff function)"
></a>
</p>
</div>
<p>
Let \(\Phi ^{put,K}(S_T)=\max (K-S_T,0)\) denote the contingent claim corresponding to a European put option with strike price \(K\) and exercise date \(T\). Then, we claim that
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{5}\)</span>
<!--


                                         Φ(ST ) = Φput,K+A (ST ) − Φput,A (ST ).                                      (C.6)                                                   --><a id="eq:put-bull"></a><!--

-->
<p>


\begin{equation}
\label {eq:put-bull} \Phi (S_T)=\Phi ^{put,K+A}(S_T)-\Phi ^{put,A}(S_T).
\end{equation}


</p>
<p>
The right-hand side of this equation corresponds to a portfolio of one put option with strike price \(K+A\) and minus one put option with strike price \(A\). We can see that the relation <span class="textup">(<a
href="Solutions-exercises-part-two.html#eq:put-bull">C.6</a>)</span> holds by using a diagram
</p>
<div class="center">
<p>


<a href="put_AK_2.jpg" target="_blank" ><img
      src="put_AK_2.jpg"
      style="
      width:173pt;
      "
      class="inlineimage"
      alt="(A plot of the payoff functions)"
></a>
</p>
</div>
<p>
in which the purple line \(\Phi ^{put,A}(S_T)\) is subtracted from the red line \(\Phi ^{put,K+A}(S_T)\) to obtain the green line \(\Phi (S_T)\). Alternatively, we can check it by considering three cases:
</p>
<ul style="list-style-type:none">


<li>
<p>
• If \(S_T\leq A\) then we have \(K=(K+A-S_T)-(A-S_T)\) which is true.
</p>


</li>
<li>


<p>
• If \(A\leq S_T\leq K+A\) then we have \(K+A-S_T=(K+A-S_T)-(0)\) which is true.
</p>


</li>
<li>


<p>
• If \(S_T\geq K+A\) then we have \(0=(0)-(0)\) which is true.
</p>
</li>
</ul>
<p>
Therefore, the portfolio of one put option with strike price \(K+A\) and minus one put option with strike price \(A\) is a replicating portfolio for \(\Phi (S_T)\).
</p>
</li>
<li>


<p>
<span class="textnormal">(b)</span> We use put-call parity to replicate our portfolio of put options with a portfolio of cash, stock and call options. This tells us that \(\Phi ^{put,K}(S_T)=\Phi
^{call,K}(S_T)+K\Phi ^{cash}(S_T)+\Phi ^{stock}(S_T)\). Therefore, replacing each of our put options with the equivalent amounts of cash and stock, we have
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{6}\)</span>


<!--



                                                           Φput,K+A (ST ) − Φput,A (ST ) = Φcall,K+A (ST ) − Φcall,A (ST ) + (K + A − A)Φcash (ST ) − (1 − 1)Φstock (ST )

                                                                                        = Φcall,K+A (ST ) − Φcall,A (ST ) + KΦcash (ST ).



-->


<p>


\begin{align*}
\Phi ^{put,K+A}(S_T)-\Phi ^{put,A}(S_T) &amp;=\Phi ^{call,K+A}(S_T)-\Phi ^{call,A}(S_T)+(K+A-A)\Phi ^{cash}(S_T)-(1-1)\Phi ^{stock}(S_T)\\ &amp;=\Phi ^{call,K+A}(S_T)-\Phi
^{call,A}(S_T)+K\Phi ^{cash}(S_T).
\end{align*}
Hence, \(\Phi (S_T)\) can be replicated with a portfolio containing one call option with strike price \(K+A\), minus one call option with strike price \(K\), and \(K\) units of cash.
</p>
</li>
<li>


<p>
<span class="textnormal">(c)</span> Corollary <a href="The-Black-Scholes-equation.html#cor:repl_uniq">15.3.3</a> refers to portfolios consisting only of stocks and cash. It does not apply to
portfolios that are also allowed to contain derivatives.
</p>
</li>
</ul>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#ps:parity_2"><b>16.5</b></a> We can write
</p>
<p>
\[\Phi ^{bull}(S_T)=A+\max (S_T-A,0)-\max (S_T-B,0).\]
</p>
<p>
It may help to draw a picture, in the style of <a href="Exercises-on-Chapter-ref-c-bs_extensions.html#ps:parity_1"><b>16.4</b></a>. If we write \(\Phi ^{call,K}(S_T)=\max (S_T-K,0)\) and recall
that \(\Phi ^{cash}(S_T)=1\) then we have
</p>
<p>
\[\Phi ^{bull}(S_T)=A\Phi ^{cash}(S_T)+\Phi ^{call,A}(S_T)-\Phi ^{call,B}(S_T).\]
</p>
<p>
So, in our (constant) hedging portfolio at time \(0\) we will need \(Ae^{-rT}\) in cash, one call option with strike price \(A\), and minus one call option with strike price \(B\).
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#ps:greeks"><b>16.9</b></a> The price computed for the contingent claim \(\Phi (S_T)=S_t^\beta \) in <a
href="Exercises-on-Chapter-ref-c-bs.html#ps:pricing_gbm_beta"><b>15.4</b></a> is
</p>
<p>
\[F(t,S_t)=S_t^\beta \exp \l (-r(T-t)(1-\beta )-\frac 12\sigma ^2\beta (T-t)(1-\beta )\r ).\]
</p>
<p>
(Recall that Theorem <a href="The-Black-Scholes-equation.html#t:bs_repl">15.3.1</a> also tells us that there is a hedging strategy \(h_t=(x_t,y_t)\) for the contingent claim with value \(F(t,S_t)\).)
</p>
<p>
We have \(F(t,s)=s^\beta \exp \l (-r(T-t)(1-\beta )-\frac 12\sigma ^2\beta (T-t)(1-\beta )\r )\) and we calculate
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{6}\)</span>


<!--


                                                                          ∂F                                           1
                                                                                                                                             
                                                                  ∆F =       (t, St ) = βStβ−1 exp −r(T − t)(1 − β) − σ 2 β(T − t)(1 − β)
                                                                          ∂s                                           2
                                                                           2
                                                                          ∂ F                                                  1 2
                                                                                                                                               
                                                                                                   β−2
                                                                   ΓF =       (t, St ) = β(β − 1)St exp −r(T − t)(1 − β) − σ β(T − t)(1 − β)
                                                                          ∂s2                                                  2
                                                                          ∂F                                                         1 2
                                                                                                                                                     
                                                                                         β
                                                                  ΘF =       (t, St ) = St (1 − β)(r + 2 βσ ) exp −r(T − t)(1 − β) − σ β(T − t)(1 − β)
                                                                                                       1   2
                                                                          ∂t                                                         2
                                                                          ∂F                                                       1 2
                                                                                                                                                   
                                                                                            β
                                                                   ρF =      (t, St ) = −St (T − t)(1 − β) exp −r(T − t)(1 − β) − σ β(T − t)(1 − β)
                                                                          ∂r                                                       2
                                                                          ∂F                                                          1 2
                                                                                                                                                      
                                                                                            β
                                                                   VF =      (t, St ) = −St σβ(T − t)(1 − β) exp −r(T − t)(1 − β) − σ β(T − t)(1 − β) .
                                                                          ∂σ                                                          2


-->


<p>


\begin{align*}
\Delta _F&amp;=\frac {\p F}{\p s}(t,S_t)=\beta S_t^{\beta -1}\exp \l (-r(T-t)(1-\beta )-\frac 12\sigma ^2\beta (T-t)(1-\beta )\r )\\ \Gamma _F&amp;=\frac {\p ^2 F}{\p
s^2}(t,S_t)=\beta (\beta -1) S_t^{\beta -2}\exp \l (-r(T-t)(1-\beta )-\frac 12\sigma ^2\beta (T-t)(1-\beta )\r )\\ \Theta _F&amp;=\frac {\p F}{\p t}(t,S_t)=S_t^\beta (1-\beta
)(r+\tfrac 12\beta \sigma ^2)\exp \l (-r(T-t)(1-\beta )-\frac 12\sigma ^2\beta (T-t)(1-\beta )\r )\\ \rho _F&amp;=\frac {\p F}{\p r}(t,S_t)=-S_t^\beta (T-t)(1-\beta )\exp \l
(-r(T-t)(1-\beta )-\frac 12\sigma ^2\beta (T-t)(1-\beta )\r )\\ \mc {V}_F&amp;=\frac {\p F}{\p \sigma }(t,S_t)=-S_t^\beta \sigma \beta (T-t)(1-\beta )\exp \l (-r(T-t)(1-\beta
)-\frac 12\sigma ^2\beta (T-t)(1-\beta )\r ).
\end{align*}


</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#ps:delta_gamma_hedge"><b>16.10</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> The underlying stock \(S_t\) has \(\Delta _S=1\) and \(\Gamma _S=0\). If we add \(-2\) stock into our original portfolio with value \(F\), then its new value is
\(V(t,S_t)=F(t,S_t)-2S_t\), which satisfies \(\Delta _V=\Delta _F-2=0\).
</p>
<p>
The cost of adding \(-2\) units of stock into the portfolio is \(-2S_t\).
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> After including an amount \(w_t\) of stock and an amount \(d_t\) of \(D\), we have
</p>
<p>
\[V(t,S_t)=F(t,S_t)+w_tS_t+d_tD(t,S_t).\]
</p>
<p>
Hence, we require that
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{6}\)</span>


<!--



                                                                                              0 = ∆F + wt + dt ∆D = 2 + wt + dt ,

                                                                                              0 = ΓF + dt ΓD = 3 + 2dt .



-->


<p>


\begin{align*}
0&amp;=\Delta _F+w_t+d_t\Delta _D=2+w_t+d_t,\\ 0&amp;=\Gamma _F+d_t\Gamma _D=3+2d_t.
\end{align*}
The solution is \(d_t=\frac {-3}{2}\) and \(w_t=\frac {-1}{2}\).
</p>
<p>
The cost of the extra stock and units of \(D\) that we have had to include is \(-\frac 32D(t,S_t)-\frac 12S_t\).
</p>
</li>
</ul>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#ps:gamma_stock"><b>16.11</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> It doesn’t work because adding in an amount \(z_t\) of \(Z\) in the second step will (typically i.e.&nbsp;if \(\Delta _Z\neq 0\)) destroy the delta neutrality that we
gained from the first step.
</p>


</li>
<li>


<p>
<span class="textnormal">(b)</span> Since \(Z(t,S_t)=S_t\) we have
</p>
<p>
\[V(t,S_t)=F(t,S_t)+w_tW(t,S_t)+z_tS_t,\]
</p>
<p>
so we require that
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{6}\)</span>


<!--


                                                                                                      ∂V
                                                                                                   0=     = ∆F + wt ∆W + zt
                                                                                                      ∂s
                                                                                                      ∂2V
                                                                                                   0=      = ΓF + wt ΓW .
                                                                                                      ∂s2


-->


<p>


\begin{align*}
0&amp;=\frac {\p V}{\p s}=\Delta _F+w_t\Delta _{W}+z_t\\ 0&amp;=\frac {\p ^2 V}{\p s^2}=\Gamma _F+w_t\Gamma _{W}.
\end{align*}
The solution is easily seen to be
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{6}\)</span>


<!--


                                                                                                              ΓF
                                                                                                        wt = −
                                                                                                              ΓW
                                                                                                             ∆W ΓF
                                                                                                        zt =       − ∆F
                                                                                                              ΓW


-->


<p>


\begin{align*}
w_t&amp;=-\frac {\Gamma _{F}}{\Gamma _{W}}\\ z_t&amp;=\frac {\Delta _{W}\Gamma _F}{\Gamma _{W}}-\Delta _F
\end{align*}


</p>


</li>
<li>


<p>
<span class="textnormal">(c)</span> This idea works. As we can see from part (b), if we use stock as our financial derivative \(Z(t,S_t)=S_t\), then \(\Gamma _Z=0\). Hence, adding in a suitable amount of
stock in the second step can achieve delta neutrality without destroying the gamma neutrality obtained in the first step.
</p>
</li>
</ul>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#ps:greeks_call"><b>16.12</b></a> Omitted (good luck).
</p>
<p>


</p>
</li>
</ul>
<!--
......    subsection Chapter <a href=Financial-networks.html#c:fin_net>19</a> ......
-->
<h5 id="autosec-241">Chapter <a href="Financial-networks.html#c:fin_net">19</a></h5>
<a id="notes_2-autopage-241"></a>



<ul style="list-style-type:none">


<li>
<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#ps:DG"><b>19.1</b></a> The degrees of the nodes, in alphabetical order, are \((1,1), (0,2), (2,2), (2,0), (1,1), (1,2), (1,0).\) This gives a
degree distribution
</p>
<p>
\[ \P [D_G=(a,b)]= \begin {cases} \frac 17 &amp; \text { for }(a,b)\in \{(0,2), (2,2), (2,0), (1,2), (1,0)\},\\ \frac 27 &amp; \text { for }(a,b)=(1,1).                                     \end {cases} \]
</p>
<p>
Sampling a uniformly random and moving along it means that the chance of ending up at a node \(A\) is proportional to \(\indeg (A)\). Since the graph has \(8\) edges, we obtain
</p>
<span class="hidden"> \(\seteqnumber{0}{C.}{6}\)</span>


<!--

                                                                                                   
                                                                                                     8 +               for n = 0 (nodes D and G)
                                                                                                   
                                                                                                    1     2
                                                                                                   
                                                                                                   
                                                                                                          8
                                                                                                   
                                                                                   P[O = n] =
                                                                                                     8 + 8             for n = 1 (nodes A and E)
                                                                                                     1   1
                                                                                                   
                                                                                                   
                                                                                                   
                                                                                                   
                                                                                                    0+   2
                                                                                                               +   1
                                                                                                                       for n = 2 (nodes B,C and F)
                                                                                                   
                                                                                                   
                                                                                                           8       8
                                                                                                   
                                                                                                   
                                                                                                   
                                                                                                   
                                                                                                   
                                                                                                     3
                                                                                                     8     for n = 0
                                                                                                   
                                                                                                   
                                                                                               =     1
                                                                                                           for n = 1
                                                                                                   
                                                                                                    4
                                                                                                   
                                                                                                   
                                                                                                           for n = 2
                                                                                                   3
                                                                                                   
                                                                                                     8


-->


<p>


\begin{align*}
\P [O=n] &amp;= \begin{cases} \frac 18+\frac 28 &amp; \text { for }n=0\text { (nodes D and G)}\\ \frac 18+\frac 18 &amp; \text { for }n=1\text { (nodes A and E)}\\ 0+\frac
28+\frac 18 &amp; \text { for }n=2\text { (nodes B,C and F)} \end {cases}\\ &amp;= \begin{cases} \frac 38 &amp; \text { for }n=0\\ \frac 14 &amp; \text { for }n=1\\ \frac 38
&amp; \text { for }n=2 \end {cases}
\end{align*}


</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#ps:contagion_tree"><b>19.2</b></a> Node \(Y\) can fail only if the cascade of defaults includes \(X\to D \to Y\). Given that \(X\) fails, the
probability that \(X\) fails is \(\eta _3=\frac 13\), because \(D\) has \(3\) in-edges. Similarly, given that \(D\) fails, the probability that \(Y\) also fails is \(\frac 12\). Hence, the probability that \(Y\) fails,
given that \(X\) fails, is \(\frac 16\).
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#ps:contagion_circle"><b>19.3</b></a> Node \(Y\) can fail if the cascade of defaults includes \(X\to B\to D \to Y\) or \(X\to B \to C\to D\to
Y\). Given that \(X\) fails, node \(B\) is certain to fail as well, since \(B\) has only one in-edge. Given that \(B\) fails, \(C\) is certain to fail for the same reason. Therefore, the edges \((B,D)\) and \((C,D)\) are
both certain to default. For each of these edges, independently, there is a chance \(\frac 13\) that their own default causes \(D\) to fail. The probability that \(D\) fails is therefore
</p>
<p>
\[\frac 13+\l (1-\frac 13\r )\times \frac 13=\frac 59.\]
</p>
<p>
Here, we condition first on if the link \(BD\) causes \(D\) to fail (which it does with probability \(\frac 13\)) and then, if it doesn’t (which has probability \(1-\frac 13\)) we ask if the link \(BC\), which fails
automatically and causes failure of \(CD\), causes \(D\) to fail.
</p>
<p>
Given that \(D\) fails, \(Y\) is certain to fail. Hence, the probability that \(Y\) fails, given that \(X\) fails, is \(\frac 59\).
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#ps:contagion_binary_tree"><b>19.4</b></a> For any node of the graph (except for the root node), if its single incoming loan defaults, then its own
probability of default if \(\alpha \), independently of all else. Hence, each newly defaulted loan leads to two further defaulted loans with probability \(\alpha \), and leads to no further defaulted loans with
probability \(1-\alpha \). Hence, the defaulted loans form a Galton-Watson process \((Z_n)\) with off-spring distribution \(G\), given by \(\P [G=2]=\alpha \) and \(\P [G=0]=1-\alpha \), with initial state
\(Z_0=2\) (representing the two loans which initially default when \(V_0\) defaults).
</p>
<p>
The total number of defaulted edges is given by
</p>
<p>
\[S=\sum \limits _{n=0}^\infty Z_n.\]
</p>
<p>
Combining Lemmas <a href="Long-term-behaviour-stochastic-processes.html#l:gw_subcrit">7.4.7</a>, <a href="Long-term-behaviour-stochastic-processes.html#l:gw_crit">7.4.6</a> and <a
href="Long-term-behaviour-stochastic-processes.html#l:gw_supercrit">7.4.8</a>, we know that either:
</p>
<ul style="list-style-type:none">


<li>
<p>
• If \(\E [G]&gt;1\) then there is positive probability that \(Z_n\to \infty \) as \(n\to \infty \); in this case for all large enough \(n\) we have \(Z_n\geq 1\), and hence \(S=\infty \).
</p>


</li>
<li>


<p>
• If \(\E [G]\leq 1\) then, almost surely, for all large enough \(n\) we have \(Z_n=0\), which means that \(S&lt;\infty \).
</p>
</li>
</ul>
<p>
We have \(\E [G]=2\alpha \). It is clear that the number of defaulted banks is infinite if and only if the number of defaulted loans in infinite, which has positive probability if \(\E [G]&gt;1\). So, we conclude
that there is positive probability of a catastrophic default if and only if \(\alpha &gt;\frac 12\).
</p>
</li>
<li>


<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#ps:contagion_tangled"><b>19.5</b></a>
</p>
<ul style="list-style-type:none">


<li>
<p>
<span class="textnormal">(a)</span> The probability that both \(B\) and \(C\) fail is \(\frac 12\frac 12=\frac 14\). Given this event, the probability that both \(D\) and \(E\) fail is \(\frac 12(1-\frac
34\frac 34\frac 34)=\frac {37}{128}\); here the first term \(\frac 12\) is the probability of \(D\) failing (via its link to \(B\)) and the second term is one minus the probability of \(E\) not failing despite all
its inbound loans defaulting. Given that \(D\) and \(E\) both fail, the probability that \(F\) fails is \(1-\frac 23\frac 23=\frac 59\).
</p>
<p>
Hence, the probability that every node fails is
</p>
<p>
\[\frac 14\frac {37}{128}\frac 59=\frac {185}{4608}.\]
</p>
</li>
<li>


<p>
<span class="textnormal">(b)</span> Our strategy comes in three stages: first work out the probabilities of all the possible outcomes relating to \(B\) and \(C\); secondly, do the same for \(D\) and \(E\);
finally, do the same for \(F\). Each stage relies on the information obtained in the previous stage.
</p>
<p>
Stage 1: The probability that \(B\) fails and \(C\) does not is \(\frac 12\frac 12=\frac 14\). This is also the probability that \(C\) fails and \(B\) does not. The probability that both \(B\) and \(C\) fail is
also \(\frac 14\).
</p>
<p>
Stage 2: Hence, the probability that \(E\) fails and \(D\) does not is
</p>
<p>
\[\frac 14\l (\frac 14\frac 12\r )+\frac 14\l (\frac 14\r )+\frac 14\l (\frac 12\r )\l (\frac 14+\frac 34\frac 14\r )=\frac {19}{128}\]
</p>
<p>
The three terms in the above correspond respectively to the three cases considered in the first paragraph. Similarly, the probability that \(D\) fails and \(E\) does not is
</p>
<p>
\[\frac 14\l (\frac 12\frac 34\frac 34\r )+\frac 14\l (0\r )+\frac 14\l (\frac 12\r )\l (\frac 34\frac 34\frac 34\r )=\frac {63}{512}\]
</p>
<p>
and the probability that both \(D\) and \(E\) fail is
</p>
<p>
\[\frac 14\l (\frac 12\r )\l (\frac 14+\frac 34\frac 14\r )+\frac 14\l (0\r )+\frac 14\l (\frac 12\r )\l (1-\frac 34\frac 34\frac 34\r )=\frac {65}{512}\]
</p>
<p>
.
</p>
<p>
Stage 3: Finally, considering these three cases in turn, the probability that \(F\) fails is
</p>
<p>
\[\frac {19}{128}\l (\frac 13\r )+\frac {63}{512}\l (\frac 13\r )+\frac {65}{512}\l (1-\frac 23\frac 23\r )=\frac {371}{2304}.\]
</p>
<p>


</p>
</li>
</ul>
</li>
</ul>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Advice-revision-exams.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Advice for revision/exams</title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-242"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     chapter Advice for revision/exams ......
-->
<h3 id="autosec-243">Chapter&nbsp;<span class="sectionnumber">D&#x2003;</span>Advice for revision/exams</h3>
<a id="notes_2-autopage-243"></a>
<a id="notes_2-autofile-42"></a>

<a id="s:revision"></a>

<p>
There are two different exam papers, one for MAS352 and one for MAS61023. For both exams the rubric reads
</p>
<blockquote>

<p>
<i>Candidates should attempt ALL questions. The maximum marks for the various parts of the questions are indicated. The paper will be marked out of \(X\).</i>
</p>
</blockquote>

<p>
For MAS352 \(X=100\) and for MAS61023 \(X=85\). Within these notes, material marked with a \((\Delta )\) is examinable only for MAS61023, and is non-examinable for MAS352. Material marked with a
\((\star )\) is non-examinable for everyone.
</p>

<ul style="list-style-type:none">


<li>
<p>
• You will be asked to solve problems based on the material in these notes. There will be a broad range of difficulty amongst the questions. Some will be variations of questions in the assignments/notes, others will
also try to test your ingenuity.
</p>
</li>
<li>


<p>
• You may be asked to state important definitions and results (e.g.&nbsp;more than one past exam has asked for definition of Brownian Motion).
</p>
</li>
<li>


<p>
• You will not be expected to reproduce long proofs from memory. You are expected to have followed the techniques within the proofs (e.g.&nbsp;Ito’s&nbsp;formula, conditional expectation rules) when they are
present, and to be able to use these techniques in your own problem solving.
</p>
</li>
<li>


<p>
• There are marks for attempting a suitable method, and for justifying rigorous mathematical deductions, as well as for reaching a correct conclusion.
</p>
</li>
<li>


<p>
• If you apply an important result that has a name e.g.&nbsp;‘the Martingale Convergence Theorem’ you should mention that name, or something similar e.g.&nbsp;‘by mart.&nbsp;conv.’ or ‘by the MCT’.
</p>
</li>
<li>


<p>
• Practice using the formula sheet to help you solve questions. It contains lots of useful formulae!
</p>
</li>
</ul>
<!--
......    subsection Revision activities ......
-->
<h5 id="autosec-245">Revision activities</h5>
<a id="notes_2-autopage-245"></a>



<p>
The most important activities:
</p>
<ul style="list-style-type:none">


<li>
<p>
1. Check and mark your solutions to assignment questions.
</p>


</li>
<li>


<p>
2. Learn the key definitions, results, and examples.
</p>


</li>
<li>


<p>
3. Do the past exam papers, and mark your own solutions.
</p>
</li>
</ul>

<p>
Other very helpful activities:
</p>
<ul style="list-style-type:none">


<li>
<p>
4. Work through, and check your solutions, to non-challenge questions in the notes.
</p>
</li>
</ul>

<p>
Of course, you should have been working on these questions throughout the year, which is why they are lower priority now. You do <i>not</i> need to look at the challenge questions as part of your revision – these
are intended only to offer a serious, time consuming challenge to strong students.
</p>

<p>
In all cases, you are welcome to come and discuss any questions/comments/typos. Please email to arrange a convenient time.
</p>

</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
<!--|Start file|Formula-sheet-part-two.html|-->
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="author" content="Nic Freeman" />
<meta name="generator" content="LaTeX Lwarp package" />
<meta name="description" content="MAS352/61023 Stochastic Processes and Financial Mathematics, Sheffield University, September 14, 2023." />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>MASx52 — Formula sheet (part two)</title>
<link rel="stylesheet" type="text/css" href="sans-serif-lwarp-sagebrush.css" />
<script>
// Lwarp MathJax emulation code
//
// Based on code by Davide P. Cervone.
// Equation numbering: https://github.com/mathjax/MathJax/issues/2427
// Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
// \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
//
// Modified by Brian Dunn to adjust equation numbering and add subequations.
//
// LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
// subequations? is 0 usually, 1 if inside subequations.
// section is a string printed as-is, or empty.
// number is auto-incremented by MathJax between equations.
//
MathJax = {
  subequations: "0",
  section: "",
  loader: {
    load: ['[tex]/tagformat', '[tex]/textmacros'],
  },
  startup: {
    ready() {
      // These would be replaced by import commands if you wanted to make
      // a proper extension.
      const Configuration = MathJax._.input.tex.Configuration.Configuration;
      const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
      const Macro = MathJax._.input.tex.Symbol.Macro;
      const TexError = MathJax._.input.tex.TexError.default;
      const ParseUtil = MathJax._.input.tex.ParseUtil.default;
      const expandable = MathJax._.util.Options.expandable;

        // Insert the replacement string into the TeX string, and check
        // that there haven't been too many maxro substitutions (prevents
        // infinite loops).
        const useArgument = (parser, text) => {
          parser.string = ParseUtil.addArgs(parser, text, parser.string.slice(parser.i));
          parser.i = 0;
          if (++parser.macroCount > parser.configuration.options.maxMacros) {
            throw new TexError('MaxMacroSub1',
            'MathJax maximum macro substitution count exceeded; ' +
            'is there a recursive macro call?');
          }
        }

        // Create the command map for:
        //     \ifstar, \ifnextchar, \ifblank, \ifstrequal, \gsub, \seteqnumber
        new CommandMap('Lwarp-macros', {
          ifstar: 'IfstarFunction',
          ifnextchar: 'IfnextcharFunction',
          ifblank: 'IfblankFunction',
          ifstrequal: 'IfstrequalFunction',
          gsubstitute: 'GsubstituteFunction',
          seteqnumber: 'SeteqnumberFunction'
        }, {
          // This function implements an ifstar macro.
          IfstarFunction(parser, name) {
             const resultstar = parser.GetArgument(name);
             const resultnostar = parser.GetArgument(name);
             const star = parser.GetStar();                 // true if there is a *
             useArgument(parser, star ? resultstar : resultnostar);
          },

          // This function implements an ifnextchar macro.
          IfnextcharFunction(parser, name) {
            let whichchar = parser.GetArgument(name);
            if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
              // $ syntax highlighting
              whichchar = String.fromCodePoint(parseInt(whichchar));
            }
            const resultnextchar = parser.GetArgument(name);
            const resultnotnextchar = parser.GetArgument(name);
            const gotchar = (parser.GetNext() === whichchar);
            useArgument(parser, gotchar ? resultnextchar : resultnotnextchar);
          },

          // This function implements an ifblank macro.
          IfblankFunction(parser, name) {
            const blankarg = parser.GetArgument(name);
            const resultblank = parser.GetArgument(name);
            const resultnotblank = parser.GetArgument(name);
            const isblank = (blankarg.trim() == "");
            useArgument(parser, isblank ? resultblank : resultnotblank);
          },

          // This function implements an ifstrequal macro.
          IfstrequalFunction(parser, name) {
            const strequalfirst = parser.GetArgument(name);
            const strequalsecond = parser.GetArgument(name);
            const resultequal = parser.GetArgument(name);
            const resultnotequal = parser.GetArgument(name);
            const isequal = (strequalfirst == strequalsecond);
            useArgument(parser, isequal ? resultequal : resultnotequal);
          },

          // This function implements a gsub macro.
          GsubstituteFunction(parser, name) {
            const gsubfirst = parser.GetArgument(name);
            const gsubsecond = parser.GetArgument(name);
            const gsubthird = parser.GetArgument(name);
            let gsubresult=gsubfirst.replace(gsubsecond, gsubthird);
            useArgument(parser, gsubresult);
          },

          // This function modifies the equation numbers.
          SeteqnumberFunction(parser, name) {
              // Get the macro parameters
              const star = parser.GetStar();                  // true if there is a *
              const optBrackets = parser.GetBrackets(name);   // contents of optional brackets
              const newsubequations = parser.GetArgument(name); // the subequations argument
              const neweqsection = parser.GetArgument(name); // the eq section argument
              const neweqnumber = parser.GetArgument(name);   // the eq number argument
              MathJax.config.subequations=newsubequations ;   // a string with boolean meaning
              MathJax.config.section=neweqsection ;           // a string with numeric meaning
              parser.tags.counter = parser.tags.allCounter = neweqnumber ;
          }

        });

        // Create the Lwarp-macros package
        Configuration.create('Lwarp-macros', {
          handler: {macro: ['Lwarp-macros']}
        });

        MathJax.startup.defaultReady();

        // For forward references:
        MathJax.startup.input[0].preFilters.add(({math}) => {
          if (math.inputData.recompile){
              MathJax.config.subequations = math.inputData.recompile.subequations;
              MathJax.config.section = math.inputData.recompile.section;
          }
        });
        MathJax.startup.input[0].postFilters.add(({math}) => {
          if (math.inputData.recompile){
              math.inputData.recompile.subequations = MathJax.config.subequations;
              math.inputData.recompile.section = MathJax.config.section;
          }
        });

          // For \left, \right with unicode-math:
          const {DelimiterMap} = MathJax._.input.tex.SymbolMap;
          const {Symbol} = MathJax._.input.tex.Symbol;
          const {MapHandler} = MathJax._.input.tex.MapHandler;
          const delimiter = MapHandler.getMap('delimiter');
          delimiter.add('\\lBrack', new Symbol('\\lBrack', '\u27E6'));
          delimiter.add('\\rBrack', new Symbol('\\rBrack', '\u27E7'));
          delimiter.add('\\lAngle', new Symbol('\\lAngle', '\u27EA'));
          delimiter.add('\\rAngle', new Symbol('\\rAngle', '\u27EB'));
          delimiter.add('\\lbrbrak', new Symbol('\\lbrbrak', '\u2772'));
          delimiter.add('\\rbrbrak', new Symbol('\\rbrbrak', '\u2773'));
          delimiter.add('\\lbag', new Symbol('\\lbag', '\u27C5'));
          delimiter.add('\\rbag', new Symbol('\\rbag', '\u27C6'));
          delimiter.add('\\llparenthesis', new Symbol('\\llparenthesis', '\u2987'));
          delimiter.add('\\rrparenthesis', new Symbol('\\rrparenthesis', '\u2988'));
          delimiter.add('\\llangle', new Symbol('\\llangle', '\u2989'));
          delimiter.add('\\rrangle', new Symbol('\\rrangle', '\u298A'));
          delimiter.add('\\Lbrbrak', new Symbol('\\Lbrbrak', '\u27EC'));
          delimiter.add('\\Rbrbrak', new Symbol('\\Rbrbrak', '\u27ED'));
          delimiter.add('\\lBrace', new Symbol('\\lBrace', '\u2983'));
          delimiter.add('\\rBrace', new Symbol('\\rBrace', '\u2984'));
          delimiter.add('\\lParen', new Symbol('\\lParen', '\u2985'));
          delimiter.add('\\rParen', new Symbol('\\rParen', '\u2986'));
          delimiter.add('\\lbrackubar', new Symbol('\\lbrackubar', '\u298B'));
          delimiter.add('\\rbrackubar', new Symbol('\\rbrackubar', '\u298C'));
          delimiter.add('\\lbrackultick', new Symbol('\\lbrackultick', '\u298D'));
          delimiter.add('\\rbracklrtick', new Symbol('\\rbracklrtick', '\u298E'));
          delimiter.add('\\lbracklltick', new Symbol('\\lbracklltick', '\u298F'));
          delimiter.add('\\rbrackurtick', new Symbol('\\rbrackurtick', '\u2990'));
          delimiter.add('\\langledot', new Symbol('\\langledot', '\u2991'));
          delimiter.add('\\rangledot', new Symbol('\\rangledot', '\u2992'));
          delimiter.add('\\lparenless', new Symbol('\\lparenless', '\u2993'));
          delimiter.add('\\rparengtr', new Symbol('\\rparengtr', '\u2994'));
          delimiter.add('\\Lparengtr', new Symbol('\\Lparengtr', '\u2995'));
          delimiter.add('\\Rparenless', new Symbol('\\Rparenless', '\u2996'));
          delimiter.add('\\lblkbrbrak', new Symbol('\\lblkbrbrak', '\u2997'));
          delimiter.add('\\rblkbrbrak', new Symbol('\\rblkbrbrak', '\u2998'));
          delimiter.add('\\lvzigzag', new Symbol('\\lvzigzag', '\u29D8'));
          delimiter.add('\\rvzigzag', new Symbol('\\rvzigzag', '\u29D9'));
          delimiter.add('\\Lvzigzag', new Symbol('\\Lvzigzag', '\u29DA'));
          delimiter.add('\\Rvzigzag', new Symbol('\\Rvzigzag', '\u29DB'));
          delimiter.add('\\lcurvyangle', new Symbol('\\lcurvyangle', '\u29FC'));
          delimiter.add('\\rcurvyangle', new Symbol('\\rcurvyangle', '\u29FD'));
          delimiter.add('\\Vvert', new Symbol('\\Vvert', '\u2980'));
    }     // ready
  },      // startup

  tex: {
    packages: {'[+]': ['tagformat', 'Lwarp-macros', 'textmacros']},
    tags: "ams",
         tagformat: {
             number: function (n) {
                 if(MathJax.config.subequations==0)
                     return(MathJax.config.section + n);
                 else
                     return(MathJax.config.section + String.fromCharCode(96+n));
             },
         },
  }
}
</script>

<script
    id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
></script>


</head>
<body>



<a id="notes_2-autopage-246"></a>
<nav class="topnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

<header>

<p>
last updated: September 14, 2023
</p>

</header>



<div class="bodyandsidetoc">
<div class="sidetoccontainer">



<nav class="sidetoc">



<div class="sidetoctitle">

<p>
<span class="sidetocthetitle">Stochastic Processes and Financial Mathematics<br />
(part two)</span>
</p>

<p>
Contents
</p>
</div>



<div class="sidetoccontents">

<p>
<a href="notes_2.html" class="linkhome" >
Home</a>
</p>

<p>
<a href="The-transition-continuous-time.html#autosec-5" class="tocchapter" >
<span class="sectionnumber">10</span>&#x2003;The transition to continuous time</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-12" class="tocchapter" >
<span class="sectionnumber">11</span>&#x2003;Brownian motion</a>
</p>



<p>
<a href="Brownian-motion.html#autosec-13" class="tocsection" >
<span class="sectionnumber">11.1</span>&#x2003;The limit of random walks</a>
</p>



<p>
<a href="Brownian-motion-definition.html#autosec-19" class="tocsection" >
<span class="sectionnumber">11.2</span>&#x2003;Brownian motion (definition)</a>
</p>



<p>
<a href="Brownian-motion-heat-equation-star.html#autosec-26" class="tocsection" >
<span class="sectionnumber">11.3</span>&#x2003;Brownian motion and the heat equation \((\star )\)</a>
</p>



<p>
<a href="Properties-Brownian-motion.html#autosec-32" class="tocsection" >
<span class="sectionnumber">11.4</span>&#x2003;Properties of Brownian motion</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bm.html#autosec-41" class="tocsection" >
<span class="sectionnumber">11.5</span>&#x2003;Exercises on Chapter 11</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-45" class="tocchapter" >
<span class="sectionnumber">12</span>&#x2003;Stochastic integration</a>
</p>



<p>
<a href="Stochastic-integration.html#autosec-46" class="tocsection" >
<span class="sectionnumber">12.1</span>&#x2003;Introduction to Ito calculus</a>
</p>



<p>
<a href="Ito-integrals.html#autosec-51" class="tocsection" >
<span class="sectionnumber">12.2</span>&#x2003;Ito integrals</a>
</p>



<p>
<a href="Existence-Ito-integrals.html#autosec-55" class="tocsection" >
<span class="sectionnumber">12.3</span>&#x2003;Existence of Ito integrals \((\star )\)</a>
</p>



<p>
<a href="Ito-processes.html#autosec-60" class="tocsection" >
<span class="sectionnumber">12.4</span>&#x2003;Ito processes</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-ito.html#autosec-67" class="tocsection" >
<span class="sectionnumber">12.5</span>&#x2003;Exercises on Chapter 12</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-71" class="tocchapter" >
<span class="sectionnumber">13</span>&#x2003;Stochastic differential equations</a>
</p>



<p>
<a href="Stochastic-differential-equations.html#autosec-75" class="tocsection" >
<span class="sectionnumber">13.1</span>&#x2003;Ito’s formula</a>
</p>



<p>
<a href="Geometric-Brownian-motion.html#autosec-82" class="tocsection" >
<span class="sectionnumber">13.2</span>&#x2003;Geometric Brownian motion</a>
</p>



<p>
<a href="The-Ornstein-Uhlenbeck-process.html#autosec-85" class="tocsection" >
<span class="sectionnumber">13.3</span>&#x2003;The Ornstein–Uhlenbeck process \((\Delta )\)</a>
</p>



<p>
<a href="Stochastic-exponentials-martingale-representation.html#autosec-87" class="tocsection" >
<span class="sectionnumber">13.4</span>&#x2003;Stochastic exponentials and martingale representation</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-sdes.html#autosec-93" class="tocsection" >
<span class="sectionnumber">13.5</span>&#x2003;Exercises on Chapter 13</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-98" class="tocchapter" >
<span class="sectionnumber">14</span>&#x2003;Stochastic processes in continuous time</a>
</p>



<p>
<a href="Stochastic-processes-in-continuous-time.html#autosec-99" class="tocsection" >
<span class="sectionnumber">14.1</span>&#x2003;The Feynman-Kac formula</a>
</p>



<p>
<a href="The-Markov-property.html#autosec-107" class="tocsection" >
<span class="sectionnumber">14.2</span>&#x2003;The Markov property</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-stoch_procs_3.html#autosec-111" class="tocsection" >
<span class="sectionnumber">14.3</span>&#x2003;Exercises on Chapter 14</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-115" class="tocchapter" >
<span class="sectionnumber">15</span>&#x2003;The Black-Scholes model</a>
</p>



<p>
<a href="The-Black-Scholes-model.html#autosec-116" class="tocsection" >
<span class="sectionnumber">15.1</span>&#x2003;The Black-Scholes market</a>
</p>



<p>
<a href="Completeness.html#autosec-124" class="tocsection" >
<span class="sectionnumber">15.2</span>&#x2003;Completeness</a>
</p>



<p>
<a href="The-Black-Scholes-equation.html#autosec-131" class="tocsection" >
<span class="sectionnumber">15.3</span>&#x2003;The Black-Scholes equation</a>
</p>



<p>
<a href="Martingales-risk-neutral-world.html#autosec-137" class="tocsection" >
<span class="sectionnumber">15.4</span>&#x2003;Martingales and ‘the risk-neutral world’</a>
</p>



<p>
<a href="The-Black-Scholes-formula.html#autosec-141" class="tocsection" >
<span class="sectionnumber">15.5</span>&#x2003;The Black-Scholes formula</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs.html#autosec-144" class="tocsection" >
<span class="sectionnumber">15.6</span>&#x2003;Exercises on Chapter 15</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-150" class="tocchapter" >
<span class="sectionnumber">16</span>&#x2003;Application and extension of the Black-Scholes model</a>
</p>



<p>
<a href="Application-extension-Black-Scholes-model.html#autosec-151" class="tocsection" >
<span class="sectionnumber">16.1</span>&#x2003;Transaction costs and parity relations</a>
</p>



<p>
<a href="The-Greeks.html#autosec-155" class="tocsection" >
<span class="sectionnumber">16.2</span>&#x2003;The Greeks</a>
</p>



<p>
<a href="Delta-Gamma-Hedging.html#autosec-158" class="tocsection" >
<span class="sectionnumber">16.3</span>&#x2003;Delta and Gamma Hedging</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-bs_extensions.html#autosec-165" class="tocsection" >
<span class="sectionnumber">16.4</span>&#x2003;Exercises on Chapter 16</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-172" class="tocchapter" >
<span class="sectionnumber">17</span>&#x2003;Further topics on Black-Scholes model \((\star )\)</a>
</p>



<p>
<a href="Further-topics-on-Black-Scholes-model.html#autosec-173" class="tocsection" >
<span class="sectionnumber">17.1</span>&#x2003;Time inhomogeneity \((\star )\)</a>
</p>



<p>
<a href="American-Exotic-options.html#autosec-175" class="tocsection" >
<span class="sectionnumber">17.2</span>&#x2003;American and Exotic options \((\star )\)</a>
</p>



<p>
<a href="Discontinuous-stock-prices-heavy-tails.html#autosec-179" class="tocsection" >
<span class="sectionnumber">17.3</span>&#x2003;Discontinuous stock prices and heavy tails \((\star )\)</a>
</p>



<p>
<a href="Volatility.html#autosec-183" class="tocsection" >
<span class="sectionnumber">17.4</span>&#x2003;Volatility \((\star )\)</a>
</p>



<p>
<a href="Incomplete-markets.html#autosec-189" class="tocsection" >
<span class="sectionnumber">17.5</span>&#x2003;Incomplete markets \((\star )\)</a>
</p>



<p>
<a href="The-financial-crisis-2007-8.html#autosec-191" class="tocchapter" >
<span class="sectionnumber">18</span>&#x2003;The financial crisis of 2007/8 \((\star )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-202" class="tocchapter" >
<span class="sectionnumber">19</span>&#x2003;Financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Financial-networks.html#autosec-203" class="tocsection" >
<span class="sectionnumber">19.1</span>&#x2003;Graphs and random graphs \((\Delta )\)</a>
</p>



<p>
<a href="The-Gai-Kapadia-model-debt-contagion.html#autosec-209" class="tocsection" >
<span class="sectionnumber">19.2</span>&#x2003;The Gai-Kapadia model of debt contagion \((\Delta )\)</a>
</p>



<p>
<a href="Approximating-contagion-Galton-Watson-process.html#autosec-216" class="tocsection" >
<span class="sectionnumber">19.3</span>&#x2003;Approximating contagion by a Galton-Watson process \((\Delta )\)</a>
</p>



<p>
<a href="Modelling-discussion-on-financial-networks.html#autosec-219" class="tocsection" >
<span class="sectionnumber">19.4</span>&#x2003;Modelling discussion on financial networks \((\Delta )\)</a>
</p>



<p>
<a href="Exercises-on-Chapter-ref-c-fin_net.html#autosec-222" class="tocsection" >
<span class="sectionnumber">19.5</span>&#x2003;Exercises on Chapter 19 \((\Delta )\)</a>
</p>



<p>
<a href="Solutions-exercises-part-two.html#autosec-230" class="tocchapter" >
<span class="sectionnumber">C</span>&#x2003;Solutions to exercises (part two)</a>
</p>



<p>
<a href="Advice-revision-exams.html#autosec-243" class="tocchapter" >
<span class="sectionnumber">D</span>&#x2003;Advice for revision/exams</a>
</p>



<p>
<a href="Formula-sheet-part-two.html#autosec-247" class="tocchapter" >
<span class="sectionnumber">E</span>&#x2003;Formula sheet (part two)</a>
</p>



</div>

</nav>

</div>



<main class="bodycontainer">



<section class="textbody">

<h1>Stochastic Processes and Financial Mathematics<br />
(part two)</h1>

<!--MathJax customizations:-->



<div class="hidden">

\(\newcommand{\footnotename}{footnote}\)

\(\def \LWRfootnote {1}\)

\(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm {#1}}}\)

\(\let \LWRorighspace \hspace \)

\(\renewcommand {\hspace }{\ifstar \LWRorighspace \LWRorighspace }\)

\(\newcommand {\mathnormal }[1]{{#1}}\)

\(\newcommand \ensuremath [1]{#1}\)

\(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand {\framebox }[1][]{\LWRframebox } \)

\(\newcommand {\setlength }[2]{}\)

\(\newcommand {\addtolength }[2]{}\)

\(\newcommand {\setcounter }[2]{}\)

\(\newcommand {\addtocounter }[2]{}\)

\(\newcommand {\arabic }[1]{}\)

\(\newcommand {\number }[1]{}\)

\(\newcommand {\noalign }[1]{\text {#1}\notag \\}\)

\(\newcommand {\cline }[1]{}\)

\(\newcommand {\directlua }[1]{\text {(directlua)}}\)

\(\newcommand {\luatexdirectlua }[1]{\text {(directlua)}}\)

\(\newcommand {\protect }{}\)

\(\def \LWRabsorbnumber #1 {}\)

\(\def \LWRabsorbquotenumber &quot;#1 {}\)

\(\newcommand {\LWRabsorboption }[1][]{}\)

\(\newcommand {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\)

\(\def \mathchar {\ifnextchar &quot;\LWRabsorbquotenumber \LWRabsorbnumber }\)

\(\def \mathcode #1={\mathchar }\)

\(\let \delcode \mathcode \)

\(\let \delimiter \mathchar \)

\(\def \oe {\unicode {x0153}}\)

\(\def \OE {\unicode {x0152}}\)

\(\def \ae {\unicode {x00E6}}\)

\(\def \AE {\unicode {x00C6}}\)

\(\def \aa {\unicode {x00E5}}\)

\(\def \AA {\unicode {x00C5}}\)

\(\def \o {\unicode {x00F8}}\)

\(\def \O {\unicode {x00D8}}\)

\(\def \l {\unicode {x0142}}\)

\(\def \L {\unicode {x0141}}\)

\(\def \ss {\unicode {x00DF}}\)

\(\def \SS {\unicode {x1E9E}}\)

\(\def \dag {\unicode {x2020}}\)

\(\def \ddag {\unicode {x2021}}\)

\(\def \P {\unicode {x00B6}}\)

\(\def \copyright {\unicode {x00A9}}\)

\(\def \pounds {\unicode {x00A3}}\)

\(\let \LWRref \ref \)

\(\renewcommand {\ref }{\ifstar \LWRref \LWRref }\)

\( \newcommand {\multicolumn }[3]{#3}\)

\(\require {textcomp}\)

\(\newcommand {\intertext }[1]{\text {#1}\notag \\}\)

\(\let \Hat \hat \)

\(\let \Check \check \)

\(\let \Tilde \tilde \)

\(\let \Acute \acute \)

\(\let \Grave \grave \)

\(\let \Dot \dot \)

\(\let \Ddot \ddot \)

\(\let \Breve \breve \)

\(\let \Bar \bar \)

\(\let \Vec \vec \)

\(\DeclareMathOperator {\var }{var}\)

\(\DeclareMathOperator {\cov }{cov}\)

\(\DeclareMathOperator {\indeg }{deg_{in}}\)

\(\DeclareMathOperator {\outdeg }{deg_{out}}\)

\(\newcommand {\nN }{n \in \mathbb {N}}\)

\(\newcommand {\Br }{{\cal B}(\R )}\)

\(\newcommand {\F }{{\cal F}}\)

\(\newcommand {\ds }{\displaystyle }\)

\(\newcommand {\st }{\stackrel {d}{=}}\)

\(\newcommand {\uc }{\stackrel {uc}{\rightarrow }}\)

\(\newcommand {\la }{\langle }\)

\(\newcommand {\ra }{\rangle }\)

\(\newcommand {\li }{\liminf _{n \rightarrow \infty }}\)

\(\newcommand {\ls }{\limsup _{n \rightarrow \infty }}\)

\(\newcommand {\limn }{\lim _{n \rightarrow \infty }}\)

\(\def \ra {\Rightarrow }\)

\(\def \to {\rightarrow }\)

\(\def \iff {\Leftrightarrow }\)

\(\def \sw {\subseteq }\)

\(\def \wt {\widetilde }\)

\(\def \mc {\mathcal }\)

\(\def \mb {\mathbb }\)

\(\def \sc {\setminus }\)

\(\def \v {\textbf }\)

\(\def \p {\partial }\)

\(\def \E {\mb {E}}\)

\(\def \P {\mb {P}}\)

\(\def \R {\mb {R}}\)

\(\def \C {\mb {C}}\)

\(\def \N {\mb {N}}\)

\(\def \Q {\mb {Q}}\)

\(\def \Z {\mb {Z}}\)

\(\def \B {\mb {B}}\)

\(\def \~{\sim }\)

\(\def \-{\,;\,}\)

\(\def \|{\,|\,}\)

\(\def \qed {$\blacksquare $}\)

\(\def \1{\unicode {x1D7D9}}\)

\(\def \cadlag {c\&grave;{a}dl\&grave;{a}g}\)

\(\def \p {\partial }\)

\(\def \l {\left }\)

\(\def \r {\right }\)

\(\def \F {\mc {F}}\)

\(\def \G {\mc {G}}\)

\(\def \H {\mc {H}}\)

\(\def \Om {\Omega }\)

\(\def \om {\omega }\)

\(\def \Vega {\mc {V}}\)

</div>

<p>
<!--
......     chapter Formula sheet (part two) ......
-->
<h3 id="autosec-247">Chapter&nbsp;<span class="sectionnumber">E&#x2003;</span>Formula sheet (part two)</h3>
<a id="notes_2-autopage-247"></a>
<a id="notes_2-autofile-43"></a>

<a id="s:formula_sheet_2"></a>

<p>
The formula sheet displayed on the following two pages will be provided in the exam.
</p>
<div class="center">

<p>
<span
      class="fbox"
      style="display:inline-block ; border:1pt solid #000000; padding:3pt ; color:#000000"
>
<a href="formula_sheet_02.png" target="_blank" ><img
      src="formula_sheet_02.png"
      style="
      width:434pt;
      "
      class="inlineimage"
      alt="(Part 2 page 1 of the formula sheet)"
></a></span>
</p>
</div>
<div class="center">

<p>
<span
      class="fbox"
      style="display:inline-block ; border:1pt solid #000000; padding:3pt ; color:#000000"
>
<a href="formula_sheet_03.png" target="_blank" ><img
      src="formula_sheet_03.png"
      style="
      width:434pt;
      "
      class="inlineimage"
      alt="(Part 2 page 2 of the formula sheet)"
></a></span>
</p>
</div>
<a id="notes_2-autofile-last"></a>
</section>

</main>

</div>

<footer>

<p>
Copyright Nic Freeman, Sheffield University, last updated September 14, 2023
</p>

</footer>



<nav class="botnavigation"><a href="notes_2.html" class="linkhome" >
Home</a></nav>

</body>
</html>
